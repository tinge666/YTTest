window.__require=function t(e,i,n){function a(s,c){if(!i[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!c&&h)return h(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+s+"'")}}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){return a(e[s][1][t]||t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)a(n[s]);return a}({AgainSign:[function(t,e,i){"use strict";cc._RF.push(e,"d32ccY6RjdM/ZlzOQfYAc70","AgainSign"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,content:cc.Node,effectTime:.4,scaleEaseValue:.8,needInputLayer:!0,ray:cc.Node,getBtnSp:cc.Sprite,shareGetSf:cc.SpriteFrame,videoGetSf:cc.SpriteFrame},onLoad:function(){this.refresh()},start:function(){},show:function(){var t=this;this.needInputLayer&&(this._inputLayer?this._inputLayer.active=!0:this._addInputLayer()),GameMng.startLy&&GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!1),this.bg.opacity=0,this.bg.runAction(cc.fadeTo(this.effectTime,200)),this.content.scale=0,this.content.runAction(cc.sequence(cc.scaleTo(this.effectTime,1).easing(cc.easeElasticOut(this.scaleEaseValue)),cc.callFunc(function(){t.content.scale=1,t._inputLayer&&(t._inputLayer.active=!1)}))),this.ray.runAction(cc.repeatForever(cc.rotateBy(2,90)))},hide:function(){var t=this;this._inputLayer&&(this._inputLayer.active=!0),GameMng.startLy&&GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!0),this.content.runAction(cc.sequence(cc.fadeTo(.1,0),cc.callFunc(function(){t.node.destroy()})))},_addInputLayer:function(){var t=new cc.Node("input");t.position=cc.v2(0,0),t.width=this.node.width,t.height=this.node.height,t.addComponent(cc.BlockInputEvents),this.node.addChild(t,10),this._inputLayer=t},refresh:function(){this.getFuncType=WxSDK.getOtherGetFunc(GainPos.AddedBonus),this.getBtnSp.spriteFrame=this.getFuncType==GainFuncType.SHARE?this.shareGetSf:this.videoGetSf},clickAgainBtn:function(){var t=this;this.getFuncType===GainFuncType.VIDEO?PlatfromMgr.hasVideo()?PlatfromMgr.showVideo(function(e){e?(t.node.parent.emit("againSignSuccess"),t.hide()):ToastMng.showToast("After watching the full video, you can get it.!",1.8)},function(){t.refresh(),ToastMng.showToast("video fail!",1.8)}):(this.refresh(),ToastMng.showToast("video fail!",1.8)):this.getFuncType===GainFuncType.SHARE?WxSDK.propShare(PropType.SIGN,function(e){t.node.parent.emit("againSignSuccess"),t.hide()},function(){},function(){GameDataHandler.Instant.shareTimes++}):(this.refresh(),ToastMng.showToast("video fail!",1.8))},onClickCloseBtn:function(){this.hide(),this.node.parent.emit("againSignClosed")},onEnable:function(){cc.systemEvent.emit("updateBanner",{in:1,show:1,bannerY:-400,window:"signAgain"})},onDisable:function(){cc.systemEvent.emit("updateBanner",{})}}),cc._RF.pop()},{}],ArrayCovert:[function(t,e,i){"use strict";cc._RF.push(e,"a9cf1ATI6xDR4/i9zUmfCpY","ArrayCovert");var n=Array.prototype;n.clear=function(){this.splice(0,this.length)},n.clone=function(){return this.slice()},n.getRandomItems=function(t){for(var e=[],i=this.clone(),n=0;n<t;++n){var a=Math.getRandomInt(0,this.length);e.push(i.removeAt(a))}return e},n.getRandomOne=function(){return this[Math.getRandomInt(0,this.length)]},n.add=function(t){return this.push(t)},n.addRange=function(t){return this.concat(t)},n.insert=function(t,e){this.splice(t,0,e)},n.removeAt=function(t){return this.splice(t,1)},n.remove=function(t){var e=this.indexOf(t);if(e>-1)return this.removeAt(e)},n.removeRange=function(t,e){return this.splice(t,e)},n.removeAll=function(t){for(var e=this.filter(t),i=0;i<e.length;i++)this.remove(e[i])},n.concats=function(t){return this.indexOf(t)>-1},n.distinct=function(){return[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(Set(this)))},cc._RF.pop()},{}],AudioMng:[function(t,e,i){"use strict";cc._RF.push(e,"1e0f6wFbIpLr4ozo29hWvTc","AudioMng");var n="pause",a="stop",o="setVolume",s="setLoop";window.AudioOpObjType={All:0,Effect:1,Music:2};var c=cc.Class({name:"audioObj",properties:{key:"NotName",value:{type:cc.Asset,default:null}}});cc.Class({extends:MngBase,properties:{volume:1,effectState:{get:function(){return this._effectState},set:function(t){this._effectState=t,LocalStorageUtils.Instant.setData("_canEffect",t)},visible:!1},musicState:{get:function(){return this._musicState},set:function(t){this._musicState=t,LocalStorageUtils.Instant.setData("_canMusic",t)},visible:!1},shakeState:{get:function(){return this._shakeState},set:function(t){this._shakeState=t,LocalStorageUtils.Instant.setData("_canShake",t)},visible:!1},effectResArray:{default:[],type:[c]},musicResArray:{default:[],type:[c]}},onLoad:function(){void 0===window.AudioMng&&(window.AudioMng=this),this.effectIDPool=new Map,this.musicIDPool=new Map,this.effectResMap=new Map,this.musicResMap=new Map,this.objArrayConvertMay(this.effectResArray,this.effectResMap),this.objArrayConvertMay(this.musicResArray,this.musicResMap),this.checkLocalSetting()},start:function(){},onDestroy:function(){},checkLocalSetting:function(){this._effectState=LocalStorageUtils.Instant.getData("_canEffect",!0),this._musicState=LocalStorageUtils.Instant.getData("_canMusic",!0),this._shakeState=LocalStorageUtils.Instant.getData("_canShake",!0)},play:function(t,e,i,n,a){var o=!0,s=FileUtils.Instant.getSoundByName(e);if(s){e=s.name;var c=this.getIDPoolByType(t);if(i>0){var r=0;c.forEach(function(t){t.name==e&&++r}),o=r<i}if(o){var h=cc.audioEngine.play(s,n,a);c.set(h,{name:e,volume:a,loop:n}),n||cc.audioEngine.setFinishCallback(h,function(){c.delete(h)})}}},playEffect:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.effectState&&this.play(AudioOpObjType.Effect,t,e,i,n)},playMusic:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.musicState&&this.play(AudioOpObjType.Music,t,e,i,n)},getIDPoolByType:function(t){switch(t){case AudioOpObjType.Music:return this.musicIDPool;case AudioOpObjType.Effect:return this.effectIDPool;default:return null}},getResMayByType:function(t){switch(t){case AudioOpObjType.Music:return this.musicResMap;case AudioOpObjType.Effect:return this.effectResMap;default:return null}},getCurMusic:function(){return this.getIDPoolByType(AudioOpObjType.Music)},pauseAll:function(){var t=this;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:AudioOpObjType.Effect){case AudioOpObjType.Effect:break;case AudioOpObjType.Music:this.musicIDPool.forEach(function(e,i){t.opAudioID({objType:AudioOpObjType.Music,audioID:i,opType:n})});break;case AudioOpObjType.All:cc.audioEngine.pauseAll()}},resumeAll:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:AudioOpObjType.Effect){case AudioOpObjType.Effect:break;case AudioOpObjType.Music:cc.audioEngine.resumeAll();break;case AudioOpObjType.All:cc.audioEngine.resumeAll()}},stopAll:function(){var t=this;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:AudioOpObjType.Effect){case AudioOpObjType.Effect:this.effectIDPool.forEach(function(e,i){t.opAudioID({objType:AudioOpObjType.Effect,audioID:i,opType:a})});break;case AudioOpObjType.Music:this.musicIDPool.forEach(function(e,i){t.opAudioID({objType:AudioOpObjType.Music,audioID:i,opType:a})});break;case AudioOpObjType.All:cc.audioEngine.stopAll(),this.musicIDPool.clear(),this.effectIDPool.clear()}},opAudioID:function(t){if(void 0!==t&&void 0!==t.audioID){var e=this.getIDPoolByType(t.objType);if(e){var i=e.get(t.audioID);if(void 0===i)return;switch(t.opType){case o:t.volume&&i.volume!=t.volume&&(cc.audioEngine.setVolume(t.audioID,t.volume),i.volume=t.volume);break;case s:t.loop&&i.loop!=t.loop&&(cc.audioEngine.setLoop(t.audioID,t.loop),i.loop=t.loop);break;default:cc.audioEngine[t.opType](t.audioID),t.opType==a&&e.delete(t.audioID)}}}}}),cc._RF.pop()},{}],Bg:[function(t,e,i){"use strict";cc._RF.push(e,"70237YZn6JDDY+HM6ecEp7O","Bg"),cc.Class({extends:cc.Component,properties:{particle:cc.ParticleSystem},onLoad:function(){},start:function(){},initTopBottom:function(){this.top.height*=Constant.visibleScale.hScale,this.bottom.height*=Constant.visibleScale.hScale,this.top.y=.5*(-this.top.height+Constant.visibleSize.height),this.bottom.y=.5*-(-this.bottom.height+Constant.visibleSize.height)},initBamboo:function(){this.bamboo1=cc.instantiate(PrefabMng.getPrefabByName("bamboo")).getComponent("DragonBonesBase"),this.bamboo2=cc.instantiate(PrefabMng.getPrefabByName("bamboo")).getComponent("DragonBonesBase");var t=this.bamboo1.node,e=this.bamboo2.node;e.scale=t.scale=Constant.visibleScale.hScale,t.scaleX*=-1;var i=370*(Constant.visibleScale.hScale-1),n=20*Constant.visibleScale.hScale;e.position=cc.v2(i,-n),t.position=cc.v2(-i,-n),this.node.addChild(t,-1),this.node.addChild(e,-1),this.playStartAnim()},playStartAnim:function(){this.bamboo1.playAnimation("newAnimation",0,.8),this.bamboo2.playAnimation("newAnimation",0,.8)}}),cc._RF.pop()},{}],CCConvert:[function(t,e,i){"use strict";cc._RF.push(e,"d1539NBAwdLz6nKUGAQJCCG","CCConvert"),cc.Node.prototype.pauseSelf=function(){this.getNumberOfRunningActions()>0&&this.pauseAllActions();var t=this.getComponent(cc.Animation);t&&t.pause(),this.pauseSystemEvents(!0)},cc.Node.prototype.resumeSelf=function(){this.getNumberOfRunningActions()>0&&this.resumeAllActions();var t=this.getComponent(cc.Animation);t&&t.resume(),this.resumeSystemEvents(!0)},cc.Button.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&(this._pressed&&(cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",this)),this._pressed=!1,this._updateState(),t.stopPropagation())},cc.Button.prototype._onTouchBegan=function(t){this.interactable&&this.enabledInHierarchy&&(this._pressed=!0,this._updateState(),t.stopPropagation(),AudioMng.playEffect("btn"))},Object.defineProperty(cc.Node.prototype,"angle",{get:function(){return-this.rotation},set:function(t){this.rotation=-t},configurable:!0}),cc._RF.pop()},{}],CCLabelChange:[function(t,e,i){"use strict";cc._RF.push(e,"bd30eS90uRFULhNtZO+8ZFH","CCLabelChange"),cc._RF.pop()},{}],CanvasFit:[function(t,e,i){"use strict";cc._RF.push(e,"5cf3b1GA65MU4Vzie7A691O","CanvasFit"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.doFit()},doFit:function(){var t=cc.view.getVisibleSize(),e=cc.view.getDesignResolutionSize();t.width/t.height<e.width/e.height?(console.log("\u6bd4\u8bbe\u8ba1\u7684(w/h)\u7684\u503c\u5927\uff0c\u5219\u9002\u914d\u5bbd"),this.node.getComponent(cc.Canvas).fitWidth=!0,this.node.getComponent(cc.Canvas).fitHeight=!1):(console.log("\u6bd4\u8bbe\u8ba1\u7684(w/h)\u7684\u503c\u5c0f\uff0c\u5219\u9002\u914d\u5bbd"),this.node.getComponent(cc.Canvas).fitWidth=!1,this.node.getComponent(cc.Canvas).fitHeight=!0)}}),cc._RF.pop()},{}],ColliderBase:[function(t,e,i){"use strict";cc._RF.push(e,"b4bfa7VQ3NNQabWWrT0LOsU","ColliderBase"),cc.Class({}),cc._RF.pop()},{}],ColliderMng:[function(t,e,i){"use strict";cc._RF.push(e,"c6b6bDR8dpLDaI5XKi1GzFF","ColliderMng"),cc._RF.pop()},{}],CommonNode:[function(t,e,i){"use strict";cc._RF.push(e,"10d04/ew9lKn5EMmEYf2k4Y","CommonNode");var n=cc.Class({extends:cc.Component,statics:{Instant:null},properties:{switchLayer:t("SwitchNode")},onLoad:function(){n.Instant=this},start:function(){},loadScene:function(t,e,i){var n;(n=this.switchLayer).loadScene.apply(n,arguments)}});window.CommonNode=e.exports=n,cc._RF.pop()},{SwitchNode:"SwitchNode"}],Common:[function(t,e,i){"use strict";cc._RF.push(e,"5b524TY+1VD9pNdKSQg6Txj","Common"),window.isTest=!1,window.logTest=isTest?console.log:function(){},window.Global={getTargetPos:function(t,e,i){var n=e.convertToWorldSpaceAR(t);return i.convertToNodeSpaceAR(n)},getNodePos:function(t,e){var i=t.parent.convertToWorldSpaceAR(t.position);return e.convertToNodeSpaceAR(i)},showToast:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc.size(50,50),arguments.length>2&&void 0!==arguments[2]?arguments[2]:cc.Color.YELLOW;var e=cc.instantiate(ToastMng.toastList[0]);cc.find("Canvas").addChild(e),e.name="mainToast",e.getComponent("ToastBase").showToast(t)},getLocalData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=LocalStorageUtils.Instant.getData(t);return!i&&e&&(i=e,this.setLocalData(t,e)),i},setLocalData:function(t,e){logTest("setLocalData ",t,e),LocalStorageUtils.Instant.setData(t,e)},loadImage:function(t,e,i){var n=t.getComponent(cc.Sprite)||t;if("undefined"!=typeof wx){var a=e+"?a=a.png",o=wx.createImage();o.onload=function(){var t=new cc.Texture2D;t.initWithElement(o),t.handleLoadedTexture(),n.spriteFrame=new cc.SpriteFrame(t),i&&i()},o.src=a,console.log(a)}},generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,a=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&n|128]+t[n>>8&255]+"-"+t[n>>16&255]+t[n>>24&255]+t[255&a]+t[a>>8&255]+t[a>>16&255]+t[a>>24&255]).toUpperCase()}}(),getSimpleUrl:function(t){return t.split("/").pop()},getInterval:function(t,e){return e=void 0==e?(new Date).getTime():e,Math.abs(t-e)/864e5},extendProperties:function(t,e){for(var i in e)t[i]=e[i]},deepCopy:function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]instanceof Array?e[i]=this.deepCopy(t[i]):e[i]=t[i];return e},createBySpriteFrame:function(t){var e=(new cc.Node).addComponent(cc.Sprite);return e.spriteFrame=t,e},getRandControl2:function(t){logTest("chance ",t);var e=!0;if(t<=0)e=!1;else if(t<1){var i=(t+"").split("."),n=i[1].length,a=parseInt(i[1]),o=Math.pow(10,n);logTest("getRandControl"+o),e=this.getRand({max:o,min:0})<a}return e},getRand2:function(t){var e=t.max-t.min,i=Math.getRandomInt()%e;return t.min+i},getRandShareStr:function(t){var e=Constant.shareStr[t],i=void 0;if(e){var n=e.length;n>0&&(i=e[Math.getRandomInt()%n])}return i||"NotTitle"},swingAc:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;void 0!==e&&(t.rotation=e),t.runAction(cc.repeatForever(cc.sequence(cc.delayTime(n),cc.rotateTo(.07,-i),cc.rotateTo(.07,i),cc.rotateTo(.07,-i),cc.rotateTo(.07,i),cc.rotateTo(.07,-i),cc.rotateTo(.07,i),cc.rotateTo(.07,0))))},vibrate:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];AudioMng.shakeState&&PlatformMgr.vibrate(t)}},cc._RF.pop()},{}],Constant:[function(t,e,i){"use strict";cc._RF.push(e,"7936aOm6yNEO7Ffcd/ZiDGu","Constant"),window.Constant={shareIconPath:"other/share.png",rankTitleList:["\u521d\u5b66\u5f1f\u5b50","\u6c5f\u6e56\u65b0\u79c0","\u6c34\u679c\u5fcd\u8005","\u6c5f\u6e56\u8c6a\u4fa0","\u4e00\u6d3e\u638c\u95e8","\u4e00\u4ee3\u5b97\u5e08","\u795e\u96d5\u5927\u4fa0","\u6b66\u6797\u76df\u4e3b","\u72ec\u5b64\u6c42\u8d25"],fruitInfo:[{id:0,size:[50,55],fruitName:"strawberry"},{id:1,size:[60,60],fruitName:"orange"},{id:2,size:[72,72],fruitName:"watermelon"},{id:3,size:[62,62],fruitName:"apple"},{id:4,size:[70,70],fruitName:"dragonfruit"},{id:5,size:[53,53],fruitName:"lemon"},{id:6,size:[50,71],fruitName:"pear"},{id:7,size:[71,75],fruitName:"pineapple"}],fruitNameList:["strawberry","orange","watermelon","apple","dragonfruit","lemon","pear","pineapple"],fruitSpineList:["dragonfruit","lemon","apple","orange","pineapple","watermelon"],shareStr:{propShare:["\u5f00\u5c40\u4e00\u628a\u5200\uff0c\u88c5\u5907\u5168\u9760\u9556"],scoreShare:["\u5c0f\u4f19\u5b50\u4f60\u90a3\u4ec0\u4e48\u5200\uff0c\u6765\u6311\u4e00\u4e0b\uff1f"],otherShare:["\u8499\u773c\u98de\u9556\uff0c\u6807\u5230\u4ec0\u4e48\u7ed9\u4ec0\u4e48"]},turntableGiftList:[[{id:0,type:"coin",rotations:[0,54],value:20},{id:1,type:"coin",rotations:[54,90],value:50},{id:2,type:"coin",rotations:[90,162],value:10},{id:3,type:"knife",rotations:[162,180],value:-1},{id:4,type:"coin",rotations:[180,234],value:20},{id:5,type:"coin",rotations:[234,270],value:100},{id:6,type:"coin",rotations:[270,324],value:10},{id:7,type:"coin",rotations:[324,360],value:80}],[{id:0,type:"knife",rotations:[0,54],value:5},{id:1,type:"knife",rotations:[54,90],value:10},{id:2,type:"knife",rotations:[90,162],value:3},{id:3,type:"knife",rotations:[162,180],value:-1},{id:4,type:"knife",rotations:[180,234],value:5},{id:5,type:"knife",rotations:[234,270],value:30},{id:6,type:"knife",rotations:[270,324],value:3},{id:7,type:"knife",rotations:[324,360],value:15}]],visibleSize:cc.size(720,1280),visibleScale:{wScale:1,hScale:1}},e.exports=Constant,cc._RF.pop()},{}],DataHandler:[function(t,e,i){"use strict";cc._RF.push(e,"62fdcEGZBJIWLFcfcAY2fOE","DataHandler");var n=t("LocalStorageUtils");cc.Class({extends:t("Singleton"),properties:{_configRelativeURL:null,_jsonConfigRelativeURL:null,_configTableURL:null,_config:null,_localData:null},loadJsonConfig:function(){if(null!=this._jsonConfigRelativeURL){var t=FileUtils.Instant.getConfigByName(this._jsonConfigRelativeURL);this.onLoadConfig(t)}else this.onLoadConfig(null)},loadConfig:function(){if(null!=this._configRelativeURL){var e=t(this._configRelativeURL);this.onLoadConfig(e)}else this.onLoadConfig(null)},onLoadConfig:function(t){this._config=t,this._config&&this._config.tableData&&Object.keys(this._config.tableData).length>0&&this.initLocalData(this._config.tableData,!0)},initLocalData:function(t,e){this._localData=n.Instant.initData(this._configTableURL,t),e&&this.mergeProperty(t)},resetData:function(t){this._localData=n.Instant.resetData(this._configTableURL,t)},getConfig:function(){return this._config},getConfigByKey:function(t){return this._config[t]},mergeProperty:function(t){var e=this,i=function(t){e.hasOwnProperty(t)||Object.defineProperty(e,t,{get:function(){return this.getLocalData(t)},set:function(e){this.setLocalData(t,e)},configurable:!0})};for(var n in t)i(n)},getLocalData:function(t){return this._localData[t]},setLocalData:function(t,e){this._localData[t]=e},saveData:function(){n.Instant.setData(this._configTableURL,this._localData)},getData:function(){return n.Instant.getData(this._configTableURL,this._localData)}}),cc._RF.pop()},{LocalStorageUtils:"LocalStorageUtils",Singleton:"Singleton"}],DataLoading:[function(t,e,i){"use strict";cc._RF.push(e,"07bbarI599OvqgZnHSbqNn4","DataLoading"),cc.Class({extends:cc.Component,properties:{titleLb:cc.Label,loadingNd:cc.Node},onLoad:function(){this.loadingNd.runAction(cc.repeatForever(cc.rotateBy(1,360)))},show:function(t){this.node.active=!0,t&&t.txt&&(this.titleLb.string=t.txt)}}),cc._RF.pop()},{}],Define:[function(t,e,i){"use strict";cc._RF.push(e,"beb55UejdVAoape31Eik4ig","Define"),window.Define={},window.NotificationMsg={LOAD_OVER:"load_over",PERCENT_CHANGE:"percent_change",SOUNDSTATE_CHANGE:"soundState_change",KNIFESTATE_CHANGE:"knifeState_change",LAYER_CHANGE:"layer_face_change",POP_SHOW:"POP_SHOW",POP_HIDE:"POP_HIDE",SCORE_CHANGE:"score_change",BESTSCORE_CHANGE:"bestScore_change",PROP_UPDATE:"prop_update",REMOVE_FRUIT_ITEM:"remove_fruit_item",ON_SHOW:"on_show"},window.PathMap={MngBase:t("../../base/MngBase")},window.LayerState={LOADING:"loading",START:"start",GAME:"game",SKIN:"skin",LEVEL:"level",GAME_OVER:"gameOver"},window.GameState={GAME_PREPARE:"gamePrepare",GAME_FLYING:"gameFlying",GAME_ING:"gameIng",GAME_OVER:"gameOver",GAME_PAUSE:"gamePause"},window.PopState={RANK:"rank",PAUSE:"pause",EDITNAME:"editname",PROP_BOX:"propBox",RESULT:"result",FAIL:"fail",WIN:"win",SETTING:"setting"},window.PropType={NOT:0,REVIVE:1,SCALE:2,SKIN:3,COIN:4,THREE:5,ADDEDBONUS:6,SIGN:7},window.ZValueType={BG:0,OBSTACLE:1,ROLE:2,BG_FRONT:3,UI:10,POP:15},window.SharePos={NOT:-1,SYSTEM:222,RANK:223,SKIN:224,SCALE_POP:225,REVIVE:226,ADDEDBONUS:227,SKIN_POP:228,THREE_POP:229,SCORE:230,START:231,SIGN:232,PDD:293},window.GainPos={Scale:"gainPos_1_data",PageRandom:"gainPos_2_data",NewSkin:"gainPos_3_data",AddedBonus:"gainPos_4_data",Revive:"gainPos_5_data",Three:"gainPos_6_data",PddShow:"pddShow"},window.ShareGroupState={State1:1,State2:2,State3:3,State4:4,State5:5},window.ShareToastStr={1:"\u5206\u4eab\u6210\u529f!",2:"\u5206\u4eab\u5931\u8d25!",3:"\u4e0d\u80fd\u5206\u4eab\u5230\u91cd\u590d\u7fa4\u54e6!",4:"\u83b7\u53d6\u7fa4\u6570\u636e\u5931\u8d25\u4e86!",5:"\u9700\u8981\u5206\u4eab\u5230\u7fa4\u54e6!"},window.RankType={MyRank:0,FriendsRank:1,GroupRank:2,Beyond:3,World:4,NotRank:5},window.EffectList={strawberry:0,orange:1,watermelon:2,apple:3,dragonfruit:4,lemon:5,pear:6,pineapple:7},window.showCoinType={LevelAddCoin:"levelAddCoin",TotalCoin:"totalCoin"},window.EffectType=cc.Enum(EffectList),window.IsWx=void 0!==window.wx,window.CreateVersion="2.0.5",e.exports=Define,cc._RF.pop()},{"../../base/MngBase":"MngBase"}],Dot:[function(t,e,i){"use strict";cc._RF.push(e,"fb831cWe45GP60Wa+etRDRN","Dot");var n=t("PoolNodeBase");cc.Class({extends:n,properties:{}}),cc._RF.pop()},{PoolNodeBase:"PoolNodeBase"}],DragonBonesBase:[function(t,e,i){"use strict";cc._RF.push(e,"5ab68aj/BdLbot1BuUjQwCy","DragonBonesBase"),cc.Class({extends:t("PoolNodeBase"),properties:{},onLoad:function(){this._initAnimation()},_initAnimation:function(){this.animation=this.node.getComponent(dragonBones.ArmatureDisplay),this.armature=this.animation.armature(),this.aniState=null},playAnimation:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=void 0;if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){var a=this.aniState?this.aniState.currentTime:0,o=(this.aniState?this.aniState.totalTime:0)-a;n=this.armature.animation.gotoAndPlayByTime(t,o,e)}else n=this.armature.animation.fadeIn(t,0,e,0);this.aniState=n,n.timeScale=i}}),cc._RF.pop()},{PoolNodeBase:"PoolNodeBase"}],EditNamePop:[function(t,e,i){"use strict";cc._RF.push(e,"77144ywWRBD1Zqj9ohIAbsW","EditNamePop");var n=t("PopLayerBase");cc.Class({extends:n,properties:{nameLb:cc.EditBox,windowWidget:cc.Widget},start:function(){this.node.zIndex=101,"unnamed"==GameDataHandler.Instant.nickName&&(GameDataHandler.Instant.nickName=null),this.nameLb.string=GameDataHandler.Instant.nickName||"",cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","hideBanner","()V")},_closeOver:function(){n.prototype._closeOver.call(this),this.node.destroy(),this.callback&&GameDataHandler.Instant.nickName&&this.callback()},close:function(){n.prototype.close.call(this),GameMng.removePopLy(this),PlatformMgr.showBanner()},init:function(t){this.callback=t},clickBtn:function(t,e){switch(PlatformMgr.showButtonIntAd(),t.currentTarget.scale=1,e){case"sure":var i=this.nameLb.string;i.length>2&&"unnamed"!=i?(GameDataHandler.Instant.nickName=this.nameLb.string,GameMng.startLy.nickLb.string=this.nameLb.string,this.close()):ToastMng.showToast("The nickname must be more than 2 characters");break;case"cancel":this.close()}},onEditingDidBegan:function(){this.windowWidget.isAlignBottom=!0,this.windowWidget.bottom=120,this.windowWidget.updateAlignment()},onEditingDidEnded:function(){this.windowWidget.isAlignVerticalCenter=!0,this.windowWidget.verticalCenter=0,this.windowWidget.updateAlignment()},pressClose:function(){this.close()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase"}],EffectLy:[function(t,e,i){"use strict";cc._RF.push(e,"da90fe8DPpMJ4wjA+xwRg/6","EffectLy"),cc.Class({extends:cc.Component,properties:{failAnim:cc.Animation,startAnim:cc.Animation},onLoad:function(){var t=this;Constant.fruitNameList.forEach(function(e){t[e+"_piece"]=new My.NodePool("PoolNodeBase")}),Constant.fruitSpineList.forEach(function(e){e=t.getResName(e),t[e+"_dragonBones"]=new My.NodePool("DragonBonesBase"),t[e+"_yeti"]=new My.NodePool("PoolNodeBase")})},start:function(){this.pieceDstPos=Global.getNodePos(GameMng.plateLy.plate,this.node),this.pieceDstPos.y+=30},playEffect:function(t,e){this.playAudioEffect(t),this.playFlyingPiece(t,e),this.playBlastFruitAnim(t,e),this.playYetiAnim(t,e),this.playShakeEffect()},playShakeEffect:function(){Global.vibrate(!1)},playAudioEffect:function(t){switch(t){case"strawberry":t="watermelon";break;case"pear":t="apple";break;case"pineapple":t="orange"}AudioMng.playEffect(t,5)},playFlyingPiece:function(t,e){var i=this.createFruitPieceByPool(t),n=this.createFruitPieceByPool(t);i.stopAllActions(),n.stopAllActions(),n.angle=i.angle=0,i.scaleX=-1,n.scaleX=1,i.position=cc.v2(e.x+.5*i.width,e.y),n.position=cc.v2(e.x-.5*n.width,e.y);var a=cc.v2(this.pieceDstPos.x,this.pieceDstPos.y+GameMng.plateLy.plateH+30);i.runAction(cc.spawn(cc.rotateBy(.7,360*(Math.random()+.3)),cc.sequence(cc.jumpBy(.4,n.width+40,-100,170,1),cc.moveTo(.3,cc.v2(a))))),n.runAction(cc.spawn(cc.rotateBy(.7,360*-(Math.random()+.3)),cc.sequence(cc.jumpBy(.4,40-n.width,-100,170,1),cc.moveTo(.3,cc.v2(a)),cc.callFunc(function(){GameMng.plateLy.playAddPieceAnim(t),i.getComponent("PoolNodeBase").remove(),n.getComponent("PoolNodeBase").remove()}))))},playBParticle:function(t,e){t=this.getResName(t);var i=cc.instantiate(FileUtils.Instant.getPrefabByName(t+"_particle"));i.position=e,this.node.addChild(i,110)},playBlastFruitAnim:function(t,e){var i=this.createDBAnimByPool(t);i.position=e;var n=i.getComponent("DragonBonesBase");n.playAnimation("newAnimation",1,2),this.scheduleOnce(function(){n.remove()},.6)},playYetiAnim:function(t,e){var i=this.getYetiAnimNode(t);i.position=e,i.angle=360*Math.random(),i.scale=.8+.4*Math.random();var n=i.getComponent(cc.Animation);n.play(),this.scheduleOnce(function(){i.name="",i.stopAllActions(),n.pool.put(i)},1)},getYetiAnimNode:function(t){var e=this[(t=this.getResName(t))+"_yeti"],i=e.get();i||((i=cc.instantiate(FileUtils.Instant.getPrefabByName("VFX_"+t+"_yeti"))).getComponent(cc.Animation).pool=e,this.node.addChild(i));return i},createDBAnimByPool:function(t){var e=this[(t=this.getResName(t))+"_dragonBones"],i=e.get();return i||(i=this.createFruitDBAnimeByPf(t,e)),i},createFruitDBAnimeByPf:function(t,e){var i=cc.instantiate(FileUtils.Instant.getPrefabByName(t+"_ske"));return i.getComponent("DragonBonesBase").pool=e,this.node.addChild(i,110),i},createFruitPieceByPool:function(t){var e=this[t+"_piece"],i=e.get();return i||(i=this.createFruitPieceByPf(t,e)),i},createFruitPieceByPf:function(t,e){var i=cc.instantiate(PrefabMng.getPieceByName(t));return i.getComponent("PoolNodeBase").pool=e,this.node.addChild(i,111),i},getResName:function(t){return t="strawberry"===t?"watermelon":"pear"===t?"apple":"lemon"===t?"pineapple":t},playFailEffect:function(t){var e=this;this.failAnim.node.active=!0,this.failAnim.play(),this.scheduleOnce(function(){t&&t(),e.failAnim.node.active=!1},.9)},playStartEffect:function(t){var e=this;this.startAnim.node.getChildByName("text1").getComponent(cc.Label).string="Level "+GameDataHandler.Instant.curMission,this.startAnim.node.active=!0,this.startAnim.play(),this.scheduleOnce(function(){e.startAnim.node.active=!1},1),this.scheduleOnce(function(){t&&t()},.5)}}),cc._RF.pop()},{}],ExitPop:[function(t,e,i){"use strict";cc._RF.push(e,"1e52fATgxFJuZVR4wia/i2m","ExitPop");var n=t("PopLayerBase");cc.Class({extends:n,properties:{},_closeOver:function(){n.prototype._closeOver.call(this),this.endCf&&this.endCf(),this.node.destroy()},close:function(){n.prototype.close.call(this),GameMng.removePopLy(this)},update:function(){},clickBtn:function(t,e){switch(t.currentTarget.scale=1,e){case"no":PlatformMgr.showVideoGiftAd(),this.close();break;case"yes":PlatformMgr.showExitIntAd(),this.close()}},pressClose:function(){this.close()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase"}],FailPop2:[function(t,e,i){"use strict";cc._RF.push(e,"c700f7/lzpDU4JEAcHLApAl","FailPop2");t("sdk");var n=t("WxSDK"),a=t("PopLayerBase");cc.Class({extends:a,properties:{needCoinLb:cc.Label,timeLb:cc.Label,reviveBtn:cc.Node,fl_revive_freeSf:cc.SpriteFrame,fl_revive_videoSf:cc.SpriteFrame,fl_revive_coinSf:cc.SpriteFrame},onLoad:function(){a.prototype.onLoad.call(this),this.reviveType=GainFuncType.NOT},show:function(){PlatformMgr.hideBanner(),a.prototype.show.call(this),this.enableTimeUpdate=!0,this.time=10,this.timeLb.string=this.time,this.timeUpdate(),GameMng.refreshCoinFace(showCoinType.TotalCoin),this.refreshState(),this.geting=!1},close:function(){GameMng.removePopLy(this),a.prototype.close.call(this),PlatformMgr.showBanner(),GameMng.showLiDaoBtn.active=n.canShowGainPos(GainPos.Three)},_closeOver:function(){a.prototype._closeOver.call(this),this.closeCf&&this.closeCf(),this.node.destroy()},timeUpdate:function(){var t=this;this.enableTimeUpdate&&(this.time<=0?this.skip():(this.timeLb.string=this.time,this.time--)),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.timeUpdate()})))},reviveByVideo:function(){var t=this;PlatformMgr.hasVideo()?PlatformMgr.showVideo(function(e){e?t.revive():(t.refreshState(),t.geting=!1,t.enableTimeUpdate=!0)},function(){ToastMng.showToast("Watching video failed!",2),t.refreshState(),t.geting=!1,t.enableTimeUpdate=!0}):(ToastMng.showToast("Watching video failed!",2),this.enableTimeUpdate=!0,this.geting=!1,this.refreshState())},reviveByShare:function(){var t=this;n.propShare2(PropType.REVIVE,function(e){t.revive()},function(){t.enableTimeUpdate=!0,t.geting=!1,t.refreshState()},function(){GameDataHandler.Instant.shareTimes++},function(){t.enableTimeUpdate=!0,t.geting=!1})},reviveByCoin:function(){this.geting=!1,GameDataHandler.Instant.updateCoin(-GameDataHandler.Instant.reviveNeedCoin),this.revive()},refreshState:function(){switch(this.reviveType=n.getReviveGetFunc(),this.needCoinLb.node.active=!1,this.reviveBtn.stopAllActions(),this.reviveBtn.scale=1,this.reviveType){case GainFuncType.SHARE:this.reviveBtn.getComponent(cc.Sprite).spriteFrame=this.fl_revive_freeSf;break;case GainFuncType.VIDEO:this.reviveBtn.getComponent(cc.Sprite).spriteFrame=this.fl_revive_videoSf;break;case GainFuncType.COIN:this.needCoinLb.node.active=!0,this.needCoinLb.string=GameDataHandler.Instant.reviveNeedCoin,this.reviveBtn.getComponent(cc.Sprite).spriteFrame=this.fl_revive_coinSf;break;default:this.skip()}},skip:function(){this.close(),this.closeCf=function(){GameMng.playLy.endGame(),GameMng.plateLy.playJumpAnim(),cc.sys.platform==cc.sys.ANDROID?GameMng.toStart():GameMng.popResult()}},revive:function(){this.close(),this.closeCf=function(){GameMng.refreshCoinFace(showCoinType.LevelAddCoin),GameMng.playLy.reviveGame()}},clickReviveBtn:function(t){t.currentTarget.scale=1,this.geting||(this.enableTimeUpdate=!1,this.geting=!0,this.reviveType===GainFuncType.VIDEO?this.reviveByVideo():this.reviveType===GainFuncType.SHARE?this.reviveByShare():this.reviveType===GainFuncType.COIN?this.reviveByCoin():ToastMng.showToast("Video in preparation, try again later!",2))},clickSkipBtn:function(t){PlatformMgr.showGameOverIntAd(),t.currentTarget.scale=1,this.skip()},pressClose:function(){this.skip()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase",WxSDK:"WxSDK",sdk:"sdk"}],FailPop:[function(t,e,i){"use strict";cc._RF.push(e,"04fd18LaapJkpJpDFD/7LCS","FailPop");t("sdk");var n=t("WxSDK"),a=t("PopLayerBase");cc.Class({extends:a,properties:{needCoinLb:cc.Label,timeLb:cc.Label,reviveBtn:cc.Node},onLoad:function(){a.prototype.onLoad.call(this),this.reviveType=GainFuncType.NOT},show:function(){PlatformMgr.hideBanner(),this.node.active=!0,this.node.stopAllActions(),a.prototype.show.call(this),this.enableTimeUpdate=!0,this.time=10,this.timeLb.string=this.time,this.timeUpdate(),GameMng.refreshCoinFace(showCoinType.TotalCoin),Global.swingAc(this.reviveBtn,null,10),this.refreshState(),this.geting=!1},timeUpdate:function(){var t=this;this.enableTimeUpdate&&(this.time<=0?this.skip():(this.timeLb.string=this.time,this.time--)),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.timeUpdate()})))},reviveByVideo:function(){var t=this;PlatformMgr.hasVideo()?PlatformMgr.showVideo(function(e){e?t.revive():(t.refreshState(),t.geting=!1,t.enableTimeUpdate=!0)},function(){ToastMng.showToast("Watching video failed!",2),t.refreshState(),t.geting=!1,t.enableTimeUpdate=!0}):(ToastMng.showToast("Watching video failed!",2),this.enableTimeUpdate=!0,this.geting=!1,this.refreshState())},reviveByShare:function(){var t=this;n.propShare2(PropType.REVIVE,function(e){t.revive()},function(){t.enableTimeUpdate=!0,t.geting=!1,t.refreshState()},function(){GameDataHandler.Instant.shareTimes++},function(){t.enableTimeUpdate=!0,t.geting=!1})},reviveByCoin:function(){this.geting=!1,GameDataHandler.Instant.updateCoin(-GameDataHandler.Instant.reviveNeedCoin),this.revive()},refreshState:function(){switch(this.reviveType=n.getReviveGetFunc(),this.needCoinLb.node.active=!1,this.reviveType){case GainFuncType.SHARE:this.reviveBtn.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprFmByName("free_revive");break;case GainFuncType.VIDEO:this.reviveBtn.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprFmByName("video_revive");break;case GainFuncType.COIN:this.needCoinLb.node.active=!0,this.needCoinLb.string=GameDataHandler.Instant.reviveNeedCoin,this.reviveBtn.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprFmByName("coin_revive");break;default:this.skip()}},skip:function(){this.hide(),GameMng.playLy.endGame(),GameMng.plateLy.playJumpAnim(),cc.sys.platform==cc.sys.ANDROID?GameMng.toStart():GameMng.popResult()},revive:function(){this.hide(),GameMng.refreshCoinFace(showCoinType.LevelAddCoin),GameMng.playLy.reviveGame()},hide:function(){PlatformMgr.showBanner(),this.node.active=!1,GameMng.showLiDaoBtn.active=n.canShowGainPos(GainPos.Three)},clickReviveBtn:function(t){t.currentTarget.scale=1,this.geting||(this.enableTimeUpdate=!1,this.geting=!0,this.reviveType===GainFuncType.VIDEO?this.reviveByVideo():this.reviveType===GainFuncType.SHARE?this.reviveByShare():this.reviveType===GainFuncType.COIN&&this.reviveByCoin())},clickSkipBtn:function(t){t.currentTarget.scale=1,this.close()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase",WxSDK:"WxSDK",sdk:"sdk"}],FakeGravity:[function(t,e,i){"use strict";cc._RF.push(e,"31a3fCb6nxAhrWQt+eTt04L","FakeGravity");var n=cc.Class({name:"fgItem",properties:{node:cc.Node,z:0}});window.accListenerAdded=!1,window.accFunc=null,cc.Class({extends:cc.Component,properties:{list:[n],moveDis:12},onLoad:function(){},start:function(){window.accListenerAdded?this.startAccelerometer():(this.initAccelerometer(),this.startAccelerometer(),window.accListenerAdded=!0),this.scheduleOnce(this.setAccFunc,.5)},setAccFunc:function(){var t=this,e=this.list.map(function(t){return t.node.position.clone()});window.accFunc=function(i){var n=i.x,a=(i.y,i.z);a>0&&(a=-a,n=-n),t.list.forEach(function(i,o){i.node.stopAllActions(),i.node.runAction(cc.moveTo(.19,e[o].x+n*t.moveDis*i.z,e[o].y-(a+.5)*t.moveDis*i.z))})}},onShow:function(){this.startAccelerometer()},onHide:function(){this.stopAccelerometer()},initAccelerometer:function(){window.wx&&wx.onAccelerometerChange&&wx.onAccelerometerChange(function(t){window.accFunc&&window.accFunc(t)})},startAccelerometer:function(){window.wx&&wx.startAccelerometer&&wx.startAccelerometer()},stopAccelerometer:function(){window.wx&&wx.stopAccelerometer&&wx.stopAccelerometer()},onDestroy:function(){window.accFunc=null,this.stopAccelerometer()}}),cc._RF.pop()},{}],FeedbackBtn:[function(t,e,i){"use strict";cc._RF.push(e,"dbfc3VmH6dGaI0yIcwzFzcp","FeedbackBtn"),cc.Class({extends:cc.Component,properties:{_wxBtn:null},setNormalMode:function(t){this._normalCallback=t,t?this._wxBtn&&this._wxBtn.hide():this._wxBtn&&this._wxBtn.show()},onClick:function(){var t=this;this._normalCallback?this._normalCallback():this._wxBtn||this._getUserInfo(function(e){t.successFunc&&t.successFunc(e)},function(e){t.failFunc&&t.failFunc(e)})},onEnable:function(){this._normalCallback||this._wxBtn&&this._wxBtn.show()},onDisable:function(){this._wxBtn&&this._wxBtn.hide()},start:function(){var t=this;this.scheduleOnce(function(){t.createWxBtn()},.05)},onDestroy:function(){this._wxBtn&&this._wxBtn.destroy()}}),cc._RF.pop()},{}],"FileUtils+Loader":[function(t,e,i){"use strict";cc._RF.push(e,"4cc0aN5ZMlNtJ3EB1q7Dl+O","FileUtils+Loader");var n=t("FileUtils"),a=n.prototype,o=0;a.loadConfig=function(){var t=this;o+=15,console.time("Json\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),cc.loader.loadResDir("config",cc.TextAsset,function(e,i,n){t._initCurPercent(e/i,15)},function(e,i,a){if(e)cc.error(e);else{var s=0;i.forEach(function(t){var e=Global.getSimpleUrl(a[s]);n._resourcesData.Config[e]=t,++s}),console.log("resource ",i),t._initBasePercent(15),console.timeEnd("Json\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),t.loadTexture()}})},a.loadTexture=function(){var t=this;o+=30,console.time("\u56fe\u7247\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),cc.loader.loadResDir("texture",cc.SpriteFrame,function(e,i,n){t._initCurPercent(e/i,30)},function(e,i){if(e)return cc.error(e),void t.showModal(function(e){e.confirm&&setTimeout(function(){t.loadTexture()},1e3)});i.forEach(function(t){var e=t.name;-1===e.indexOf("_del")&&(n._resourcesData.Texture[e]=t),0}),t._initBasePercent(30),console.timeEnd("\u56fe\u7247\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),t.loadSound()})},a.loadSound=function(){var t=this;o+=20,console.time("\u58f0\u97f3\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),cc.loader.loadResDir("sound",cc.AudioClip,function(e,i,n){t._initCurPercent(e/i,20)},function(e,i,a){if(e)cc.error(e);else{var s=0;i.forEach(function(t){var e=Global.getSimpleUrl(a[s]);n._resourcesData.Sound[e]=t,++s}),t._initBasePercent(20),console.timeEnd("\u58f0\u97f3\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),t.loadFont()}})},a.loadFont=function(){var t=this;o+=15,console.time("\u5b57\u4f53\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),cc.loader.loadResDir("font",cc.Font,function(e,i,n){t._initCurPercent(e/i,15)},function(e,i){if(e)cc.error(e);else{i.forEach(function(t){var e=t.name;n._resourcesData.Font[e]=t,0}),t._initBasePercent(15),console.timeEnd("\u5b57\u4f53\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),t.loadPrefab()}})},a.loadPrefab=function(){var t=this;o+=20,console.time("\u9884\u5236\u4f53\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),cc.loader.loadResDir("prefab",cc.Prefab,function(e,i,n){t._initCurPercent(e/i,20)},function(e,i,a){if(e)cc.error(e);else{i.forEach(function(t){var e=t.name;n._resourcesData.Prefab[e]=t,0}),t._initBasePercent(20),console.timeEnd("\u9884\u5236\u4f53\u52a0\u8f7d\u5b8c\u6bd5"+o+"%,\u8017\u65f6"),t._loadComplete()}})},a._loadComplete=function(){this._isLoaded=!0,NotificationCenter.Instant.post(NotificationMsg.LOAD_OVER)},a._initCurPercent=function(t,e){if(t!=1/0&&!Object.is(t,NaN)){var i=t*e;this._curPercent=Math.max(this._basePercent+i,this._curPercent),NotificationCenter.Instant.post(NotificationMsg.PERCENT_CHANGE,Math.floor(this._curPercent))}},a._initBasePercent=function(t){this._basePercent+=t,NotificationCenter.Instant.post(NotificationMsg.PERCENT_CHANGE,Math.floor(this._basePercent))},a.loadOneConfig=function(t,e,i){console.time("Json\u52a0\u8f7d\u5b8c\u6bd5"+t+",\u8017\u65f6"),cc.loader.loadRes(t,cc.TextAsset,function(n,a){if(n)return cc.error(n),void(i&&i());e&&e(a),console.timeEnd("Json\u52a0\u8f7d\u5b8c\u6bd5"+t+",\u8017\u65f6")})},a.loadOneSpr=function(t,e,i){console.time("Json\u52a0\u8f7d\u5b8c\u6bd5"+t+",\u8017\u65f6"),cc.loader.loadRes(t,cc.SpriteFrame,function(n,a){if(n)return cc.error(n),void(i&&i());e&&e(a),console.timeEnd("Json\u52a0\u8f7d\u5b8c\u6bd5"+t+",\u8017\u65f6")})},a.showModal=function(t,e,i){"undefined"!=typeof wx&&wx.showModal({title:"\u52a0\u8f7d\u5931\u8d25",content:"\u7f51\u7edc\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u91cd\u8bd5!",showCancel:!1,cancelText:"\u53d6\u6d88",confirmText:"\u91cd\u8bd5",success:t,fail:e,complete:i})},cc._RF.pop()},{FileUtils:"FileUtils"}],FileUtils:[function(t,e,i){"use strict";cc._RF.push(e,"abf16K2fvlJ17XgOsWh8fcA","FileUtils");var n={Config:{},Texture:{},Sound:{},Prefab:{},Font:{}},a=cc.Class({extends:t("Singleton"),properties:{_curPercent:0,_basePercent:0,_isLoaded:!1},statics:{_resourcesData:n},getConfigByName:function(t){var e=n.Config[t];return e||cc.error(t+" not exist in the Config"),e},getTextureByName:function(t){var e=n.Texture[t];return e||cc.error(t+" not exist in the Texture"),e},getSoundByName:function(t){var e=n.Sound[t];return e||cc.error(t+" not exist in the Sound"),e},getPrefabByName:function(t){var e=n.Prefab[t];return e||cc.error(t+" not exist in the Prefab"),e},getFontByName:function(t){var e=n.Font[t];return e||cc.error(t+" not exist in the Font"),e}});window.FileUtils=e.exports=a,null===a.Instant&&(a.Instant=new a),cc._RF.pop()},{Singleton:"Singleton"}],FruitCollider:[function(t,e,i){"use strict";cc._RF.push(e,"74665CTr2lP26mPk1jXQ9gj","FruitCollider"),cc._RF.pop()},{}],FruitItem:[function(t,e,i){"use strict";cc._RF.push(e,"c34871jZ7dOopSdnX5kDfnq","FruitItem");var n=t("PoolNodeBase");Math.sin,Math.cos,Math.PI,Math.floor;cc.Class({extends:n,properties:{icon:cc.Sprite},init:function(t,e,i,n){this.fruitPlayLy=t,this.fruitPlayLyNode=t.node,this.knifeLy=i,this.effectLy=e,this.gmDataHd=n},refreshFace:function(t,e){this.isHitByKnife=!1,this.fruitType=t;var i=GameDataHandler.Instant.getFruitInfoByType(this.fruitType);this.fruitName=i.fruitName,this.halfItemWidth=i.size[0]/2,this.halfItemHeight=i.size[1]/2,this.icon.spriteFrame=e?GameMng.pddBtn.getComponent(cc.Sprite).spriteFrame:FileUtils.Instant.getTextureByName("w_"+this.fruitName),this.runItemRotate(),this.isPddFruit=e},runItemRotate:function(){this.node.stopAllActions(),this.delayT=2*Math.random()+.8,this.rotateTime=Math.random()/2+.5,this.rotateDegree=360*(2*Math.random()-1),this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){this.isRotating=!1}.bind(this)),cc.delayTime(this.delayT),cc.callFunc(function(){this.isRotating=!0}.bind(this)),cc.rotateBy(this.rotateTime,this.rotateDegree))))},checkCollide:function(){var t=this;if(!this.isHitByKnife){var e=this.node,i=-this.fruitPlayLyNode.angle;if(this.gmDataHd.gameState===GameState.GAME_FLYING){var n=this.fruitPlayLyNode.x,a=this.fruitPlayLyNode.y;if(0!==e.x||0!==e.y){var o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.asin(e.y/o);s=0>e.x?Math.PI+Math.asin(e.y/o):0<e.x?0>e.y?-Math.asin(e.y/o):2*Math.PI-Math.asin(e.y/o):0>e.y?.5*Math.PI:1.5*Math.PI,s+=2*Math.PI*i/360,n=o*Math.cos(s)+this.fruitPlayLyNode.x,a=-o*Math.sin(s)+this.fruitPlayLyNode.y}this.knifeLy.knifeNodeList.forEach(function(e){e.isHave&&Math.abs(e.x-n)<=t.halfItemWidth+e.hitR&&Math.abs(e.y-a)<=t.halfItemHeight+e.hitR&&(t.isHitByKnife=!0,t.remove(),t.gmDataHd.onRemoveFruit(t.fruitType),t.isPddFruit?GameMng.popPdd():t.effectLy.playEffect(t.fruitName,cc.v2(n,a)))})}}}}),cc._RF.pop()},{PoolNodeBase:"PoolNodeBase"}],FruitPlayLy:[function(t,e,i){"use strict";cc._RF.push(e,"c59c3k2lGBF7qRwHNxT0a2F","FruitPlayLy");var n=Math.sin,a=Math.cos,o=Math.PI,s=Math.floor;cc.Class({extends:cc.Component,properties:{container:cc.Node},onLoad:function(){this.fruitItemList=[],this.fruitItemPool=new My.NodePool("fruitItemPool"),this.dotList=[],this.dotPool=new My.NodePool("dotPool"),this.node.zIndex=1},init:function(t,e,i){this.gmDataHd=i,this.effectLy=t,this.knifeLy=e},update:function(t){if(this.lastRotation=-this.node.angle,this.gmDataHd.gameState===GameState.GAME_FLYING)for(var e=Math.floor(t/.016)+2,i=t/e,n=0;n<e;++n){if(this.knifeLy.updateKnifePos(i),this.gmDataHd.gameState!=GameState.GAME_FLYING)return;for(var a=this.fruitItemList.length-1;a>=0;--a)this.fruitItemList[a].getComponent("FruitItem").checkCollide()}},updateCurMission:function(t,e,i,n){this.curMission=e,this.lvIndex=i,this.itemMax=n,this.setNullAllDots(),this.updateFruitList(t)},updateFruitList:function(t){var e=this;this.fruitListType=t.fruitListType,this.rotateType=t.rotateType,this.spList=t.spList;for(var i=0,n=0;n<this.itemMax;n++)this.createFruitItem().getComponent("FruitItem").refreshFace(this.spList[i]),++i>=this.spList.length&&(i=0),this.createDot();if(this.gmDataHd.pddFrIdx){var a=this.fruitItemList[this.gmDataHd.pddFrIdx[1]];if(a){var o=a.getComponent("FruitItem");o.refreshFace(o.fruitType,!0)}this.gmDataHd.pddFrIdx=null}switch(this.fruitListType){case 0:this.showFruit9Group();break;case 1:this.showFruitCircleGroup();break;case 2:this.showFruitTriGroup();break;case 3:this.showFruitRectangleGroup();break;case 4:this.showFruit10Group();break;case 5:this.showFruit6Group();break;case 6:this.showFruitDTriGroup();break;case 7:this.showFruitGodGroup();break;case 8:this.showFruitWGroup();break;case 9:this.showFruitGGroup();break;case 10:this.showFruit1Group();break;case 11:this.showFruitNGroup();break;case 12:this.showFruitTGroup();break;case 13:this.showFruitZGroup();break;case 14:this.showFruitHGroup();break;case 15:this.showFruitVGroup();break;case 16:this.showFruit8Group();break;case 17:this.showFruit1NumGroup();break;default:this.createShape(this.fruitItemList,this.dotList,MissionDataHandler.Instant.getShapeData(this.fruitListType-18))}this.node.stopAllActions(),this.node.angle=0,this.node.y=420,this.node.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,-250)).easing(cc.easeBackOut()),cc.callFunc(function(){e.runFruitNodeAct()})))},createShape:function(t,e,i){var n=0;i.forEach(function(i){var a=cc.v2(i[0],i[1]);t[n].position=a,e[n].position=a,n++})},runFruitNodeAct:function(){this.gmDataHd.canFire=!0,this.rotateTime=6.5-.1*this.lvIndex,3>this.rotateTime&&(this.rotateTime=3),this.dirState=.5<Math.random()?1:-1;var t=this.curMission%10,e=(4===t||9===t?0:5)*this.curMission;switch(740<e&&(e=740),10>e&&(e=10),"hell"==this.gmDataHd.curMode&&(this.rotateTime=3,800<(e=40*this.curMission+300)&&(e=800)),this.rotateDegree=e+360*(.2*Math.random()+.6),this.rotateType){case 0:this.runSineInAct();break;case 1:this.runSineInOutAct();break;case 2:this.runBackInOutAct();break;case 3:this.runBounceInOutAct();break;case 4:this.runSineOutAct();break;case 5:this.runCubicActionOutAct();break;case 6:this.runCubicActionInAct();break;case 7:this.runCubicActionInOutAct();break;case 8:this.runBackInAct();break;case 9:this.runBackOutAct();break;case 10:this.runBounceInAct();break;case 11:this.runBounceOutAct();break;case 12:this.runQuinticActionInAct();break;case 13:this.runQuinticActionOutAct();break;case 14:this.runQuinticActionInOutAct();break;case 15:this.runRandomAct();break;case 16:this.runRandom1Act();break;case 17:this.runRandom2Act();break;case 18:this.runRotateAct();break;case 19:this.runRotate1Act();break;default:this.runSineInAct()}if(1<this.lvIndex){var i=50,n=1;if("hell"==this.gmDataHd.curMode&&(120<(i=60+this.lvIndex)&&(i=120),n=.5),0==this.lvIndex%2)for(var a in this.fruitItemList){var o=this.fruitItemList[a],s=this.dotList[a];if(o.x){var c=0<o.x?1:-1;this.runNodeMoveAct(o,c*i,0,-c*i,0,n),this.runNodeMoveAct(s,c*i,0,-c*i,0,n)}}else for(var a in this.fruitItemList)if(o=this.fruitItemList[a],s=this.dotList[a],o.y){var r=0<o.y?1:-1;this.runNodeMoveAct(o,0,r*i,0,-r*i,n),this.runNodeMoveAct(s,0,r*i,0,-r*i,n)}}},runNodeMoveAct:function(t,e,i,n,a,o){t.runAction(cc.repeatForever(cc.sequence(cc.moveBy(o,cc.v2(e,i)),cc.moveBy(o,cc.v2(n,a)))))},showFruit9Group:function(){this.fruitWidth=300,this.row=3;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=-this.fruitWidth/2+this.fruitWidth/2*(t%this.row),n=this.fruitWidth/2-this.fruitWidth/2*s(t/this.row);e.x=i,e.y=n;var a=this.dotList[t];a.x=i,a.y=n}},showFruitCircleGroup:function(){this.fruitWidth=160,this.row=3;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=this.fruitWidth*a(2*t*o/this.itemMax),s=this.fruitWidth*n(2*t*o/this.itemMax);e.x=i,e.y=s;var c=this.dotList[t];c.x=i,c.y=s}},showFruitTriGroup:function(){this.fruitWidth=120,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;0==t?(i=0,n=2*this.fruitWidth):0<t&&2>=t?(i=this.triW*(-.5+t-1),n=this.fruitWidth):2<t&&5>=t?(i=this.triW*(t-4),n=0):(i=this.triW*(-1.5+t-6),n=-this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitRectangleGroup:function(){this.fruitWidth=120;for(var t=0;t<this.itemMax;t++){var e,i=this.fruitItemList[t],n=this.fruitWidth*(t%4-1.5);e=4>t?this.fruitWidth/2:-this.fruitWidth/2,i.x=n,i.y=e,cc.log("i = "+t+" x = "+n+" y = "+e);var a=this.dotList[t];a.x=n,a.y=e}},showFruit10Group:function(){this.fruitWidth=120;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;2>t?(i=this.fruitWidth*(3*t-1.5),n=this.fruitWidth):2<=t&&4>t?(i=this.fruitWidth*(-.5+t-2),n=this.fruitWidth/2):4<=t&&6>t?(i=this.fruitWidth*(-.5+t-4),n=-this.fruitWidth/2):(i=this.fruitWidth*(3*(t-6)-1.5),n=-this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruit6Group:function(){this.fruitWidth=140,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;0<=t&&2>t?(i=this.triW*(-.5+t),n=this.fruitWidth):2==t?(i=-this.triW,n=0):3==t?(i=this.triW,n=0):(i=this.triW*(-.5+t-4),n=-this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitDTriGroup:function(){this.fruitWidth=120,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;0<=t&&2>t?(i=this.triW*(3*t-1.5),n=this.fruitWidth/2):2<=t&&4>t?(i=this.triW*(-.5+t-2),n=0):(i=this.triW*(3*(t-4)-1.5),n=-this.fruitWidth/2),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitGodGroup:function(){this.fruitWidth=120,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;0==t?(i=0,n=this.fruitWidth):0<t&&4>t?(i=this.fruitWidth*(-1+t-1),n=0):4==t?(i=0,n=-this.fruitWidth):5==t&&(i=0,n=-2*this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitWGroup:function(){this.fruitWidth=110,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;0==t?(i=2*-this.fruitWidth,n=this.fruitWidth):1==t?(i=2*this.fruitWidth,n=this.fruitWidth):1<t&&5>t?(i=this.fruitWidth*(-1+t-2)*1.5,n=0):5==t?(i=-this.fruitWidth,n=-this.fruitWidth):6==t&&(i=this.fruitWidth,n=-this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitGGroup:function(){this.fruitWidth=100,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;0==t?(i=-this.fruitWidth,n=this.fruitWidth):1==t?(i=3*-this.fruitWidth/2,n=0):1<t&&4>t?(i=this.fruitWidth*(-1+t-2),n=-this.fruitWidth):(i=this.fruitWidth*(.5+(t-3)/2),n=this.fruitWidth*(t-4)),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruit1Group:function(){this.fruitWidth=100,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e,i=this.fruitItemList[t];e=this.fruitWidth*(-this.itemMax/2+t+.5),i.x=e,i.y=0,cc.log("i = "+t+" x = "+e+" y = 0");var n=this.dotList[t];n.x=e,n.y=0}},showFruitNGroup:function(){this.fruitWidth=100,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;5>t?(i=this.fruitWidth*(-2+t),n=0):5==t?(i=-2*this.fruitWidth,n=-this.fruitWidth):6==t&&(i=2*this.fruitWidth,n=this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitTGroup:function(){this.fruitWidth=100,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;5>t?(i=this.fruitWidth*(-2+t),n=0):5==t?(i=-2*this.fruitWidth,n=-this.fruitWidth):6==t&&(i=-2*this.fruitWidth,n=this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitZGroup:function(){this.fruitWidth=120,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;3>t?(i=this.fruitWidth*(-.5+t),n=this.fruitWidth):3==t?(i=0,n=0):(i=this.fruitWidth*(-1.5+t-4),n=-this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitHGroup:function(){this.fruitWidth=100,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;5>t?(i=this.fruitWidth*(-2+t),n=this.fruitWidth):5<=t&&10>t?(i=this.fruitWidth*(-2+t-5),n=-this.fruitWidth):(i=0,n=0),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruitVGroup:function(){this.fruitWidth=100,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e,i,n=this.fruitItemList[t];e=this.fruitWidth*(.5*t-1.5),i=4>t?this.fruitWidth*(1-t):this.fruitWidth*(-1+t-4),n.x=e,n.y=i,cc.log("i = "+t+" x = "+e+" y = "+i);var a=this.dotList[t];a.x=e,a.y=i}},showFruit8Group:function(){this.fruitWidth=100,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;2>t?(i=-1.5*this.fruitWidth,n=this.fruitWidth*(-1.5+t)):2<=t&&4>t?(i=-.5*this.fruitWidth,n=this.fruitWidth*(-1.5+t-2)):4<=t&&6>t?(i=.5*this.fruitWidth,n=this.fruitWidth*(.5+t-4)):6<=t&&8>t&&(i=1.5*this.fruitWidth,n=this.fruitWidth*(.5+t-6)),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},showFruit1NumGroup:function(){this.fruitWidth=100,this.triW=2*this.fruitWidth/1.7320508075688772;for(var t=0;t<this.itemMax;t++){var e=this.fruitItemList[t],i=0,n=0;5>t?(i=0,n=this.fruitWidth*(-2+t)):5==t?(i=.8*-this.fruitWidth,n=this.fruitWidth):6==t?(i=-this.fruitWidth,n=-2*this.fruitWidth):7==t&&(i=this.fruitWidth,n=-2*this.fruitWidth),e.x=i,e.y=n,cc.log("i = "+t+" x = "+i+" y = "+n);var a=this.dotList[t];a.x=i,a.y=n}},runRotateAct:function(){this.node.runAction(cc.repeatForever(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree)))},runRotate1Act:function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree))))},runSineInAct:function(){this.actDlT=.05,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree*6/5).easing(cc.easeSineIn()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree*6/5).easing(cc.easeSineIn()),cc.callFunc(function(){}.bind(this)))))},runSineOutAct:function(){this.actDlT=.05,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree*6/5).easing(cc.easeSineOut()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree*6/5).easing(cc.easeSineOut()),cc.callFunc(function(){}.bind(this)))))},runSineInOutAct:function(){this.actDlT=.05,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree*6/5).easing(cc.easeSineIn()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree*6/5).easing(cc.easeSineOut()),cc.callFunc(function(){}.bind(this)))))},runBackInAct:function(){this.actDlT=.05,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree).easing(cc.easeSineIn()),cc.rotateBy(.2*this.rotateTime,-this.dirState*this.rotateDegree*.2).easing(cc.easeSineOut()),cc.callFunc(function(){}.bind(this)))))},runBackOutAct:function(){this.actDlT=.05,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree).easing(cc.easeSineOut()),cc.rotateBy(.3*this.rotateTime,-this.dirState*this.rotateDegree*.3).easing(cc.easeSineOut()),cc.callFunc(function(){}.bind(this)))))},runBackInOutAct:function(){this.actDlT=.05,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree).easing(cc.easeSineInOut()),cc.rotateBy(.2*this.rotateTime,-this.dirState*this.rotateDegree*.2).easing(cc.easeSineIn()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree).easing(cc.easeSineInOut()),cc.rotateBy(.2*this.rotateTime,this.dirState*this.rotateDegree*.2).easing(cc.easeSineOut()),cc.callFunc(function(){}.bind(this)))))},runBounceInAct:function(){this.actDlT=.4,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree).easing(cc.easeBounceIn()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree).easing(cc.easeBounceIn()),cc.callFunc(function(){}.bind(this)))))},runBounceOutAct:function(){this.actDlT=.4,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree).easing(cc.easeBounceOut()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree).easing(cc.easeBounceOut()),cc.callFunc(function(){}.bind(this)))))},runBounceInOutAct:function(){this.actDlT=.4,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree).easing(cc.easeBounceInOut()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree).easing(cc.easeBounceInOut()),cc.callFunc(function(){}.bind(this)))))},runCubicActionInAct:function(){this.actDlT=.01,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeCubicActionIn()),cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeCubicActionIn()),cc.rotateBy(this.rotateTime/2,-this.dirState*this.rotateDegree*3/5).easing(cc.easeCubicActionIn()),cc.rotateBy(this.rotateTime/2,-this.dirState*this.rotateDegree*3/5).easing(cc.easeCubicActionIn()),cc.callFunc(function(){}.bind(this)))))},runCubicActionOutAct:function(){this.actDlT=.01,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeCubicActionOut()),cc.rotateBy(2*this.rotateTime/5,this.dirState*this.rotateDegree*3/5).easing(cc.easeCubicActionOut()),cc.rotateBy(this.rotateTime/2,-this.dirState*this.rotateDegree*3/5).easing(cc.easeCubicActionOut()),cc.rotateBy(2*this.rotateTime/5,-this.dirState*this.rotateDegree*3/5).easing(cc.easeCubicActionOut()),cc.callFunc(function(){}.bind(this)))))},runCubicActionInOutAct:function(){this.actDlT=.01,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree*6/5).easing(cc.easeCubicActionInOut()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree*6/5).easing(cc.easeCubicActionInOut()),cc.callFunc(function(){}.bind(this)))))},runQuinticActionInAct:function(){this.actDlT=.1,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree*6/5).easing(cc.easeQuadraticActionIn()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree*6/5).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){this.dirState=.5<Math.random()?1:-1}.bind(this)))))},runQuinticActionOutAct:function(){this.actDlT=.1,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeQuadraticActionOut()),cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeQuadraticActionOut()),cc.rotateBy(this.rotateTime/2,-this.dirState*this.rotateDegree*3/5).easing(cc.easeQuadraticActionOut()),cc.rotateBy(this.rotateTime/2,-this.dirState*this.rotateDegree*3/5).easing(cc.easeQuadraticActionOut()),cc.callFunc(function(){}.bind(this)))))},runQuinticActionInOutAct:function(){this.actDlT=.1,this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime,this.dirState*this.rotateDegree*6/5).easing(cc.easeQuadraticActionInOut()),cc.rotateBy(this.rotateTime,-this.dirState*this.rotateDegree*6/5).easing(cc.easeQuadraticActionInOut()),cc.callFunc(function(){}.bind(this)))))},runRandomAct:function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeQuadraticActionInOut()),cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeBackOut()),cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeQuadraticActionInOut()),cc.rotateBy(this.rotateTime-1,-this.dirState*this.rotateDegree*6/5).easing(cc.easeQuadraticActionInOut()),cc.callFunc(function(){}.bind(this)))))},runRandom1Act:function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeSineIn()),cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeBackIn()),cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeBounceIn()),cc.rotateBy(this.rotateTime-1,-this.dirState*this.rotateDegree*6/5).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){}.bind(this)))))},runRandom2Act:function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeSineOut()),cc.rotateBy(this.rotateTime-1,-this.dirState*this.rotateDegree*6/5).easing(cc.easeSineInOut()),cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeBounceInOut()),cc.rotateBy(this.rotateTime/2,this.dirState*this.rotateDegree*3/5).easing(cc.easeSineOut()),cc.callFunc(function(){}.bind(this)))))},createDot:function(){var t=this.dotPool.get();if(!t){(t=cc.instantiate(FileUtils.Instant.getPrefabByName("dotPfb"))).zIndex=1;var e=t.getComponent("Dot");e.pool=this.dotPool,e.list=this.dotList,t.parent=this.container}return t},setNullAllDots:function(){for(var t=this.dotList.length-1;t>=0;--t)this.dotList[t].getComponent("Dot").remove()},setNullAllItems:function(){for(var t=this.fruitItemList.length-1;t>=0;--t)this.fruitItemList[t].getComponent("FruitItem").remove()},createFruitItem:function(){var t=this.fruitItemPool.get();if(!t){(t=cc.instantiate(FileUtils.Instant.getPrefabByName("fruitPfb"))).zIndex=2;var e=t.getComponent("FruitItem");e.init(this,this.effectLy,this.knifeLy,this.gmDataHd),e.pool=this.fruitItemPool,e.list=this.fruitItemList,t.parent=this.container}return t},isFruitListEmpty:function(){return 0>=this.fruitItemList.length}}),cc._RF.pop()},{}],GameDataHandler:[function(t,e,i){"use strict";cc._RF.push(e,"b00c7vei2pBqIhEvPgnHd7T","GameDataHandler");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("DataHandler"),o=cc.Class({extends:a,properties:{money:{get:function(){return(parseInt("number"!=typeof this._localData.money)||n(this._localData.money)<0)&&(this._localData.money=200),this._localData.money},set:function(t){this._localData.money=t}},curMission:{get:function(){return this._localData.curMission},set:function(t){this._localData.curMission=t}},shareTimes:{get:function(){return this._localData.shareTimes},set:function(t){this._localData.shareTimes=t}},skinFreeTimes:{get:function(){return this._localData.skinFreeTimes},set:function(t){this._localData.skinFreeTimes=t}},onePlayReviveTimes:{default:0,visible:!1},curAddCoin:{default:0,visible:!1},curLvIndex:{default:0,visible:!1},mission:{default:[],visible:!1},removeFruitNum:{default:0,visible:!1},fruitTotalNum:{default:0,visible:!1},fruitNumList:{default:[],visible:!1},knifeTimes:{default:0,visible:!1},canFire:{default:!1,visible:!1},curMode:{default:"level",visible:!1},curPlateData:{default:[],visible:!1},reviveNeedCoin:{default:500,visible:!1},gameState:{default:GameState.GAME_ING,visible:!1},hasShowRate:!1},onInit:function(){this._configTableURL="GameData",this._configRelativeURL="GameDataInfo"},onLoadConfig:function(t){a.prototype.onLoadConfig.call(this,t),this.addEvent()},addEvent:function(){NotificationCenter.Instant.register(NotificationMsg.PROP_UPDATE,this,this.updateKnifeInfo)},onRemoveFruit:function(t){this.removeFruitNum++,this.updateAddCoin(this.removeFruitNum),this.curPlateData.push(t)},getFruitInfoByType:function(t){var e=Constant.fruitInfo[t];return e||(e=Constant.fruitInfo[0]),e},getFruitNameByType:function(t){var e=Constant.fruitNameList[t];return e||(e=Constant.fruitNameList[0]),e},updatePlateData:function(t){this._localData.plateDataList[t]=this.curPlateData.splice(0)},getPlateDataList:function(){return this._localData.plateDataList},updateKnifeTime:function(){!GameMng.playLy.isThree&&this._localData.threeTime>0&&(this._localData.threeTime-=1,this._localData.threeTime<=0&&ToastMng.showToast("Romantic swordsman used up!",2),GameMng.updateThreeTimeShow()),this._localData.scaleTime>0&&(this._localData.scaleTime-=1,this._localData.scaleTime<=0&&ToastMng.showToast("\u5de8\u578b\u624b\u91cc\u5251\u5df2\u4f7f\u7528\u5b8c,\n\u4e0b\u6b21\u4efb\u52a1\u518d\u6b21\u83b7\u5f97\u54e6!",2));var t=SkinDataHandler.Instant.getSkinDataByIndex(SkinDataHandler.Instant.curSkin);t>0&&(t--,SkinDataHandler.Instant.updateSkinData(SkinDataHandler.Instant.curSkin,t),0===t&&(ToastMng.showToast("Weapon experiences times has been used up, the next mission will be won again!",2),SkinDataHandler.Instant.setCurSkin(SkinDataHandler.Instant.lastSkin))),GameMng.knifeLy.refresh()},updateKnifeInfo:function(t){var e=t.source,i=e.type,n=e.value;if(n)switch(i){case PropType.THREE:var a=this._localData.threeTime+n;a>this._config.maxPropNum&&(ToastMng.showToast("max trying times "+this._config.maxPropNum+"!",1.2),n=(a=this._config.maxPropNum)-this._localData.threeTime),this._localData.threeTime=a,n>0&&ToastMng.showToast("trying times +"+n,2),GameMng.updateThreeTimeShow(),GameMng.knifeLy.refresh();break;case PropType.SCALE:var o=this._localData.scaleTime+n;o>this._config.maxPropNum&&(ToastMng.showToast("\u5de8\u578b\u624b\u91cc\u5251\u4e0a\u9650"+this._config.maxPropNum+"\u54e6!",1.2),n=(o=this._config.maxPropNum)-this._localData.scaleTime),this._localData.scaleTime=o,n>0&&ToastMng.showToast("\u5de8\u578b\u624b\u91cc\u5251+"+n,2);break;case PropType.SKIN:var s=n.skin,c=SkinDataHandler.Instant.getSkinDataByIndex(s);if(c<0)return;if(n.value>0){var r=n.value;c+r>this._config.maxPropNum?(ToastMng.showToast("the weapon max trying times "+this._config.maxPropNum+"!",1.2),r=this._config.maxPropNum-c,c=this._config.maxPropNum):c+=r,SkinDataHandler.Instant.updateSkinData(s,c),r>0&&ToastMng.showToast("The number of the weapon trying times plus "+r,2)}else SkinDataHandler.Instant.updateSkinData(s,-1),ToastMng.showToast("Congratulations for unlocking new weapon!",2);SkinDataHandler.Instant.setCurSkin(s),this.saveAllData();break;default:return}},getKnifeInfo:function(){return{threeTime:this._localData.threeTime,scaleValue:this._config.knifeScale}},updateAddCoin:function(t){this.curAddCoin+=t,GameMng.addCoinLb.string=this.curAddCoin},updateCoin:function(t){"number"!=typeof t&&(t=0),this.money+=t,t<0&&ToastMng.showToast(-t+" coins were used"),GameMng.coin.string=this.money},updateLv:function(){this.curLvIndex>=this.mission.length?(this.curMission++,this.updateMission()):GameMng.playLy.play(this.mission[this.curLvIndex],this.curMission,this.curLvIndex)},updateMission:function(){var t=this;if(Math.mySrand(this.curMission),this.mission=MissionDataHandler.Instant.getLvMission(),this.fruitNumList=MissionDataHandler.Instant.getFruitNumByMission(this.mission),this.curLvIndex=0,this.removeFruitNum=0,this.fruitTotalNum=0,this.updateCoin(this.curAddCoin),this.updateAddCoin(-this.curAddCoin),GameMng.refreshCoinFace(showCoinType.LevelAddCoin),this.fruitNumList.forEach(function(e){t.fruitTotalNum+=e}),GameMng.lvProgressBar.initLvProgress(this.curMission,this.mission.length),GameMng.checkPopCoupon()){var e=Math.getRandomInt(0,this.fruitNumList[0]);this.pddFrIdx=[0,e]}},saveAllData:function(){this.saveData(),MissionDataHandler.Instant.saveData(),SkinDataHandler.Instant.saveData(),WxSDK._saveServerData()},saveData:function(){a.prototype.saveData.call(this);var t=JSON.stringify({wxgame:{score:this.curMission,update_time:Math.floor((new Date).getTime()/1e3)}});SDK.updateScore({score:this.curMission,bscore:t})},getCid:function(){if(window.wx){var t=wx.getLaunchOptionsSync();if(t.query&&t.query.cid)return this.cid=t.query.cid,this.cid}return null},udpateDayDate:function(){this._localData.tody_date!=(new Date).toDateString()&&(this._localData.tody_date=(new Date).toDateString(),this._localData.pdd_show_time_cnt=0,this.saveData())}});window.GameDataHandler=e.exports=o,null===o.Instant&&(o.Instant=new o),cc._RF.pop()},{DataHandler:"DataHandler"}],GameDataInfo:[function(t,e,i){"use strict";cc._RF.push(e,"28032a48IFIdooJHj078j9C","GameDataInfo");e.exports={knifeNum:1,knifeScale:1,maxPropNum:1e3,tableData:{money:500,curMission:1,plateDataList:[[5,5,5,5,5],[2,2,2,2,2],[1,2,3,4,5,6],[1,4,4,4,4,4]],threeTime:0,scaleTime:0,shareTimes:0,skinFreeTimes:0,collection:0,signData:0,achData:0,pddRemainTime:10,pddUseRemainTime:20,nickName:null,lastRateVersion:""}},cc._RF.pop()},{}],GameMng:[function(t,e,i){"use strict";cc._RF.push(e,"c9ab6SzoWVGPYeNqyygorwj","GameMng");var n=GameDataHandler.Instant,a=t("SignDataMng"),o=t("LevelProgressBar");cc.Class({extends:cc.Component,properties:{skinLy:t("SkinLy"),playLy:t("PlayLy"),startLy:t("StartLy"),knifeLy:t("KnifeLy"),plateLy:t("PlateLy"),wx_sub:t("wx_sub"),bg:t("Bg"),dataLoadingPb:cc.Prefab,showLiDaoBtn:cc.Node,signViewPf:cc.Prefab,lvProgressBar:o,coin:cc.Label,addCoinLb:cc.Label,lyState:{default:null,visible:!1},popState:{default:null,visible:!1}},onLoad:function(){this.popStack=[],void 0===window.GameMng&&(window.GameMng=this),this.addEvent()},start:function(){var t=this;this.coin.string=""+GameDataHandler.Instant.money,a.updateSignData(),this.scheduleOnce(function(){Server.isValidTime(function(t){t?(a.checkToDayState()||cc.systemEvent.emit("popSign"),GameDataHandler.Instant.udpateDayDate()):console.error("\u5f53\u524d\u65f6\u95f4\u4e0d\u51c6\u786e")})},1),this.scheduleOnce(function(){NotificationCenter.Instant.register(NotificationMsg.LAYER_CHANGE,t,function(){t.showLiDaoBtn.active=t.lyState===LayerState.GAME&&WxSDK.canShowGainPos(GainPos.Three)}),t.firstToStart(),WxSDK.checkHide(),WxSDK.checkShow()},.5);var e=cc.view.getVisibleSize();PlatformMgr.createVideoGiftAd(e.width,e.height,520,600,180)},addEvent:function(){var t=this;cc.systemEvent.on("pop_panel",this.popPanel,this),cc.systemEvent.on("ts_reportEvent",Server.reportEvent,Server),cc.systemEvent.on("pddBtnOpt",this.pddBtnOpt,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on("popSign",this.popSign,this),cc.systemEvent.on("showDataLoading",function(e){var i={name:"DataLoading",txt:e},n=t.node.getChildByName(i.name);if(n){var a=n.getComponent("DataLoading");n.zIndex=2e3,a.show(i)}else{(n=cc.instantiate(t.dataLoadingPb)).name=i.name,n.parent=t.node,n.zIndex=2e3,n.getComponent("DataLoading").show(i)}}),cc.systemEvent.on("hideDataLoading",function(e){var i=t.node.getChildByName("DataLoading");i&&(i.active=!1)})},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.back:this.popStack.length>0?(cc.log("this.popStack.length == "+this.popStack.length),this.popStack[this.popStack.length-1].pressClose()):this.nowLy===this.startLy?this.popExit():this.nowLy.pressBack()}},clickBtn:function(t,e){switch(e){case"pddBtn":this.pddBtnOpt("pddBtnHide"),this.popPdd()}},setLvProgress:function(t,e,i,n){},updateThreeTimeShow:function(){this.threePropBtnCom||(this.threePropBtnCom=this.showLiDaoBtn.getComponent("ThreePropBtn")),this.threePropBtnCom.updateThreeTimeShow()},refreshCoinFace:function(t){switch(t){case showCoinType.LevelAddCoin:this.addCoinLb.node.parent.opacity=255,this.coin.node.parent.opacity=0;break;case showCoinType.TotalCoin:this.addCoinLb.node.parent.opacity=0,this.coin.node.parent.opacity=255}},setLyState:function(t){switch(this.nowLy&&this.nowLy.hide(),logTest(this.bg.particle.duration),this.lyState===LayerState.GAME&&(this.bg.particle.resetSystem(),this.bg.particle.duration=-1,this.pddBtn&&(this.pddBtn.active=!1)),t){case LayerState.START:this.refreshCoinFace(showCoinType.TotalCoin),this.nowLy=this.startLy;break;case LayerState.GAME:this.nowLy=this.playLy,this.bg.particle.duration=1,this.pddBtnOpt(n.pddState);break;case LayerState.GAME_OVER:break;case LayerState.SKIN:this.nowLy=this.skinLy;break;default:this.nowLy=this.startLy}this.lyState=t,NotificationCenter.Instant.post(NotificationMsg.LAYER_CHANGE)},firstToStart:function(){this.setLyState(LayerState.START),this.startLy.firstShow(),this.scheduleOnce(function(){WxSDK.onShare(Global.getRandShareStr("propShare"),Constant.shareIconPath,"",function(){})},.1),this.knifeLy.playStartAnim()},toStart:function(){this.setLyState(LayerState.START),this.startLy.show(),this.knifeLy.show(),this.knifeLy.playStartAnim()},toSkin:function(){this.setLyState(LayerState.SKIN),this.skinLy.show(),this.knifeLy.hide()},toPlay:function(){this.setLyState(LayerState.GAME),this.playLy.show()},popFail:function(){this.popState=PopState.FAIL;var t=PrefabMng.createLyByFab("failPop2","FailPop2",this.node);this.pushPopLy(t)},popWin:function(){this.popState=PopState.WIN;var t=PrefabMng.createLyByFab("winLy2","WinLy2",this.node);this.pushPopLy(t)},popPause:function(){this.popState=PopState.PAUSE;var t=PrefabMng.createLyByFab("pausePop","PausePop",this.node);this.pushPopLy(t)},popEditName:function(t){this.popState=PopState.EDITNAME;var e=PrefabMng.createLyByFab("editNamePop","EditNamePop",this.node);e.init(t),this.pushPopLy(e)},popResult:function(){this.resultLy?this.resultLy.show():this.resultLy=PrefabMng.createLyByFab("resultLy2","ResultPop2",this.node),this.pushPopLy(this.resultLy)},popRank:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RankType.World,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.popState=PopState.RANK,this.rankLy?this.rankLy.show():this.rankLy=PrefabMng.createLyByFab("rank2","RankPop2",this.node),cc.sys.platform==cc.sys.WECHAT_GAME&&this.rankLy.init(t,e,i),this.pushPopLy(this.rankLy)},popPropBox:function(t){this.popState=PopState.PROP_BOX;var e=PrefabMng.createLyByFab("propBoxPop2","PropBoxPop2",this.node);e.init(t),this.pushPopLy(e)},popTurntable:function(t){var e=PrefabMng.createLyByFab("luckTurnTable","LuckTurnTable",this.node);e.init(t),this.pushPopLy(e)},popSign:function(){var t=this.node.getChildByName("__signView");t||((t=cc.instantiate(this.signViewPf)).parent=this.node,t.name="__signView"),(t=t.getComponent("SignView")).show(),this.pushPopLy(t)},popSetting:function(){this.popState=PopState.WIN;var t=PrefabMng.createLyByFab("setLy","SetLy",this.node);this.pushPopLy(t)},popRateDialog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.popState=PopState.WIN;var e=PrefabMng.createLyByFab("ratePop","RatePop",this.node);e.endCf=t,this.pushPopLy(e)},popExit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.popState=PopState.WIN;var e=PrefabMng.createLyByFab("exitPop","ExitPop",this.node);e.endCf=t,this.pushPopLy(e)},removePopLy:function(t){if(cc.sys.platform!=cc.sys.WECHAT_GAME){var e=this.popStack.length;e>0&&this.popStack[e-1]==t&&this.popStack.splice(e-1,1)}},pushPopLy:function(t){cc.sys.platform!=cc.sys.WECHAT_GAME&&this.popStack.push(t)},showPddBtn:function(t){this.pddBtn&&(this.pddBtn.stopAllActions(),this.pddBtn.active=!0,this.pddBtn.zIndex=10,this.pddBtn.position=t,this.pddBtn.scale=1,this.pddBtn.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1),cc.scaleTo(.1,1.15,.85),cc.scaleTo(.1,.85,1.15),cc.scaleTo(.11,1.12,.88),cc.scaleTo(.11,.88,1.12),cc.scaleTo(.12,1)))))},pddBtnOpt:function(t){if(this.pddBtn)if("pddBtnShow"===t){var e=cc.v2(.5*Constant.visibleSize.width-.5*this.pddBtn.width-10,.2*Constant.visibleSize.height);n.pddState="pddBtnShow",this.showPddBtn(e)}else n.pddState="pddBtnHide",this.pddBtn.active=!1},checkPopCoupon:function(){if(window.pddSDK&&pddSDK.checkShowCoupon(parseInt(SDK.pdd_toggle),n.pddRemainTime,n.pddUseRemainTime,n.curMission,parseInt(SDK.pdd_limit_score))){var t=Math.random(),e=("pddBtnShow"===n.pddState?.5*SDK.pdd_show_chance:SDK.pdd_show_chance)/100;if(console.log("\u62fc\u591a\u591a\u53d6\u503c\u6982\u7387"+e+" \u968f\u673a\u6570"+t),t<=e)return PddWxSDK.reportEvent(PddWxSDK.ReportMsg.POP_COUPON),n.pddRemainTime--,!0}return!1},popPanel:function(t){var e=this,i=t.name,n=t.callback;PlatformMgr.showLoading("\u52a0\u8f7d\u4e2d",!0),cc.loader.loadRes(i,cc.Prefab,function(t,i){if(t)PlatformMgr.hideLoading();else{var a=cc.instantiate(i);e.node.addChild(a,10),n&&n(a),PlatformMgr.hideLoading()}})},popPdd:function(){this.popPanel({name:"pddCouponPanel"})}});cc._RF.pop()},{Bg:"Bg",KnifeLy:"KnifeLy",LevelProgressBar:"LevelProgressBar",PlateLy:"PlateLy",PlayLy:"PlayLy",SignDataMng:"SignDataMng",SkinLy:"SkinLy",StartLy:"StartLy",wx_sub:"wx_sub"}],Gift:[function(t,e,i){"use strict";cc._RF.push(e,"3a56aJjyx5NibqovozbW2HY","Gift");var n=t("NodeBase"),a=t("sdk");window.GiftKey=a.game_id+"Gift",cc.Class({extends:n,properties:{mask:cc.Node,window:cc.Node,coinNum:cc.Label,coinNum2:cc.Label,btn:cc.Node,state:-1},onLoad:function(){this._signName="v7",this._dtime=.5,this.getLocalData(),window.Gift=this},start:function(){this.node.opacity=0,this.node.zIndex=8888},show:function(){this.node.active=!0,this.node.opacity=255,this.mask.active=!1,this.window.active=!1,this.coinNum.string="+"+this.to_coins,this.coinNum.node.active=this.to_coins>0,this.btn.active=!0,this.btn.scale=1,this.btn.stopAllActions(),this.btn.runAction(cc.sequence(cc.scaleTo(1,1.15),cc.scaleTo(1,1)).repeatForever())},hide:function(){this.node.active=!1},showWindow:function(){var t=this;this.scheduleOnce(function(){t.window.active=!0,t.window.scale=.4,t.window.runAction(cc.scaleTo(t._dtime,1).easing(cc.easeElasticOut(.8)))},.5),this.mask.active=!0,this.mask.opacity=0,this.mask.runAction(cc.fadeTo(this._dtime,160)),this.coinNum2.string="+"+this.to_coins,this.coinNum2.node.active=this.to_coins>0},hideWindow:function(){var t=this;this.window.runAction(cc.sequence(cc.scaleTo(this._dtime,0).easing(cc.easeElasticOut(.8)),cc.callFunc(function(){t.hide()}))),this.mask.runAction(cc.fadeTo(this._dtime,0))},getLocalData:function(){var t=this.getData(GiftKey);this._localList=t?JSON.parse(t):[]},checkDataTime:function(){var t=new Date((new Date).getTime()+144e5).toDateString(),e=this.getData("shareLastDay",0);new Date(e+144e5).toDateString()!=t&&(this.setData("shareLastDay",(new Date).getTime()),this._localList=[],this.setData(GiftKey,JSON.stringify(this._localList)))},getData:function(t,e){var i=this._signName+t,n=cc.sys.localStorage.getItem(i);return n?JSON.parse(n):e?(this.setData(t,e),e):null},setData:function(t,e){e||cc.error("setData value is null"),t=this._signName+t,e=JSON.stringify(e),"undefined"==typeof wx?cc.sys.localStorage.setItem(t,e):wx.setStorage({key:t,data:e})},clickGiftBtn:function(){1===this.state&&(this.state=-1,this.to_coins>0&&this.showWindow(),this.btn.active=!1,this._localList.push(this.to_appid),this.setData(GiftKey,JSON.stringify(this._localList)),a.showInsideAds({app_id:this.to_appid,app_path:this.to_path}))},clickSureBtn:function(){AudioMng.playEffect("getcoin"),GameDataHandler.Instant.updateCoin(this.to_coins),this.hideWindow()}}),cc._RF.pop()},{NodeBase:"NodeBase",sdk:"sdk"}],InsideAds:[function(t,e,i){"use strict";cc._RF.push(e,"77542+Pt05C/bJKcJD4pxhQ","InsideAds"),cc.Class({extends:cc.Component,properties:{btn:cc.Node,icon:cc.Node},onLoad:function(){this.index=0,this.intervalTime=0},start:function(){this.initAdsBtn(),this.node.zIndex=900},update:function(t){this.intervalTime+=t,this.intervalTime>=7&&(this.intervalTime=0,this.refreshData())},initAdsBtn:function(){var t=this;this.btn.on(cc.Node.EventType.TOUCH_END,function(){t.index>=0&&(SDK.showInsideAds(t.index,function(t){},function(t){},function(){}),SDK.insideAdsList.length>0&&(t.btn.active=!0,t.index=(t.index+1)%SDK.insideAdsList.length,Global.loadImage(t.icon,SDK.insideAdsList[t.index].thumb,function(){t.icon.setContentSize(cc.size(100,100))})))}),this.btn.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1),cc.rotateTo(.07,-20),cc.rotateTo(.07,20),cc.rotateTo(.07,-20),cc.rotateTo(.07,20),cc.rotateTo(.07,-20),cc.rotateTo(.07,20),cc.rotateTo(.07,0)))),SDK.insideAdsList.length>0?(this.btn.active=!0,Global.loadImage(this.icon,SDK.insideAdsList[0].thumb,function(){t.icon.setContentSize(cc.size(100,100))})):this.btn.active=!1},refreshData:function(){var t=this;SDK.insideAdsList.length>0?(this.btn.active=!0,this.index=this.index%SDK.insideAdsList.length,Global.loadImage(this.icon,SDK.insideAdsList[this.index].thumb,function(){t.icon.setContentSize(cc.size(100,100))})):this.btn.active=!1}}),cc._RF.pop()},{}],KnifeCollider:[function(t,e,i){"use strict";cc._RF.push(e,"9afdd2ODSdBfp+2W99Otxy4","KnifeCollider"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],KnifeLy:[function(t,e,i){"use strict";cc._RF.push(e,"ef07dzuI/hMMZ8yjVjDPz6g","KnifeLy");cc.Class({extends:cc.Component,properties:{knifeNodeList:[cc.Node],zhan_ji_Anim:cc.Prefab},onLoad:function(){0},start:function(){this.refresh(),this.startPosArray=[],this.preparePosArray=[],this.endPosArray=[],this.flyVec=[];for(var t=this.knifeNodeList.length,e=0;e<t;++e)this.startPosArray.push(cc.v2(40*(e-1),1===e?13.6:0)),this.preparePosArray.push(cc.v2(40*(e-1),-400*Constant.visibleScale.hScale+(1===e?13.6:0))),this.endPosArray.push(cc.v2(250*(e-1),.5*Constant.visibleSize.height+200)),this.flyVec.push(this.endPosArray[e].sub(this.preparePosArray[e]).normalize());this.knifeFlyTime=.38,this.knifeSpeed=(this.endPosArray[1].y-this.preparePosArray[1].y)/this.knifeFlyTime},onDestroy:function(){NotificationCenter.Instant.removeRegister(NotificationMsg.KNIFESTATE_CHANGE,this)},show:function(){this.node.active=!0,this.refresh()},hide:function(){this.node.active=!1},refresh:function(){var t=SkinDataHandler.Instant.getSkinNameByIndexes(SkinDataHandler.Instant.curSkin),e=GameDataHandler.Instant.threeTime;this.setNum(e>0||GameMng.playLy.isThree?3:1),this.setScale(GameDataHandler.Instant.scaleTime>0?1.3:1.1),this.setSkin(t)},updateKnifeFace:function(t){var e=t.source;"number"==typeof e.num&&this.setNum(e.num),"string"==typeof e.skinName&&this.setSkin(e.skinName)},setNum:function(t){this.knifeNodeList[0].isHave=this.knifeNodeList[2].isHave=3==t,this.knifeNodeList[1].isHave=t>0,this.knifeNodeList[0].opacity=this.knifeNodeList[2].opacity=3==t?255:0,this.knifeNodeList[1].opacity=t>0?255:0},setScale:function(t){for(var e=0;e<this.knifeNodeList.length;e++){var i=this.knifeNodeList[e];i.scale=t,i.hitR=75*t}},setSkin:function(t){var e=3==SkinDataHandler.Instant.curSkin[0],i=TextureMng.getSprBySkinNode(t);this.knifeNodeList.forEach(function(t){t.scale*=e?.85:1,t.getComponent(cc.Sprite).spriteFrame=i})},playStartAnim:function(){for(var t=0;t<this.knifeNodeList.length;t++){var e=this.knifeNodeList[t];e.stopAllActions(),e.position=this.startPosArray[t],e.angle=-30*(t-1),e.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(0,70)),cc.moveBy(.5,cc.v2(0,-70)))))}},playGameAnim:function(){for(var t=this,e=function(e){var i=t.knifeNodeList[e];i.stopAllActions(),i.angle=-30*(e-1),i.runAction(cc.sequence(cc.moveTo(.4,t.preparePosArray[e]),cc.callFunc(function(){i.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(0,70)),cc.moveBy(.5,cc.v2(0,-70)))))})))},i=0;i<this.knifeNodeList.length;i++)e(i)},playPrepareAnim:function(){for(var t=0;t<this.knifeNodeList.length;t++){var e=this.knifeNodeList[t];e.stopAllActions(),e.position=this.preparePosArray[t],e.angle=-30*(t-1),e.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(0,70)),cc.moveBy(.5,cc.v2(0,-70)))))}},playFireAnim:function(){var t=GameDataHandler.Instant;if(t.gameState===GameState.GAME_ING){t.gameState=GameState.GAME_FLYING,AudioMng.playEffect("fly_knife"),t.removeFruitNum=0,this.timeCnt=0;for(var e=0;e<this.knifeNodeList.length;e++){var i=this.knifeNodeList[e];i.isHave&&(i.stopAllActions(),i.runAction(cc.rotateBy(this.knifeFlyTime,3600)))}}},updateKnifePos:function(t){this.timeCnt+=t;for(var e=this.timeCnt*this.knifeSpeed,i=0;i<this.knifeNodeList.length;i++){var n=this.knifeNodeList[i];if(n.isHave){var a=this.getNextPos1(this.preparePosArray[i],this.flyVec[i],e);n.position=a}}this.timeCnt>this.knifeFlyTime&&(GameDataHandler.Instant.updateKnifeTime(),0===GameDataHandler.Instant.removeFruitNum&&0===GameDataHandler.Instant.knifeTimes?(GameMng.playLy.fail(),AudioMng.playEffect("miss")):GameMng.playLy.fruitPlayLy.isFruitListEmpty()?GameMng.playLy.nextLv():(GameDataHandler.Instant.gameState=GameState.GAME_ING,this.playPrepareAnim()))},getNextPos1:function(t,e,i){return e=e.mul(i),cc.v2(t.x+e.x,t.y+e.y)},playFireAnim2:function(){var t=GameDataHandler.Instant;if(t.gameState===GameState.GAME_ING){t.gameState=GameState.GAME_FLYING,AudioMng.playEffect("fly_knife"),t.removeFruitNum=0;for(var e=0;e<this.knifeNodeList.length;e++){var i=this.knifeNodeList[e];if(i.isHave){i.stopAllActions();var n=this.endPosArray[e],a=i.position,o=n.sub(a);this.moveVArray[e]=o.div(this.knifeFlyTime/.016),i.runAction(cc.repeatForever(cc.rotateBy(this.knifeFlyTime,3600)))}}}},playFireAnim3:function(){var t=this,e=GameDataHandler.Instant;if(e.gameState===GameState.GAME_ING){e.gameState=GameState.GAME_FLYING,AudioMng.playEffect("fly_knife"),e.removeFruitNum=0;for(var i=function(i){var n=t.knifeNodeList[i];n.isHave&&(n.stopAllActions(),n.runAction(cc.sequence(cc.spawn(cc.moveTo(t.knifeFlyTime,t.endPosArray[i]),cc.rotateBy(t.knifeFlyTime,3600)),cc.callFunc(function(){1===i&&(GameDataHandler.Instant.updateKnifeTime(),0===e.removeFruitNum&&0===e.knifeTimes?(GameMng.playLy.fail(),AudioMng.playEffect("miss")):GameMng.playLy.fruitPlayLy.isFruitListEmpty()?GameMng.playLy.nextLv():(e.gameState=GameState.GAME_ING,t.playPrepareAnim()))}))))},n=0;n<this.knifeNodeList.length;n++)i(n)}},update2:function(t){var e=GameDataHandler.Instant;if(e.gameState===GameState.GAME_FLYING)for(var i=0;i<this.knifeNodeList.length;i++){var n=this.knifeNodeList[i];if(n.isHave){var a=this.moveVArray[i].mul(this.scaleVArray[i]);n.position=n.position.add(a),1===i&&n.position.y>this.endPosArray[i].y&&(e.updateKnifeTime(),0===e.removeFruitNum&&0===e.knifeTimes?(GameMng.playLy.fail(),AudioMng.playEffect("miss")):GameMng.playLy.fruitPlayLy.isFruitListEmpty()?GameMng.playLy.nextLv():(e.gameState=GameState.GAME_ING,this.playPrepareAnim()))}}},pauseAction:function(t){var e=this;this.knifeNodeList[t].pauseAllActions(),this.scheduleOnce(function(){e.knifeNodeList[t].resumeAllActions()},.016)},pauseAction2:function(t){var e=this;this.scaleVArray[t]=GameDataHandler.Instant.speedRatioEdit,this.scheduleOnce(function(){e.scaleVArray[t]=1},GameDataHandler.Instant.speedTimeEdit)},pauseAction3:function(t){var e=this;this.knifeNodeList[t].pauseAllActions(),this.scheduleOnce(function(){e.knifeNodeList[t].resumeAllActions()},GameDataHandler.Instant.pauseTimeEdit)},playZhanjiEffect:function(t){var e=this;this.zhan_ji_Anim_arr[t].node.active=!0,this.zhan_ji_Anim_arr[t].play(),this.scheduleOnce(function(){e.zhan_ji_Anim_arr[t].node.active=!1},.38)}}),cc._RF.pop()},{}],LeaderBoardManager:[function(t,e,i){"use strict";cc._RF.push(e,"81095qSNuRIEJaGjQQP1KJG","LeaderBoardManager");e.exports={leaderboardName:"fruit.king.game.freegame",getListData:function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<400){var t=i.responseText;try{var n=JSON.parse(t);0!=n.code?e&&e(null):e&&e(n)}catch(t){e&&e(null)}}else e&&e(null)},i.open("GET","https://leaderboard.centwiapp.com/get.fcg?leaderboard="+this.leaderboardName+"&uid="+t,!0),i.send()},setScore:function(t,e,i,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState)if(a.status>=200&&a.status<400){var t=a.responseText;try{var e=JSON.parse(t);0!=e.code?n&&n(!1):n&&(cc.log(e),n(!0,e))}catch(t){n&&n(!1)}}else n&&n(!1)},a.open("GET","https://leaderboard.centwiapp.com/submit.fcg?"+this.getUserInfoParams(t,e,i),!0),a.send()},getUserInfoParams:function(t,e,i){var n=JSON.parse(e),a=function(t){function e(t){try{console.log(t)}catch(t){}}function i(t){var e=(t>>>24).toString(16),i=(16777215&t).toString(16);return"00".substr(0,2-e.length)+e+"000000".substr(0,6-i.length)+i}function n(t,e,i){return t&e|~t&i}function a(t,e,i){return i&t|~i&e}function o(t,e,i){return t^e^i}function s(t,e,i){return e^(t|~i)}function c(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function r(t){for(var e=[],i=0;i<t.length;i++)if(t.charCodeAt(i)<=127)e.push(t.charCodeAt(i));else for(var n=encodeURIComponent(t.charAt(i)).substr(1).split("%"),a=0;a<n.length;a++)e.push(parseInt(n[a],16));return e}var h=null;if("string"==typeof t)h=r(t);else{if(t.constructor!=Array)return e("input data type mismatch"),null;if(0===t.length)h=t;else if("string"==typeof t[0])h=function(t){for(var e=[],i=0;i<t.length;i++)e=e.concat(r(t[i]));return e}(t);else{if("number"!=typeof t[0])return e("input data type mismatch"),null;h=t}}var l=h.length;h.push(128);var u=h.length%64;if(u>56){for(var d=0;d<64-u;d++)h.push(0);u=h.length%64}for(d=0;d<56-u;d++)h.push(0);h=h.concat(function(t){for(var e=[],i=0;i<8;i++)e.push(255&t),t>>>=8;return e}(8*l));var f=1732584193,p=4023233417,g=2562383102,m=271733878,v=0,y=0,_=0,S=0;function w(t,e){return 4294967295&t+e}var T=function(t,e,i,n){var a=S;S=_,_=y,y=w(y,function(t,e){return t<<e&4294967295|t>>>32-e}(w(v,w(t,w(e,i))),n)),v=a};for(d=0;d<h.length/64;d++){v=f;var L=64*d;T(n(y=p,_=g,S=m),3614090360,c(h,L),7),T(n(y,_,S),3905402710,c(h,L+4),12),T(n(y,_,S),606105819,c(h,L+8),17),T(n(y,_,S),3250441966,c(h,L+12),22),T(n(y,_,S),4118548399,c(h,L+16),7),T(n(y,_,S),1200080426,c(h,L+20),12),T(n(y,_,S),2821735955,c(h,L+24),17),T(n(y,_,S),4249261313,c(h,L+28),22),T(n(y,_,S),1770035416,c(h,L+32),7),T(n(y,_,S),2336552879,c(h,L+36),12),T(n(y,_,S),4294925233,c(h,L+40),17),T(n(y,_,S),2304563134,c(h,L+44),22),T(n(y,_,S),1804603682,c(h,L+48),7),T(n(y,_,S),4254626195,c(h,L+52),12),T(n(y,_,S),2792965006,c(h,L+56),17),T(n(y,_,S),1236535329,c(h,L+60),22),T(a(y,_,S),4129170786,c(h,L+4),5),T(a(y,_,S),3225465664,c(h,L+24),9),T(a(y,_,S),643717713,c(h,L+44),14),T(a(y,_,S),3921069994,c(h,L),20),T(a(y,_,S),3593408605,c(h,L+20),5),T(a(y,_,S),38016083,c(h,L+40),9),T(a(y,_,S),3634488961,c(h,L+60),14),T(a(y,_,S),3889429448,c(h,L+16),20),T(a(y,_,S),568446438,c(h,L+36),5),T(a(y,_,S),3275163606,c(h,L+56),9),T(a(y,_,S),4107603335,c(h,L+12),14),T(a(y,_,S),1163531501,c(h,L+32),20),T(a(y,_,S),2850285829,c(h,L+52),5),T(a(y,_,S),4243563512,c(h,L+8),9),T(a(y,_,S),1735328473,c(h,L+28),14),T(a(y,_,S),2368359562,c(h,L+48),20),T(o(y,_,S),4294588738,c(h,L+20),4),T(o(y,_,S),2272392833,c(h,L+32),11),T(o(y,_,S),1839030562,c(h,L+44),16),T(o(y,_,S),4259657740,c(h,L+56),23),T(o(y,_,S),2763975236,c(h,L+4),4),T(o(y,_,S),1272893353,c(h,L+16),11),T(o(y,_,S),4139469664,c(h,L+28),16),T(o(y,_,S),3200236656,c(h,L+40),23),T(o(y,_,S),681279174,c(h,L+52),4),T(o(y,_,S),3936430074,c(h,L),11),T(o(y,_,S),3572445317,c(h,L+12),16),T(o(y,_,S),76029189,c(h,L+24),23),T(o(y,_,S),3654602809,c(h,L+36),4),T(o(y,_,S),3873151461,c(h,L+48),11),T(o(y,_,S),530742520,c(h,L+60),16),T(o(y,_,S),3299628645,c(h,L+8),23),T(s(y,_,S),4096336452,c(h,L),6),T(s(y,_,S),1126891415,c(h,L+28),10),T(s(y,_,S),2878612391,c(h,L+56),15),T(s(y,_,S),4237533241,c(h,L+20),21),T(s(y,_,S),1700485571,c(h,L+48),6),T(s(y,_,S),2399980690,c(h,L+12),10),T(s(y,_,S),4293915773,c(h,L+40),15),T(s(y,_,S),2240044497,c(h,L+4),21),T(s(y,_,S),1873313359,c(h,L+32),6),T(s(y,_,S),4264355552,c(h,L+60),10),T(s(y,_,S),2734768916,c(h,L+24),15),T(s(y,_,S),1309151649,c(h,L+52),21),T(s(y,_,S),4149444226,c(h,L+16),6),T(s(y,_,S),3174756917,c(h,L+44),10),T(s(y,_,S),718787259,c(h,L+8),15),T(s(y,_,S),3951481745,c(h,L+36),21),f=w(f,v),p=w(p,y),g=w(g,_),m=w(m,S)}return function(t,e,n,a){for(var o="",s=0,c=0,r=3;r>=0;r--)s=255&(c=arguments[r]),s<<=8,s|=255&(c>>>=8),s<<=8,s|=255&(c>>>=8),s<<=8,o+=i(s|=c>>>=8);return o}(m,g,p,f).toUpperCase()}(t+""+i+this.leaderboardName+"ffjoffrey100times").toLowerCase();return"uid="+t+"&name="+n.name+"&avatar="+n.avatar+"&score="+i+"&leaderboard="+this.leaderboardName+"&token="+a}},cc._RF.pop()},{}],LevelProgressBar:[function(t,e,i){"use strict";cc._RF.push(e,"e9fc8CUoCZFB7UIPiY3o2OC","LevelProgressBar");var n=1,a=2;cc.Class({extends:cc.Component,properties:{title:cc.Label,barLayout:cc.Node,lvbar2_split:cc.Node,lvbar2_1_1_Sf:cc.SpriteFrame,lvbar2_1_2_Sf:cc.SpriteFrame,lvbar2_2_1_Sf:cc.SpriteFrame,lvbar2_2_2_Sf:cc.SpriteFrame},onLoad:function(){this.init()},init:function(){this.barList=[]},initLvProgress:function(t,e){this.barLayout.removeAllChildren(),this.barList=[],this.title.string="Level "+t;var i=(244-5*(e-1))/e;console.log("barWidth :",i);for(var n=0;n<e;++n){var a=Global.createBySpriteFrame(null);a.type=cc.Sprite.Type.SLICED,a.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.barList.push(a);var o=a.node;o.parent=this.barLayout,o.width=i,o.height=41,o.x=(.5+n)*i-122+5*n,o.y=2.6}this.barList[e-1].node.scaleX=-1;for(var s=0;s<e-1;++s){var c=0==s?this.lvbar2_split:cc.instantiate(this.lvbar2_split);c.parent=this.barLayout,c.x=5*(.5+s)-122+(s+1)*i,c.y=2.6}},setLvProgress:function(t,e){if(t>0&&t<=this.barList.length){var i=this.barList[t-1];1==t||t==this.barList.length?e==n?i.spriteFrame=this.lvbar2_1_1_Sf:e==a&&(i.spriteFrame=this.lvbar2_1_2_Sf):e==n?i.spriteFrame=this.lvbar2_2_1_Sf:e==a&&(i.spriteFrame=this.lvbar2_2_2_Sf)}else console.error("setLvProgress error : doneNum = ",t)}}),cc._RF.pop()},{}],LoadingMng:[function(t,e,i){"use strict";cc._RF.push(e,"0bbe47IGwNHUpu1klmPK+cK","LoadingMng");var n=r(t("NotificationCenter")),a=r(t("MissionDataHandler")),o=r(t("SkinDataHandler")),s=r(t("GameDataHandler")),c=r(t("Server"));function r(t){return t&&t.__esModule?t:{default:t}}cc.Class({extends:t("NodeBase"),properties:{gameVersion:cc.Label,loadingLabel:cc.Label,progressBar:cc.ProgressBar,iconNode:cc.Node,icon:cc.Node},onLoad:function(){cc.sys.platform==cc.sys.WECHAT_GAME&&c.default.reportAppid(0),n.default.Instant.register(NotificationMsg.LOAD_OVER,this,this.onLoadOver),n.default.Instant.register(NotificationMsg.PERCENT_CHANGE,this,this.onPercentChange),this.interval=1/120,this.stepCnt=0,this.firstSeg=80,this.firstSegTotalTime=8e3,this.beginTime=(new Date).getTime(),this.timeCnt=0,this._setPercent(this.stepCnt),this.schedule(this.sch,this.interval,cc.macro.REPEAT_FOREVER)},sch:function(){this.timeCnt;this.timeCnt=(new Date).getTime()-this.beginTime,this.stepCnt=Math.min(80,this.timeCnt/this.firstSegTotalTime*this.firstSeg),this._setPercent(this.stepCnt),this.resLoadOver&&this.scenceLoadOver&&(cc.log("\u8d44\u6e90\u548c\u573a\u666f\u52a0\u8f7d\u5b8c\u6210.... this.stepCnt = "+this.stepCnt),this.unschedule(this.sch),this.remainSeg=100-this.stepCnt,this.minTime=this.remainSeg/80,this.maxTime=10-((new Date).getTime()-this.beginTime)/1e3,this.waitTime=Math.max(this.minTime,this.maxTime),cc.log(" maxTime = "+this.maxTime+" "),cc.log(" waitTime = "+this.waitTime+" "),cc.log(" \u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5,\u5f00\u59cb\u7b49\u5f85\u5e7f\u544a "),this.timeCnt=0,this.schedule(this.waitAdSch,this.interval,cc.macro.REPEAT_FOREVER))},waitAdSch:function(t){this.timeCnt+=t,this.stepCnt+=t/this.waitTime*this.remainSeg,this._setPercent(this.stepCnt),(this.timeCnt>this.minTime&&PlatformMgr.isLoadingIntAdFinished()||this.stepCnt>=100)&&(cc.log("\u7b49\u5f85\u5e7f\u544a\u5b8c\u6210.... this.stepCnt = "+this.stepCnt),this.unschedule(this.waitAdSch),this.remainSeg=100-this.stepCnt,this.remainSeg>0?(this.waitTime=this.remainSeg/80,this.timeCnt=0,cc.log("\u6700\u540e\u4e00\u6bb5\u5f00\u59cb"),this.schedule(this.finalSch,this.interval,cc.macro.REPEAT_FOREVER)):(PlatformMgr.showLoadingIntAd(),CommonNode.Instant.loadScene(this.sceneName)))},finalSch:function(t){this.timeCnt+=t,this.stepCnt+=t/this.waitTime*this.remainSeg,this._setPercent(this.stepCnt),this.stepCnt>=100&&(cc.log("\u6700\u540e\u4e00\u6bb5\u5b8c\u6210.... this.stepCnt = "+this.stepCnt),this.unschedule(this.finalSch),PlatformMgr.showLoadingIntAd(),CommonNode.Instant.loadScene(this.sceneName))},onDestroy:function(){},update:function(t){this.iconNode.x=469*this.progressBar.progress-236},start:function(){if(console.time("\u52a0\u8f7d\u603b\u8017\u65f6"),FileUtils.Instant.loadConfig(),Constant.visibleSize=cc.view.getVisibleSize(),Constant.visibleScale.hScale=Constant.visibleSize.height/1280,this.icon.runAction(cc.repeatForever(cc.rotateBy(.2,30))),a.default.Instant.loadConfig(),o.default.Instant.loadConfig(),s.default.Instant.loadConfig(),this.updateGameVersion(),cc.sys.platform==cc.sys.WECHAT_GAME){var t=SDK.pdd_toggle;pddSDK&&1===parseInt(t)&&(pddSDK.init({game_id:"puzzle01"}),pddSDK.getPDDGoodsList(),pddSDK.getPDDHotGoodsList())}},onLoadOver:function(t){var e=this;this.resLoadOver=!0,cc.log("\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210  this.resLoadOver");var i=cc.find("CommonNode");cc.game.isPersistRootNode(i)||cc.game.addPersistRootNode(i),s.default.Instant.getData().curMission>1?this.preloadScene():WxSDK._getServerData(function(){e.preloadScene()})},onPercentChange:function(t){},_setPercent:function(t){this.loadingLabel.string="Loading..."+Math.min(Math.floor(t),100)+"%",this.progressBar&&(this.progressBar.progress=t/100)},updateGameVersion:function(){cc.sys.platform==cc.sys.WECHAT_GAME?this.gameVersion.string="v"+SDK.game_version+".0":this.gameVersion.string="v"+SDK.game_version},preloadScene:function(){var t=this;this.sceneName="game",console.time(this.sceneName+" \u573a\u666f\u9884\u52a0\u8f7d\u5b8c\u6210\uff0c\u8017\u65f6"),cc.director.preloadScene(this.sceneName,function(t,e){},function(e,i){if(e)return cc.log("err:",e),void t.showModal(function(e){e.confirm&&t.scheduleOnce(function(){t.stepCnt=0,t.preloadScene()},.5)});console.timeEnd(t.sceneName+" \u573a\u666f\u9884\u52a0\u8f7d\u5b8c\u6210\uff0c\u8017\u65f6"),t.scenceLoadOver=!0,cc.log("\u573a\u666f\u9884\u52a0\u8f7d\u5b8c\u6210  this.scenceLoadOver")})},showModal:function(t,e,i){"undefined"!=typeof wx&&wx.showModal({title:"\u52a0\u8f7d\u5931\u8d25",content:"\u7f51\u7edc\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u91cd\u8bd5!",showCancel:!1,cancelText:"\u53d6\u6d88",confirmText:"\u91cd\u8bd5",success:t,fail:e,complete:i})}}),cc._RF.pop()},{GameDataHandler:"GameDataHandler",MissionDataHandler:"MissionDataHandler",NodeBase:"NodeBase",NotificationCenter:"NotificationCenter",Server:"Server",SkinDataHandler:"SkinDataHandler"}],LocalStorageUtils:[function(t,e,i){"use strict";cc._RF.push(e,"a9c39/xX6VL2KbaONz8EmXV","LocalStorageUtils");var n=cc.Class({extends:t("Singleton"),properties:{_signName:"fruit03_v1"},getData:function(t,e){var i=this._signName+t,n=cc.sys.localStorage.getItem(i);return n?JSON.parse(n):e?(this.setData(t,e),e):null},setData:function(t,e){void 0!=e&&null!=e||cc.error("setData value is null"),t=this._signName+t,e=JSON.stringify(e),"undefined"==typeof wx?cc.sys.localStorage.setItem(t,e):wx.setStorage({key:t,data:e})},initData:function(t,e){var i=this.getData(t);if(null==i)return this.setData(t,e),e;for(var n in e)-1===Object.keys(i).indexOf(n)&&(i[n]=e[n]);return this.setData(t,i),i},resetData:function(t,e){var i=this.getData(t);if(i){for(var n in e)-1!==Object.keys(i).indexOf(n)&&(i[n]=e[n]);this.setData(t,i)}return i},clearStorage:function(t,e,i){SDK._checkWx(null,null,"clearStorage")?wx.clearStorage({success:t,fail:e,complete:i}):(cc.sys.localStorage.clear(),t&&t())},getItemInt:function(t,e){var i=this.getData(t);return t||e||(i=e,this.setData(t,i)),parseInt(i)},setItemInt:function(t,e){this.setData(t,e)},setDataWithLog:function(t,e){e||cc.error("setData value is null"),t=this._signName+t,e=JSON.stringify(e),"undefined"==typeof wx?cc.sys.localStorage.setItem(t,e):wx.setStorage({key:t,data:e})}});window.LocalStorageUtils=e.exports=n,null==n.Instant&&(n.Instant=new n),cc._RF.pop()},{Singleton:"Singleton"}],LuckTurnTable:[function(t,e,i){"use strict";cc._RF.push(e,"1dda4CQMfNLs613/G70XDNI","LuckTurnTable"),window.TurnTableType=cc.Enum({ExtraSkin:0,CommonSkin:1}),cc.Class({extends:cc.Component,properties:{getToastList:[cc.Node],giftList:[cc.Node],baseNode:cc.Node,turnTableNode:cc.Node,knifeNode:cc.Node,beginBtn:cc.Node,againBtn:cc.Node,nextLvBtn:cc.Node,toStartBtn:cc.Node,shareSp:cc.SpriteFrame,videoSp:cc.SpriteFrame},onLoad:function(){},start:function(){},show:function(){PlatformMgr.hideBanner()},hide:function(){var t=this;GameMng.removePopLy(this),PlatformMgr.showBanner(),this.baseNode.runAction(cc.sequence(cc.scaleTo(.2,0).easing(cc.easeElasticIn(.8)),cc.callFunc(function(){GameMng.knifeLy.show(),GameMng.showLiDaoBtn.active=WxSDK.canShowGainPos(GainPos.Three),t.closeCf&&t.closeCf(),t.node.destroy()})))},pressClose:function(){this.nextMission()},init:function(t){this.turnTableType=t,this.baseNode.scale=.5,this.baseNode.stopAllActions(),this.baseNode.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.8))),this.turnTableNode.angle=0,this.beginBtn.active=!0,this.knifeNode.active=!1,this.againBtn.active=!1,this.nextLvBtn.active=!1,this.toStartBtn.active=!1,this.getToastList[0].active=!1,this.getToastList[1].active=!1,this.canFire=!1,this.refreshGift(),GameMng.knifeLy.hide(),GameMng.showLiDaoBtn.active=!1},refreshGift:function(){var t=this;this.skin=this.turnTableType===TurnTableType.CommonSkin?SkinDataHandler.Instant.getRandomPropSkin():SkinDataHandler.Instant.getPageRandomByIndex(3),this.skin||(this.skin=[2,0]),this.knifeSprName=SkinDataHandler.Instant.getSkinNameByIndexes(this.skin);var e=0;this.giftListData=Constant.turntableGiftList[this.turnTableType],this.giftListData.forEach(function(i){t.createGift(i,t.giftList[e]),e++})},createGift:function(t,e){switch(t.type){case"knife":var i=e.getChildByName("icon");i.scale=.5,i.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprBySkinNode(this.knifeSprName);var n=e.getChildByName("label").getComponent(cc.Label);3===t.id?n.string="Unlock":n.string=t.value+"",n.node.position=cc.v2(0,-70);break;case"coin":e.getChildByName("icon").scale=1;var a=e.getChildByName("label");a.getComponent(cc.Label).string=t.value,a.position=cc.v2(0,-60)}var o=(t.rotations[1]-t.rotations[0])/2+t.rotations[0],s=o*Math.PI/180,c=0*Math.cos(s)- -200*Math.sin(s),r=-200*Math.cos(s)+0*Math.sin(s);e.position=cc.v2(c,r),e.angle=-180+o},getGift:function(t){var e=0;t%=360;for(var i=0;i<this.giftListData.length;++i){var n=this.giftListData[i];if(t>=0){if(t>=n.rotations[0]&&t<n.rotations[1]){e=n;break}}else if((t=360+t)>=n.rotations[0]&&t<n.rotations[1]){e=n;break}}if(0!==e){var a=void 0;if("coin"===e.type)ToastMng.showToast("Congratulations for getting "+e.value+" coins"),GameDataHandler.Instant.updateCoin(parseInt(e.value)),a=this.getToastList[0],this.getToastList[1].active=!1,a.getChildByName("coin").getComponent(cc.Label).string="+"+e.value;else if("knife"===e.type){a=this.getToastList[1],this.getToastList[0].active=!1;var o=a.getChildByName("icon"),s=SkinDataHandler.Instant.getSkinNameByIndexes(this.skin);o.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprBySkinNode(s),a.getChildByName("text").getComponent(cc.Label).string="Unlock",NotificationCenter.Instant.post(NotificationMsg.PROP_UPDATE,{type:PropType.SKIN,value:{skin:this.skin,value:e.value}})}a.active=!0}},playSheetKnife:function(){var t=this;if(this.canFire){this.canFire=!1,AudioMng.playEffect("fly_knife");var e=this.knifeNode;e.stopAllActions();var i=cc.v2(0,-141*Constant.visibleScale.hScale);e.runAction(cc.sequence(cc.spawn(cc.moveTo(.2,i),cc.rotateBy(.2,-360)),cc.callFunc(function(){t.turnTableShake(),t.sheetEnd(),t.getGift(-t.turnTableNode.angle)})))}},playKnifePrepareAnim:function(){var t=this.knifeNode;t.stopAllActions(),t.position=cc.v2(0,-400*Constant.visibleScale.hScale),t.angle=0,t.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(0,70)),cc.moveBy(.5,cc.v2(0,-70)))))},turnTableShake:function(){this.turnTableNode.stopAllActions(),this.turnTableNode.runAction(cc.sequence(cc.moveBy(.02,cc.v2(0,10)),cc.moveBy(.01,cc.v2(0,-10)),cc.moveBy(.01,cc.v2(0,15)),cc.moveBy(.02,cc.v2(0,-15))))},prepareSheet:function(){this.knifeNode.active=!0,this.beginBtn.active=!1,this.againBtn.active=!1,this.nextLvBtn.active=!1,this.toStartBtn.active=!1,this.getToastList[0].active=!1,this.getToastList[1].active=!1,this.playKnifePrepareAnim(),this.turnTableNode.runAction(cc.repeatForever(cc.rotateBy(.5,80))),this.canFire=!0},sheetEnd:function(){this.beginBtn.active=!1,this.refreshState(),this.nextLvBtn.active=!0,this.nextLvBtn.y=this.againBtnActive?-450:-361,this.toStartBtn.active=!0},nextMission:function(){this.hide(),this.closeCf=function(){GameMng.playLy.nextMission()}},refreshState:function(){this.updateState(WxSDK.getOtherGetFunc(GainPos.AddedBonus))},updateState:function(t){switch(this.getFuncType=t,this.againBtnActive=!0,this.getFuncType){case GainFuncType.SHARE:this.againBtn.getComponent(cc.Sprite).spriteFrame=this.shareSp;break;case GainFuncType.VIDEO:this.againBtn.getComponent(cc.Sprite).spriteFrame=this.videoSp;break;default:this.againBtnActive=!1}this.againBtn.active=this.againBtnActive},clickBegin:function(){PlatformMgr.showButtonIntAd(),this.beginBtn.scale=1,this.prepareSheet()},clickNextLvBtn:function(){PlatformMgr.showButtonIntAd(),this.nextLvBtn.scale=1,this.nextMission()},clickAgainBtn:function(){var t=this;this.againBtn.scale=1,this.getFuncType===GainFuncType.VIDEO?PlatformMgr.hasVideo()?PlatformMgr.showVideo(function(e){e?t.prepareSheet():t.refreshState()},function(){t.refreshState(),ToastMng.showToast("Watching video failed!",1.8)}):(this.refreshState(),ToastMng.showToast("Watching video failed!",1.8)):this.getFuncType===GainFuncType.SHARE&&WxSDK.propShare2(PropType.ADDEDBONUS,function(e){t.prepareSheet()},function(){t.refreshState()},function(){GameDataHandler.Instant.shareTimes++})},clickToStartBtn:function(){PlatformMgr.showButtonIntAd(),this.toStartBtn.scale=1,this.hide(),this.closeCf=function(){GameMng.toStart()}}}),cc._RF.pop()},{}],Mask:[function(t,e,i){"use strict";cc._RF.push(e,"860c13hA45L6p5uCKoHgQmm","Mask");var n=1e3;cc.Class({extends:cc.Component,properties:{},statics:{maskPfb:cc.Prefab,showMask:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments[3];if(t.parent){var a="BlockEventMask_"+t.name,o=t.parent.getChildByName(a);if(!o)(o=cc.instantiate(this.maskPfb)).x=o.y=0,o.name=a,t.parent.addChild(o),o.getComponent("Mask").init();o.getComponent("Mask").showMask(t,e,i,n)}},hideMask:function(t){if(t.parent){var e="BlockEventMask_"+t.name,i=t.parent.getChildByName(e);if(i)i.getComponent("Mask").hideMask(),i.destroy()}}},showMask:function(t,e,i,a){var o=this;this.node.active||(this.node.active=!0,this._target=t.node||t,this._onClick=a,this._widget.enabled=!0,this._widget.target=cc.Canvas.instance.node,this._zorderBak=this._target.zIndex,this.node.zIndex=n,this._target.zIndex=n+1,n+=2,this.node.opacity=e,this._block.enabled=!0,this._onClick&&this.node.on(cc.Node.EventType.TOUCH_END,function(){o._onClick()}),i>=0&&this.scheduleOnce(this.hideMask,i))},hideMask:function(){this._target&&(this._target.zIndex=this._zorderBak,this._onClick&&this.node.off(cc.Node.EventType.TOUCH_END,this._onClick),this.node.zIndex=-1,this._onClick=null,this._block.enabled=!1,this.node.active=!1)},init:function(){this._block=this.getComponent(cc.BlockInputEvents),this._btn=this.getComponent(cc.Button),this._widget=this.getComponent(cc.Widget),this._target=null,this._onClick=null,this._zorderBak=0,this.node.zIndex=-1,this._block.enabled=!1,this.node.active=!1},start:function(){}}),cc._RF.pop()},{}],MathConvert:[function(t,e,i){"use strict";cc._RF.push(e,"f3b49hFlFlPPqBJw6glYFAF","MathConvert"),window.RadToDeg=180/Math.PI,window.DegToRad=Math.PI/180,Math.getRandom=function(t,e,i){return i?Math.myRandom()*(e-t)+t:Math.random()*(e-t)+t},Math.getRandomInt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16777215,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Math.floor(Math.getRandom(t,e,i))},Math.clamp=function(t,e,i){return t<e?e:t>i?i:t},Math.clamp0_1=function(t){return Math.clamp(t,0,1)},Math.getValueByRandVar=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return-t+2*Math.random().toFixed(e)*t},Math.getNormalValue=function(){return value?value/Math.abs(value):0},Math.calcAngle2D=function(t,e){Math.asin();var i=Math.atan((e.y-t.y)/(e.x-t.x))*RadToDeg;if(e.y>t.y&&e.x>t.x)return i;e.y<t.y&&e.x<t.x&&cc.pAngleSigned(),cc.radiansToDegrees()},Math.mySeed=0,Math.myRandomBySeed=function(t){var e=window.mySeed||0;this.mySrand(t),this.myRandom(),this.myRandom();var i=this.random();return this.mySrand(e),i},Math.myRandom=function(){return window.mySeed=(214013*window.mySeed+2531011)%4294967296,window.mySeed/4294967296},Math.myRandomInt=function(t,e,i){return Math.floor(Math.myRandom()*(e-t+1)+t)},Math.mySrand=function(t){window.mySeed=parseInt(t)||0},cc._RF.pop()},{}],MissionDataHandler:[function(t,e,i){"use strict";cc._RF.push(e,"64766yRPNtN8ZFB9Rcq9xQr","MissionDataHandler");var n=t("DataHandler"),a=cc.Class({extends:n,properties:{},onInit:function(){this._configTableURL="MissionData",this._configRelativeURL="MissionInfo"},createMissionData:function(t){for(var e=[],i=this._config.fruitListTypeMax+1+this._config.fruitShapeMax+1,n=0;n<t;++n){for(var a=[],o=Math.getRandomInt(1,5,!0),s=0;s<o;++s)a.push(Math.getRandomInt(0,this._config.fruitTypeMax,!0));var c={fruitListType:Math.getRandomInt(0,i,!0),rotateType:Math.getRandomInt(0,this._config.rotateTypeMax+1,!0),moveType:3,spList:a};e.push(c)}return e},createMissionData5:function(t,e){for(var i=[],n=0;n<t;++n){for(var a=[],o=Math.getRandomInt(1,5,!0),s=0;s<o;++s)a.push(Math.getRandomInt(0,this._config.fruitTypeMax,!0));var c=this._config.fruitListTypeMax+1+this._config.fruitShapeMax+1,r={fruitListType:e<25?e+18:Math.getRandomInt(0,c,!0),rotateType:Math.getRandomInt(0,this._config.rotateTypeMax+1,!0),moveType:3,spList:a};i.push(r)}return i},getLvMission:function(){var t=GameDataHandler.Instant.curMission,e=this._config.lvInfo[t-1];if(!e){var i=4+Math.floor(t/50);e=this.createMissionData(i)}return e},getEndlessLvInfo:function(){return this.createMissionData(1)[1]},getFruitNumByMission2:function(t){var e=this,i=[];return t.forEach(function(t){i.push(e._config.fruitNumList[t.fruitListType])}),i},getShapeData:function(t){this._config.shapeList.length;return this._config.shapeList[t]},checkShapeData:function(t){},getFruitNumByMission:function(t){var e=this,i=[];return t.forEach(function(t){var n=parseInt(t.fruitListType);if(n<0||n>133);else if(n<=e._config.fruitListTypeMax)i.push(e._config.fruitNumList[n]);else{var a=n-18;e._config.shapeList.indexOf(a)?i.push(e._config.shapeList[a].length):i.push(e._config.shapeList[0].length)}}),i}});window.MissionDataHandler=e.exports=a,null===a.Instant&&(a.Instant=new a),cc._RF.pop()},{DataHandler:"DataHandler"}],MissionInfo:[function(t,e,i){"use strict";cc._RF.push(e,"c23c1mVzAtJ1K8ypZX99ihE","MissionInfo");e.exports={money:200,loadEveryDayMoney:50,skinNeedCoin:[500,1e3,1500],curMission:1,fruitNumList:[9,8,10,8,8,6,6,6,7,7,6,7,7,7,11,7,8,8],fruitTypeMax:8,fruitListTypeMax:17,fruitShapeMax:115,rotateTypeMax:19,tableData:{shapeIndex:0,storageLvInfo:[{fruitListType:18,rotateType:18,moveType:0,spList:[3,2]},{fruitListType:19,rotateType:18,moveType:1,spList:[4]},{fruitListType:20,rotateType:18,moveType:0,spList:[7]}]},lvInfo:[[{fruitListType:18,rotateType:18,moveType:0,spList:[2]},{fruitListType:19,rotateType:18,moveType:1,spList:[1]}],[{fruitListType:20,rotateType:18,moveType:0,spList:[3]},{fruitListType:21,rotateType:18,moveType:1,spList:[4,0]},{fruitListType:22,rotateType:18,moveType:0,spList:[7]}],[{fruitListType:23,rotateType:18,moveType:2,spList:[5]},{fruitListType:24,rotateType:18,moveType:3,spList:[7]},{fruitListType:25,rotateType:19,moveType:0,spList:[6]},{fruitListType:26,rotateType:0,moveType:0,spList:[2]}],[{fruitListType:27,rotateType:0,moveType:4,spList:[0]},{fruitListType:28,rotateType:4,moveType:2,spList:[2]},{fruitListType:29,rotateType:18,moveType:0,spList:[5,4]},{fruitListType:30,rotateType:19,moveType:0,spList:[3,2]}],[{fruitListType:31,rotateType:4,moveType:4,spList:[4,6]},{fruitListType:32,rotateType:1,moveType:1,spList:[1]},{fruitListType:33,rotateType:18,moveType:2,spList:[0]},{fruitListType:34,rotateType:19,moveType:0,spList:[3,5]}],[{fruitListType:35,rotateType:9,moveType:3,spList:[1]},{fruitListType:36,rotateType:1,moveType:2,spList:[4]},{fruitListType:37,rotateType:18,moveType:1,spList:[6]},{fruitListType:38,rotateType:19,moveType:0,spList:[7]}],[{fruitListType:39,rotateType:12,moveType:3,spList:[1,0]},{fruitListType:40,rotateType:0,moveType:2,spList:[1,6]},{fruitListType:41,rotateType:14,moveType:1,spList:[3,2]},{fruitListType:42,rotateType:1,moveType:0,spList:[0,2]}],[{fruitListType:43,rotateType:18,moveType:3,spList:[4,0]},{fruitListType:44,rotateType:12,moveType:2,spList:[1,2,0]},{fruitListType:45,rotateType:1,moveType:1,spList:[1,2,2]},{fruitListType:46,rotateType:8,moveType:0,spList:[0,6]}],[{fruitListType:47,rotateType:0,moveType:3,spList:[1]},{fruitListType:48,rotateType:19,moveType:2,spList:[1,5,0]},{fruitListType:49,rotateType:4,moveType:1,spList:[1,2,2]},{fruitListType:50,rotateType:5,moveType:0,spList:[4,2]}],[{fruitListType:51,rotateType:1,moveType:3,spList:[2,1]},{fruitListType:52,rotateType:9,moveType:2,spList:[1,0]},{fruitListType:53,rotateType:4,moveType:1,spList:[0,2]},{fruitListType:54,rotateType:8,moveType:0,spList:[5,3]}],[{fruitListType:55,rotateType:7,moveType:3,spList:[1]},{fruitListType:56,rotateType:9,moveType:2,spList:[1,2,0]},{fruitListType:57,rotateType:4,moveType:1,spList:[7,4,2]},{fruitListType:58,rotateType:19,moveType:0,spList:[0,2]}],[{fruitListType:59,rotateType:12,moveType:3,spList:[2]},{fruitListType:60,rotateType:13,moveType:2,spList:[1,2,0]},{fruitListType:61,rotateType:18,moveType:1,spList:[3,2,2]},{fruitListType:62,rotateType:2,moveType:0,spList:[7,6]}],[{fruitListType:63,rotateType:12,moveType:3,spList:[0,0]},{fruitListType:64,rotateType:8,moveType:2,spList:[1,0]},{fruitListType:65,rotateType:0,moveType:1,spList:[2,2]},{fruitListType:66,rotateType:4,moveType:0,spList:[5]}],[{fruitListType:67,rotateType:5,moveType:3,spList:[0,6]},{fruitListType:68,rotateType:14,moveType:2,spList:[4,0]},{fruitListType:69,rotateType:0,moveType:1,spList:[2,6]},{fruitListType:70,rotateType:18,moveType:0,spList:[3]}]],lvInfo2:[[{fruitListType:0,rotateType:2,fruitTNum:3},{},{}]],shapeList:[[[0,0],[-105,0],[-210,0],[105,0],[210,0]],[[0,140],[-70,35],[70,35],[0,-70],[140,-70],[-140,-70]],[[-35,105],[35,35],[-35,-35],[35,-105],[-35,-210],[35,210]],[[105,-105],[-105,-105],[0,0],[-140,35],[140,35],[0,140]],[[-70,140],[70,140],[140,0],[70,-140],[-70,-140],[-140,0]],[[-105,70],[-105,-70],[-210,0],[105,-70],[105,70],[210,0]],[[0,105],[0,-105],[-70,-175],[0,0],[70,175],[-105,70],[105,-70]],[[0,0],[105,0],[-105,0],[-105,105],[105,105],[-210,0],[210,0]],[[0,0],[-70,70],[-140,140],[70,70],[140,140],[0,-105],[0,-210]],[[-105,0],[-210,0],[105,0],[0,105],[0,0],[0,-105],[210,0]],[[-70,105],[70,105],[0,-70],[0,35],[-105,-70],[105,-70],[0,-175]],[[35,140],[35,35],[140,35],[-70,35],[35,-70],[-70,-70],[-140,-140]],[[0,0],[70,70],[70,175],[175,70],[-70,-70],[-70,-175],[-175,-70]],[[-70,-140],[-140,-35],[70,-140],[140,-35],[70,105],[-105,105],[0,0]],[[-70,175],[-105,70],[0,-70],[0,-175],[70,0],[105,105],[35,175]],[[0,0],[70,70],[140,140],[140,0],[-70,-70],[-140,-140],[-140,0]],[[0,-105],[0,0],[0,105],[0,-210],[0,210],[-105,0],[105,0]],[[-175,-35],[-105,-105],[-35,-175],[35,-105],[105,-35],[175,35],[245,105]],[[0,-210],[105,-210],[-105,-210],[-105,-105],[-105,0],[-105,105],[-105,210]],[[0,0],[70,70],[140,140],[-70,-70],[-140,-140],[0,-140],[0,140]],[[0,-35],[0,105],[70,35],[-70,35],[70,-105],[-70,-105],[0,210]],[[-105,105],[-35,175],[-175,35],[105,-105],[35,-175],[175,-35],[0,0]],[[70,70],[-70,70],[0,-35],[70,-140],[-70,-140],[-70,175],[70,175]],[[0,0],[70,70],[140,140],[-70,-70],[-140,-140],[175,35],[-175,-35]],[[-140,-140],[140,-140],[0,-245],[0,-105],[0,0],[0,105],[0,210]],[[105,245],[105,140],[105,35],[105,-70],[70,-175],[-35,-175],[-105,-105]],[[0,0],[0,105],[105,70],[-105,70],[0,-105],[0,-210],[0,210]],[[70,-35],[-70,35],[-35,140],[-140,105],[-105,210],[35,-140],[140,-105],[105,-210]],[[0,0],[-70,105],[70,105],[105,-105],[-105,-105],[0,-140],[140,0],[-140,0]],[[-140,-210],[140,-210],[0,70],[0,-70],[0,210],[0,-210],[-140,70],[140,70]],[[-70,35],[70,35],[70,-70],[-70,-70],[175,-70],[175,35],[-175,-70],[-175,35]],[[-70,0],[70,0],[-175,0],[175,0],[-70,105],[70,105],[0,-70],[0,-175]],[[-70,-70],[70,70],[35,-35],[-35,35],[-105,105],[105,-105],[0,140],[-140,0]],[[-140,105],[-70,-70],[-140,0],[0,-140],[70,-70],[140,0],[140,105],[0,35]],[[70,-70],[-70,70],[70,70],[-70,-70],[0,140],[0,-140],[-140,0],[140,0]],[[0,0],[0,105],[0,210],[-105,105],[105,105],[0,-105],[105,-105],[-105,-105]],[[70,210],[-35,210],[-140,140],[-175,35],[-175,-70],[-105,-140],[105,-175],[0,-175]],[[-105,105],[105,105],[-105,-105],[105,-105],[210,-105],[-210,105],[0,-105],[0,105]],[[-105,35],[0,35],[105,35],[0,-70],[0,-175],[-105,-175],[105,-175],[0,140]],[[70,70],[140,0],[0,140],[-70,70],[-140,0],[0,0],[-140,-105],[140,-105]],[[0,105],[0,-105],[-105,-105],[105,-105],[-105,0],[105,0],[105,105],[-105,105]],[[0,0],[0,105],[0,-105],[0,-210],[-105,-210],[105,-210],[-105,210],[105,210],[0,210]],[[0,0],[105,0],[-105,0],[0,280],[-105,280],[105,280],[105,-245],[-105,-245],[0,-245]],[[140,175],[-140,175],[-140,70],[140,70],[140,-35],[-140,-35],[-105,-140],[105,-140],[0,-175]],[[140,140],[70,70],[-70,-70],[-140,-140],[210,70],[140,0],[0,0],[-210,-70],[-140,0]],[[-105,0],[-210,0],[105,0],[210,0],[-140,105],[175,105],[0,0],[0,-105],[0,-175]],[[-210,0],[-105,0],[0,0],[105,0],[210,0],[0,-105],[0,-210],[0,105],[0,210]],[[0,35],[-70,-35],[70,-35],[-140,-105],[140,-105],[175,0],[210,105],[-175,0],[-245,105]],[[0,-105],[-70,70],[70,70],[140,0],[-140,0],[0,140],[-140,-105],[140,-105],[0,0]],[[0,-105],[0,-210],[0,0],[0,105],[0,245],[-70,175],[-140,105],[70,175],[140,105]],[[-105,0],[0,0],[105,0],[-105,-105],[-105,-210],[105,-105],[105,-210],[0,105],[0,210]],[[0,-105],[0,0],[70,70],[140,140],[140,0],[0,140],[-70,70],[-140,140],[-140,0]],[[0,-105],[0,105],[-105,0],[105,0],[-105,-105],[105,-105],[0,-210],[0,0],[0,210]],[[-175,210],[-245,140],[-105,140],[210,210],[140,140],[280,140],[0,0],[70,-70],[-70,-70]],[[-105,0],[0,0],[105,0],[-105,105],[-105,210],[0,210],[105,210],[-105,-105],[-105,-210]],[[0,210],[105,210],[0,105],[0,0],[0,-105],[0,-210],[-105,210],[-210,210],[210,210]],[[0,-210],[70,-105],[-70,-105],[-105,0],[-140,105],[105,0],[140,105],[175,210],[-175,210]],[[35,70],[105,140],[175,210],[-35,0],[35,-70],[105,-140],[175,-210],[-140,0],[-245,0]],[[-105,-140],[0,-140],[105,-140],[0,-35],[-105,-35],[105,-35],[0,70],[105,70],[105,175]],[[0,0],[105,0],[-105,0],[-70,105],[70,105],[-70,-105],[70,-105],[0,210],[0,-210]],[[0,0],[70,-70],[-70,70],[70,70],[-70,-70],[-140,0],[140,0],[-140,140],[140,140]],[[0,0],[70,105],[140,210],[0,210],[-140,210],[0,-210],[140,-210],[-70,-105],[-140,-210]],[[0,0],[0,105],[0,-105],[0,-210],[0,210],[-105,0],[-210,0],[105,0],[210,0]],[[0,105],[-140,-35],[-70,-105],[0,-175],[70,-105],[140,-35],[-105,105],[105,105],[0,0]],[[0,0],[70,70],[70,-70],[140,-140],[-70,-70],[-140,-140],[-70,70],[0,-140],[0,140]],[[0,0],[-70,70],[-140,140],[70,-70],[140,-140],[70,70],[-70,-70],[-140,-140],[140,140]],[[0,0],[-70,70],[-140,140],[70,-70],[140,-140],[70,70],[140,140],[-70,-70],[-140,-140]],[[0,0],[70,70],[140,140],[-70,-70],[-140,-140],[35,-105],[105,-35],[-105,35],[-35,105]],[[0,0],[0,-105],[0,-210],[0,105],[0,210],[-105,-105],[105,-105],[-105,140],[105,140]],[[0,0],[-70,70],[70,70],[0,-105],[70,-175],[-70,-175],[-175,-210],[175,-210],[0,140],[0,245]],[[0,210],[-105,175],[105,175],[-140,70],[140,70],[-140,-35],[140,-35],[-105,-140],[105,-140],[0,-175]],[[-140,0],[-70,-70],[-70,70],[70,-70],[140,0],[70,70],[0,0],[0,-175],[-175,105],[175,105]],[[-105,0],[0,105],[-210,105],[-105,210],[0,-105],[105,0],[210,-105],[105,-210],[-105,105],[105,-105]],[[0,-280],[0,-175],[0,-70],[0,35],[0,140],[0,245],[-105,175],[-105,-245],[105,-245],[105,175]],[[-175,70],[-140,-35],[-70,-105],[35,-105],[105,-35],[140,70],[-175,175],[140,175],[-70,70],[35,70]],[[175,175],[105,105],[35,35],[-35,-35],[-105,-105],[-175,-175],[35,175],[-35,245],[-35,-175],[35,-245]],[[35,-210],[140,-210],[140,-105],[-70,-175],[-140,-105],[-175,0],[-140,105],[-70,175],[35,210],[140,140]],[[0,0],[70,70],[140,140],[-70,-70],[-140,-140],[-70,-210],[0,-140],[140,0],[210,70],[-70,70]],[[0,175],[105,175],[-105,175],[0,70],[0,-35],[0,-140],[0,-245],[0,280],[-210,175],[210,175]],[[-105,-105],[105,105],[0,0],[105,245],[245,245],[245,105],[-245,-105],[-245,-245],[-105,-245],[-105,35],[105,-35]],[[-105,-175],[105,-175],[-105,175],[105,175],[0,0],[-70,70],[70,-70],[35,-245],[-35,-245],[-35,245],[35,245]],[[0,0],[70,70],[140,140],[210,210],[-70,-70],[-140,-140],[-210,-210],[-210,-70],[-70,-210],[70,210],[210,70]],[[0,0],[70,-105],[140,-210],[-105,0],[-105,-105],[-105,-210],[-105,105],[-105,210],[0,210],[105,175],[105,70]],[[-105,175],[-105,70],[-105,-35],[-105,-140],[-105,-245],[-105,280],[0,280],[0,35],[105,70],[105,245],[175,175]],[[-105,35],[-210,35],[105,35],[210,35],[0,0],[-70,-70],[-140,-140],[70,-70],[140,-140],[0,105],[0,210]],[[-105,0],[0,-70],[140,-210],[0,35],[70,105],[140,175],[70,-140],[-105,-105],[-105,-210],[-105,105],[-105,210]],[[0,0],[210,35],[210,-70],[210,-175],[-210,35],[-210,-70],[-210,-175],[-210,140],[210,140],[-105,70],[105,70]],[[0,245],[0,0],[-105,35],[-140,-70],[-175,-175],[-70,140],[70,140],[105,35],[140,-70],[175,-175]],[[0,280],[-140,140],[-280,0],[-140,-140],[0,-280],[140,-140],[280,0],[140,140],[0,0],[-140,0],[140,0]],[[-105,0],[0,0],[105,0],[-105,105],[-105,210],[0,210],[105,210],[-105,-105],[-105,-210],[0,-210],[105,-210]],[[0,0],[-105,-70],[105,-70],[-140,-175],[140,-175],[0,105],[0,210],[-105,140],[-210,140],[105,140],[210,140]],[[-140,0],[140,0],[0,140],[-140,280],[140,280],[0,280],[140,-280],[-140,-280],[0,0],[0,-140],[0,-280]],[[0,0],[-105,-70],[105,-70],[0,-105],[0,-210],[0,105],[0,210],[-210,-70],[210,-70],[-210,35],[210,35]],[[0,0],[-140,0],[-140,-105],[-140,-210],[140,0],[140,-105],[140,-210],[140,105],[-140,105],[-140,210],[140,210]],[[0,-175],[140,0],[0,245],[-105,210],[-140,105],[-140,0],[-105,-105],[105,210],[140,105],[105,-105],[175,-175]],[[-140,-35],[-70,-105],[0,-175],[70,-105],[140,-35],[0,0],[0,105],[0,210],[-105,210],[105,210],[210,210],[-210,210]],[[0,0],[0,-105],[0,105],[0,210],[0,315],[0,-210],[105,105],[175,0],[105,-105],[-105,105],[-175,0],[-105,-105]],[[-140,70],[-210,0],[-140,-70],[140,70],[140,-70],[210,0],[0,210],[-70,140],[70,140],[-70,-140],[0,-210],[70,-140]],[[0,-140],[0,70],[0,-35],[-105,70],[105,70],[-210,70],[210,70],[-210,175],[-210,-35],[210,-35],[210,175],[0,175]],[[-70,210],[70,210],[-210,70],[-210,-70],[210,70],[210,-70],[-70,-210],[70,-210],[-70,-70],[70,70],[-70,70],[70,-70]],[[0,70],[-105,-35],[105,-35],[-210,-140],[-210,-245],[-210,-35],[210,-35],[210,-140],[210,-245],[0,175],[0,280],[0,-35]],[[175,175],[-175,-175],[-70,-70],[70,70],[-70,70],[70,-70],[175,-175],[-175,175],[0,175],[0,-175],[-175,0],[175,0]],[[-140,210],[-140,105],[-140,0],[-140,-105],[-140,-210],[-35,210],[-35,-210],[70,175],[140,105],[140,0],[105,-105],[35,-175]],[[-140,-140],[-210,-210],[-70,-210],[70,-210],[210,-210],[140,-140],[0,0],[-70,-70],[70,-70],[-70,70],[-140,140],[70,70],[140,140]],[[-245,245],[-175,175],[-105,105],[-245,105],[-105,245],[105,-105],[105,-245],[245,-105],[245,-245],[175,-175],[-105,0],[0,0],[105,0]],[[-245,140],[-210,245],[-105,245],[-35,175],[-175,70],[-70,70],[0,0],[70,-70],[70,-175],[140,-245],[245,-210],[245,-105],[175,-35]],[[-105,105],[-105,0],[-105,-105],[0,0],[-105,210],[-105,-210],[0,210],[70,175],[105,105],[105,0],[105,-105],[105,-210],[0,-210]],[[0,210],[0,105],[0,0],[-105,175],[-175,105],[105,175],[175,105],[0,-105],[0,-210],[-175,-140],[-105,-70],[105,-70],[175,-140]],[[-140,210],[0,210],[140,210],[0,70],[0,-70],[-105,-175],[105,-175],[175,-280],[-175,-280],[-105,0],[105,0],[245,0],[-245,0]],[[-140,140],[0,280],[-70,210],[-70,70],[0,0],[70,210],[70,70],[140,140],[0,-105],[0,-210],[105,-210],[210,-210],[-105,-210],[-210,-210]],[[-175,105],[-175,210],[-175,0],[-175,-105],[-175,-210],[175,-105],[175,-210],[175,0],[175,105],[175,210],[-70,140],[-35,35],[35,-70],[70,-175]],[[-210,175],[-210,70],[-210,-35],[-210,-140],[-105,-140],[0,-140],[105,-140],[210,-140],[210,-35],[210,70],[210,175],[0,-35],[0,70],[0,175]],[[-245,0],[-210,105],[-210,-105],[-140,-175],[-140,175],[140,175],[210,105],[245,0],[210,-105],[140,-175],[-70,70],[-70,-70],[70,-70],[70,70]],[[-280,175],[-175,210],[-70,175],[70,175],[175,210],[280,175],[-210,70],[-105,70],[140,70],[245,70],[0,-175],[-105,-140],[105,-140],[175,-70],[-175,-70]],[[-140,140],[-70,70],[70,70],[140,140],[0,0],[-210,70],[-280,0],[210,70],[280,0],[-210,-70],[-140,-140],[-70,-70],[70,-70],[140,-140],[210,-70]],[[0,0],[-35,105],[70,105],[140,175],[245,175],[-105,175],[-210,-105],[-105,-175],[0,-210],[105,-175],[210,-105],[280,-35],[315,70],[-210,175],[-315,105],[-280,0]]]},cc._RF.pop()},{}],MngBase:[function(t,e,i){"use strict";cc._RF.push(e,"002b8LLF0NPuqi57j+B7Fy1","MngBase");var n=cc.Class({extends:cc.Component,properties:{},objArrayConvertMay:function(t,e){t.forEach(function(t){t.key&&t.value&&e.set(t.key,t.value)})}});window.MngBase=n,cc._RF.pop()},{}],MyNodePool:[function(t,e,i){"use strict";cc._RF.push(e,"45527r55wdNdrKGJVKb5oU6","MyNodePool");var n=t("My");n.NodePool=function(t){this.poolHandlerComp=t,this._pool=[]},e.exports=n.NodePool,n.NodePool.prototype={constructor:n.NodePool,size:function(){return this._pool.length},clear:function(){for(var t=this._pool.length,e=0;e<t;++e)this._pool[e].destroy();this._pool=[]},put:function(t){if(t&&-1==this._pool.indexOf(t)){t.active=!1;var e=this.poolHandlerComp?t.getComponent(this.poolHandlerComp):null;e&&e.unuse&&e.unuse(),this._pool.push(t)}},get:function(){var t=this._pool.length-1;if(t<0)return null;var e=this._pool[t];this._pool.length=t;var i=this.poolHandlerComp?e.getComponent(this.poolHandlerComp):null;return i&&i.reuse&&i.reuse.apply(i,arguments),e.active=!0,e}},cc._RF.pop()},{My:"My"}],My:[function(t,e,i){"use strict";cc._RF.push(e,"dc2af3t4iFI4KN9yhO7coe8","My");window.My=e.exports={},cc._RF.pop()},{}],NodeBase:[function(t,e,i){"use strict";cc._RF.push(e,"9cb405utxBAM4PFz0eOoZ9b","NodeBase");var n=cc.Class({extends:cc.Component,properties:{manager:{default:null,visible:!1}}});e.exports=n,cc._RF.pop()},{}],NotificationCenter:[function(t,e,i){"use strict";cc._RF.push(e,"5e869nACfVGnIdsGvKnCGeE","NotificationCenter");var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=cc.Class({extends:t("Singleton"),properties:{_dic:null,_tempPostList:null},onInit:function(){this._dic=new Map,this._tempPostList=new Map},post:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==t)throw"Post: name";var o=new function(t,e,i){this.name=t,this.source=e,this.userInfo=i}(t,e,i);if(a){var s=this._valueOrDefault(this._tempPostList,a);s?(s.push(o),this._tempPostList.set(a,s)):this._tempPostList.set(a,[o]),this.dealTempPostEvent("time:")}else{var c=this._getDelegates(t),r=function(t,e){e.forEach(function(e){e.call(t,o)})},h=!0,l=!1,u=void 0;try{for(var d,f=c[Symbol.iterator]();!(h=(d=f.next()).done);h=!0){var p=d.value,g=n(p,2);r(g[0],g[1])}}catch(t){l=!0,u=t}finally{try{!h&&f.return&&f.return()}finally{if(l)throw u}}}},register:function(t,e,i){if(null==t)throw"Register: name";if(null==e)throw"Register: target";if(null==i)throw"Register: method";this._addValue(t,e,i)},dealTempPostEvent:function(t){var e=this,i=t.split(":");if(i.length>2){var n=i[0],a=i[1];switch(n){case"time":this._valueOrDefault.forEach(function(t,i){var n=i.split(":");if(n.length>2&&"time"===n[0]){var a=n[1];setTimeout(function(){t.forEach(function(t){e.post(t.name,t.source,t.userInfo)})},a),e._valueOrDefault.delete(i)}});break;case"view":this._valueOrDefault.forEach(function(t,i){var n=i.split(":");n.length>2&&"view"===n[0]&&n[1]===a&&(t.forEach(function(t){e.post(t.name,t.source,t.userInfo)}),e._valueOrDefault.delete(i))})}}},_addValue:function(t,e,i){var n=this._valueOrDefault(this._dic,t);null==n&&(n=new Map,this._dic.set(t,n));var a=this._valueOrDefault(n,i);if(null==a)n.set(e,[i]);else{var o=a.push(i);n.set(e,o)}},_getDelegates:function(t){var e=this._valueOrDefault(this._dic,t);return null!=e?e.entries():[]},_valueOrDefault:function(t,e){return null==t?null:t.has(e)?t.get(e):null},removeRegister:function(){"string"===(arguments.length<=0?void 0:arguments[0])?this._removeRegister1.apply(this,arguments):this._removeRegister2.apply(this,arguments)},_removeRegister1:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t)throw"_removeRegister1 name";null!=e?null!=i?this._removeKey(t,e,i):this._removeKey(t,e):this._removeKey(t)},_removeRegister2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==t)throw"_removeRegister2 target";var e=!0,i=!1,a=void 0;try{for(var o,s=this._dic[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var c=o.value,r=n(c,2),h=(r[0],r[1]),l=this._valueOrDefault(h,t);null!=l&&l.delete(t)}}catch(t){i=!0,a=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw a}}},_removeKey:function(){1===arguments.length?this._removeKey1.apply(this,arguments):2===arguments.length?this._removeKey2.apply(this,arguments):this._removeKey3.apply(this,arguments)},_removeKey1:function(t){this._dic.delete(t)},_removeKey2:function(t,e){var i=this._valueOrDefault(this._dic,t);null!=i&&i.delete()},_removeKey3:function(t,e,i){var n=this._valueOrDefault(this._dic,t);if(null!=n){var a=this._valueOrDefault(n,e);null!=a&&a.remove(i)}}});window.NotificationCenter=e.exports=a,null===a.Instant&&(a.Instant=new a),cc._RF.pop()},{Singleton:"Singleton"}],NumberConvert:[function(t,e,i){"use strict";cc._RF.push(e,"1efacNBYfVAIIgxkMPREiXt","NumberConvert");var n=Number.prototype;n.equals=function(t){return this===t},n.isZero=function(){return 0===this},cc._RF.pop()},{}],OnBannerResize:[function(t,e,i){"use strict";cc._RF.push(e,"a4bb1DwEeVCbqXRzOsAkbnc","OnBannerResize"),cc.Class({extends:cc.Component,properties:{btnList:[cc.Node],isFirstHide:!1,autoPlace:!0,placeDelay:2},onLoad:function(){this.btnList.forEach(function(t){t._lastPos=t.position})},onEnable:function(){var t=this;if(this.autoPlace=SDK.close_btn_auto_place>-1,this.placeDelay=Number(SDK.close_btn_place_delay)||0,cc.systemEvent.on("banner_changed",this.placeBtnDelay,this),PlatformMgr.hideBanner(),this.isFirstHide){var e=.5*-cc.view.getVisibleSize().height+120;this.btnList.forEach(function(t){t.pauseSystemEvents(!1),t.y=e})}this.scheduleOnce(function(){PlatformMgr.showBanner(),t.isFirstHide&&t.btnList.forEach(function(t){t.resumeSystemEvents(!1)}),t.doPlaceBtnList()},this.placeDelay)},onDisable:function(){PlatformMgr.showBanner(),cc.systemEvent.off("banner_changed",this.placeBtnDelay,this)},placeBtnDelay:function(){this.scheduleOnce(this.doPlaceBtnList,.05)},doPlaceBtnList:function(){var t=this;this.btnList.forEach(function(e){t.placeBtn(e)}),cc.systemEvent.emit("btn_fit")},placeBtn:function(t){if(this.autoPlace&&SDK._banner&&SDK._banner.style&&SDK._banner.style.realHeight){var e=SDK._banner.style.top,i=cc.view.getVisibleSize(),n=cc.v2(t.x,(SDK.sys.screenHeight-e)/SDK.sys.screenHeight*i.height+.5*t.height);SDK.isIos()&&i.height/i.width>=2&&(n.y+=65),n=t.parent.convertToNodeSpaceAR(n),t.y=n.y+28}else t.position=t._lastPos}}),cc._RF.pop()},{}],PausePop:[function(t,e,i){"use strict";cc._RF.push(e,"df313z6lj5MoZD+0bOP5k+L","PausePop");var n=t("PopLayerBase");cc.Class({extends:n,properties:{audioBg:cc.Sprite,shakeBg:cc.Sprite,audioBtn:cc.Node,shakeBtn:cc.Node},start:function(){this.init()},_closeOver:function(){n.prototype._closeOver.call(this),this.node.destroy()},close:function(){n.prototype.close.call(this),GameMng.removePopLy(this)},init:function(){this.node.zIndex=101},resumeGame:function(){this.close()},toStart:function(){this.close(),GameMng.playLy.toStart()},clickBtn:function(t,e){switch(PlatformMgr.showButtonIntAd(),t.currentTarget.scale=1,e){case"resume":this.resumeGame();break;case"restart":this.toStart()}},pressClose:function(){this.resumeGame()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase"}],PlateLy:[function(t,e,i){"use strict";cc._RF.push(e,"1ae70+wRKZJRLY2Tgl80mM6","PlateLy"),cc.Class({extends:cc.Component,properties:{plate:cc.Node,table:cc.Node},onLoad:function(){this.initPos()},start:function(){this.playShowAnim()},initPos:function(){var t=.5*-Constant.visibleSize.width+92,e=-413*Constant.visibleScale.hScale;cc.sys.platform==cc.sys.ANDROID&&(e-=80),this.dstPos=cc.v2(t,e),this.srcPos=cc.v2(t-180,e),this.plateH=0,this.table.y=e-this.plate.height/2},playAddPieceAnim:function(t){var e=FileUtils.Instant.getTextureByName("s_"+t),i=Global.createBySpriteFrame(e).node,n=i.width*(Math.getRandom(0,.2)-.1);this.plateH=this.plateH?this.plateH+i.height:.5*(this.plate.height+i.height),i.x=n,i.y=this.plateH-1,this.plate.addChild(i)},playJumpAnim:function(){var t=this;this.plate.stopAllActions(),this.plate.runAction(cc.sequence(cc.delayTime(.4),cc.jumpBy(.6,cc.v2(0,0),150,1),cc.moveTo(.18,this.srcPos),cc.callFunc(function(){t.plateH=0,t.plate.removeAllChildren()}),cc.moveTo(.18,this.dstPos)))},playShowAnim:function(){this.plate.stopAllActions(),this.plate.position=this.srcPos,this.plate.runAction(cc.moveTo(.4,this.dstPos))}}),cc._RF.pop()},{}],PlatformMgr:[function(t,e,i){"use strict";cc._RF.push(e,"22c82d8kMRESrzZnKNqAO+6","PlatformMgr"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("sdk"),a=function(){function t(){}return t.showLoading=function(t,e){if(void 0===e&&(e=!1),cc.sys.platform===cc.sys.WECHAT_GAME)return n.showLoading(t,e);cc.systemEvent.emit("showDataLoading",t)},t.hideLoading=function(){if(cc.sys.platform===cc.sys.WECHAT_GAME)return n.hideLoading();cc.systemEvent.emit("hideDataLoading")},t.hasVideo=function(){if(cc.sys.platform===cc.sys.WECHAT_GAME)return n.hasVideo();if(cc.sys.platform===cc.sys.ANDROID){var t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","hasVideo","()Z");return cc.log("android \u8fd4\u56de\u7684 hasVideo = "+t),t}return cc.sys.platform!==cc.sys.IPHONE&&cc.sys.isBrowser},t.showVideo=function(t,e){cc.sys.platform===cc.sys.WECHAT_GAME?(cc.systemEvent.emit("updateBanner",{in:1,show:0,window:"video"}),n.showVideo(function(e){cc.systemEvent.emit("updateBanner",{}),t&&t(e)},function(){cc.systemEvent.emit("updateBanner",{}),e&&e()})):cc.sys.platform===cc.sys.ANDROID?(this._onVideoCloseCallback=t,this._onVideoFailCallback=e,jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","showVideo","()V")):cc.sys.platform===cc.sys.IPHONE||cc.sys.isBrowser&&setTimeout(function(){t&&t(!0)},.1)},t._onVideoClose=function(t){cc.log("android \u5173\u95ed\u64ad\u653e\u89c6\u9891  isReward = "+t),this._onVideoCloseCallback&&this._onVideoCloseCallback(t),this._onVideoCloseCallback=null},t._onVideoFail=function(){this._onVideoFailCallback&&this._onVideoFailCallback(),this._onVideoFailCallback=null,cc.log("android \u64ad\u653e\u89c6\u9891\u5931\u8d25")},t.showBanner=function(){cc.sys.platform===cc.sys.WECHAT_GAME?n.showBanner():cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","showBanner","()V"):(cc.sys.platform,cc.sys.IPHONE)},t.hideBanner=function(){cc.sys.platform===cc.sys.WECHAT_GAME?n.hideBanner():cc.sys.platform===cc.sys.ANDROID||(cc.sys.platform,cc.sys.IPHONE)},t.isLoadingIntAdFinished=function(){return this._loadingAdFinished||cc.sys.isBrowser},t._onLoadingIntAdFinished=function(){this._loadingAdFinished=!0},t.showLoadingIntAd=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?(jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","showLoadingIntAd","()V"),this._loadingAdFinished=!1):(cc.sys.platform,cc.sys.IPHONE))},t.showButtonIntAd=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","showButtonIntAd","()V"):(cc.sys.platform,cc.sys.IPHONE))},t.showGameOverIntAd=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","showGameOverIntAd","()V"):(cc.sys.platform,cc.sys.IPHONE))},t.showExitIntAd=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?(cc.log("\u8c03\u7528 java showExitIntAd "),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","showExitIntAd","()V")):(cc.sys.platform,cc.sys.IPHONE))},t._onExitIntAdClosed=function(){var t=this;cc.systemEvent.emit("_onExitIntAdClosed"),this.showLoading("Exiting"),cc.Canvas.instance.scheduleOnce(function(){t.hideLoading(),t.exitGame()},1)},t.createVideoGiftAd=function(t,e,i,n,a){void 0===a&&(a=150),cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?(cc.log("createVideoGiftAd"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","createVideoGiftAd","(IIIIII)V",0,t,e,i,n,a)):(cc.sys.platform,cc.sys.IPHONE))},t.showVideoGiftAd=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?(cc.log("showVideoGiftAd"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","showVideoGiftAd","(I)V",0)):(cc.sys.platform,cc.sys.IPHONE))},t.hideVideoGiftAd=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?(cc.log("hideVideoGiftAd"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","hideVideoGiftAd","(I)V",0)):(cc.sys.platform,cc.sys.IPHONE))},t.share=function(t,e,i){if(cc.sys.platform===cc.sys.WECHAT_GAME)n.share(t,e,i);else if(cc.sys.platform===cc.sys.ANDROID){var a={title:"Fruit King",content:"I have player a very funny game called Fruit King, you can get it from the url: https://play.google.com/store/apps/details?id=fruit.king.game.freegame",url:"https://play.google.com/store/apps/details?id=fruit.king.game.freegame"};jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","shareToFriends","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",a.title,a.content,a.url)}else cc.sys.platform,cc.sys.IPHONE},t.pressBackInHome=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","pressBackInHome","()V"):(cc.sys.platform,cc.sys.IPHONE))},t.exitGame=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","exitGame","()V"):(cc.sys.platform,cc.sys.IPHONE))},t.vibrate=function(t){void 0===t&&(t=!1),cc.sys.platform===cc.sys.WECHAT_GAME?t?window.wx.vibrateLong():window.wx.vibrateShort():cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","vibrate","(I)V",t?400:17):(cc.sys.platform,cc.sys.IPHONE)},t._onNetworkError=function(){cc.log("networkError"),ToastMng.showToast("network error, please try again later!")},t.updateCommonLeaderboard=function(t,e){void 0===e&&(e=100),cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.ANDROID||(cc.sys.platform,cc.sys.IPHONE)},t.getUid=function(){if(cc.sys.platform===cc.sys.WECHAT_GAME);else{if(cc.sys.platform===cc.sys.ANDROID){var t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","getUid","()Ljava/lang/String;");return cc.log("android \u83b7\u53d6\u7528\u6237 id = "+t),t}if(cc.sys.platform===cc.sys.IPHONE);else if(cc.sys.isBrowser)return"browser_test_id"}},t.startLevel=function(t){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","startLevel","(Ljava/lang/String;)V","level-"+t):(cc.sys.platform,cc.sys.IPHONE))},t.finishLevel=function(t){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","finishLevel","(Ljava/lang/String;)V","level-"+t):(cc.sys.platform,cc.sys.IPHONE))},t.failLevel=function(t){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","failLevel","(Ljava/lang/String;)V","level-"+t):(cc.sys.platform,cc.sys.IPHONE))},t.toRate=function(){cc.sys.platform===cc.sys.WECHAT_GAME||(cc.sys.platform===cc.sys.ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ApiForJs","toRate","()V"):(cc.sys.platform,cc.sys.IPHONE))},t.canShowRate=function(){var t=window.GameDataHandler.Instant.lastRateVersion,e=window.GameDataHandler.Instant.hasShowRate;return t!=n.game_version&&!e},t._onVideoCloseCallback=null,t._onVideoFailCallback=null,t._loadingAdFinished=!1,t}();i.default=a,window.PlatformMgr=a,cc._RF.pop()},{sdk:"sdk"}],PlayLy:[function(t,e,i){"use strict";cc._RF.push(e,"86a18CYL2FFN7YycmUSmtP8","PlayLy"),cc.Class({extends:cc.Component,properties:{fruitPlayLy:t("FruitPlayLy")},onLoad:function(){this.effectLy=this.node.getComponent("EffectLy")},start:function(){this.addEvent()},onDestroy:function(){},show:function(){this.node.active=!0,this.fruitPlayLy.init(this.effectLy,GameMng.knifeLy,GameDataHandler.Instant),this.startGame()},hide:function(){this.node.active=!1},startGame:function(){GameDataHandler.Instant.onePlayReviveTimes=0,GameMng.knifeLy.playGameAnim(),this.nextMission()},reStartGame:function(){this.endGame(),this.startGame(),GameDataHandler.Instant.onePlayReviveTimes=0},endGame:function(){this.fruitPlayLy.setNullAllDots(),this.fruitPlayLy.setNullAllItems()},reviveGame:function(){GameDataHandler.Instant.gameState=GameState.GAME_ING,GameDataHandler.Instant.onePlayReviveTimes++},fail:function(){GameDataHandler.Instant.gameState=GameState.GAME_OVER,GameDataHandler.Instant.saveData(),this.node.getComponent("EffectLy").playFailEffect(function(){PlatformMgr.failLevel(GameDataHandler.Instant.curMission),GameMng.popFail(),GameMng.knifeLy.playPrepareAnim()})},nextMission:function(){var t=this;PlatformMgr.startLevel(GameDataHandler.Instant.curMission),GameDataHandler.Instant.updateMission(),this.node.getComponent("EffectLy").playStartEffect(function(){t.isThree=!1,GameDataHandler.Instant.curMission%5==0&&(t.isThree=!0,ToastMng.showToast("Trying Level",1.4),GameMng.knifeLy.setNum(3)),GameMng.showLiDaoBtn.active=WxSDK.canShowGainPos(GainPos.Three),GameMng.updateThreeTimeShow(),GameMng.knifeLy.refresh(),t.play(.6)})},nextLv:function(){this.fruitPlayLy.setNullAllDots(),this.fruitPlayLy.setNullAllItems();var t=GameDataHandler.Instant;t.gameState=GameState.GAME_OVER,t.curLvIndex++,t.curLvIndex>=t.mission.length?(PlatformMgr.finishLevel(GameDataHandler.Instant.curMission),GameDataHandler.Instant.curMission%5==0&&PlatformMgr.canShowRate()?GameMng.popRateDialog(function(){GameMng.popWin()}):GameMng.popWin()):this.play(.8),GameMng.lvProgressBar.setLvProgress(t.curLvIndex,1),GameMng.plateLy.playJumpAnim()},play:function(t){var e=this,i=GameDataHandler.Instant;i.curPlateData=[],i.gameState=GameState.GAME_PREPARE,GameMng.knifeLy.playPrepareAnim(),this.scheduleOnce(function(){i.gameState=GameState.GAME_ING,e.fruitPlayLy.updateCurMission(i.mission[i.curLvIndex],i.curMission,i.curLvIndex,i.fruitNumList[i.curLvIndex])},t)},addEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){GameMng.knifeLy.playFireAnim()})},clickReturnBtn:function(){PlatformMgr.showButtonIntAd(),this.toStart()},toStart:function(){PlatformMgr.showButtonIntAd(),this.endGame(),GameMng.toStart()},pressBack:function(){GameMng.popPause()},clickIndexBtn:function(t,e){if("+"===e)GameDataHandler.Instant.curMission++,this.fruitPlayLy.setNullAllDots(),this.fruitPlayLy.setNullAllItems(),this.nextMission();else{var i=GameDataHandler.Instant.curMission-1;i>=0?(GameDataHandler.Instant.curMission=i,this.fruitPlayLy.setNullAllDots(),this.fruitPlayLy.setNullAllItems(),this.nextMission()):ToastMng.showToast("\u7d22\u5f15\u503c\u8fc7\u5c0f\u4e86",2)}}}),cc._RF.pop()},{FruitPlayLy:"FruitPlayLy"}],PoolNodeBase:[function(t,e,i){"use strict";cc._RF.push(e,"bff56Ka3QhHwLVduYXss2oX","PoolNodeBase");var n=cc.Class({extends:cc.Component,properties:{pool:{default:null,visible:!1},list:{default:null,visible:!1}},onEnable:function(){var t=this;this.list&&this.list.push(this.node),this.scheduleOnce(function(){t.show()},.01)},onDisable:function(){this.list&&this.list.remove(this.node),this.hide()},remove:function(){this.node.name="",this.node.stopAllActions(),this.pool&&this.pool.put(this.node)},show:function(){},hide:function(){}});e.exports=n,cc._RF.pop()},{}],PopLayerBase:[function(t,e,i){"use strict";cc._RF.push(e,"1a245zgvcFOwbdRH8s7xKeA","PopLayerBase");var n=cc.Enum({NONE:0,SCALE:1,DOWN:2,FADE:3,ROTATE:4,LEFT_RIGHT:5,SCALE_FADE:6,SLIDE_IN_RIGHT:7,SLIDE_IN_BOTTOM:8,FLIP_HORIZONTAL:9,FLIP_VERTICAL:10,JELLY:11,BOTTOM_TOP:12});window.PopType=n;var a=[["normalShow","normalClose"],["scaleShow","scaleClose"],["downShow","downClose"],["fadeShow","fadeClose"],["rotateShow","rotateClose"],["leftRightShow","leftRightClose"],["scaleFadeShow","scaleFadeClose"],["slideInRightShow","slideInRightClose"],["slideInBottomShow","slideInBottomClose"],["flipHorizontalShow","flipHorizontalClose"],["flipVerticalShow","flipVerticalClose"],["jellyShow","fadeClose"],["bottomTopShow","bottomTopClose"]];cc.Class({extends:t("NodeBase"),properties:{bg:cc.Node,window:cc.Node,popType:{default:n.SCALE,type:n},effectTime:{default:.25},needCloseEventButtons:[cc.Button],_buttonEventMap:null,_closeData:null,needInputLayer:!0,_inputLayer:null,_windowX:0,_windowY:0,closeCallbacks:{default:[],type:cc.Component.EventHandler},_customCloseCallbacks:[]},onLoad:function(){this.node.zIndex=10,this._windowX=this.window.x,this._windowY=this.window.y,this._pushCloseEvent()},start:function(){},onEnable:function(){},onDisable:function(){},onDestroy:function(){this._inputLayer&&(this._inputLayer=null)},_addInputLayer:function(){var t=new cc.Node("input");t.position=cc.v2(0,0),t.width=this.node.width,t.height=this.node.height,t.addComponent(cc.BlockInputEvents),this.node.addChild(t,10),this._inputLayer=t},_pushCloseEvent:function(){this._buttonEventMap=new Map;var t=0,e=!0,i=!1,n=void 0;try{for(var a,o=this.needCloseEventButtons[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var s=a.value,c=new cc.Component.EventHandler;c.target=this.node,c.component="PopLayerBase",c.handler="close",c.customEventData="close"+t,this._buttonEventMap.set(c.customEventData,s.clickEvents.slice()),s.clickEvents=[],s.clickEvents.push(c),t++}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}},setCustomCloseCallback:function(t,e){this._customCloseCallbacks.push({callback:t,target:e})},show:function(){(this.node.active=!0,this.needInputLayer&&(this._inputLayer?this._inputLayer.active=!0:this._addInputLayer()),this.bg&&(this.bgOpacity||(this.bgOpacity=this.bg.opacity),this.bg.opacity=0,this.bg.runAction(cc.fadeTo(this.effectTime,this.bgOpacity))),this.window)?this[a[this.popType][0]]():this._showOver()},close:function(t,e){(this._closeData=e,this._inputLayer&&(this._inputLayer.active=!0),this.bg&&this.bg.runAction(cc.fadeOut(this.effectTime)),this.window)?this[a[this.popType][1]]():this._closeOver()},_showOver:function(){this._inputLayer&&(this._inputLayer.active=!1)},_closeOver:function(){if(this._closeData){var t=this._buttonEventMap.get(this._closeData);cc.Component.EventHandler.emitEvents(t,this)}if(this.closeCallbacks.length>0&&cc.Component.EventHandler.emitEvents(this.closeCallbacks,this),this._customCloseCallbacks.length>0){var e=!0,i=!1,n=void 0;try{for(var a,o=this._customCloseCallbacks[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var s=a.value;s.callback.call(s.target)}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}}this.node.active=!1},normalShow:function(){this._showOver()},normalClose:function(){this._closeOver()},scaleShow:function(){var t=this;this.window.scale=0,this.window.runAction(cc.sequence(cc.scaleTo(this.effectTime,1).easing(cc.easeElasticOut(.6)),cc.callFunc(function(e){t.window.scale=1,t._showOver()})))},scaleClose:function(){var t=this;this.window.runAction(cc.sequence(cc.scaleTo(this.effectTime,0).easing(cc.easeElasticIn(.6)),cc.callFunc(function(e){t.window.scale=0,t._closeOver()})))},downShow:function(){var t=this;this.window.y=this.node.height/2+this.window.height/2+50,this.window.runAction(cc.sequence(cc.moveTo(this.effectTime,0,this._windowY).easing(cc.easeElasticOut(.8)),cc.callFunc(function(e){t.window.y=t._windowY,t._showOver()})))},downClose:function(){var t=this,e=this.node.height/2+this.window.height/2+50;this.window.runAction(cc.sequence(cc.moveTo(this.effectTime,0,e).easing(cc.easeElasticIn(.8)),cc.callFunc(function(i){t.window.y=e,t._closeOver()})))},fadeShow:function(){var t=this;this.window.opacity=0,this.window.runAction(cc.sequence(cc.fadeIn(this.effectTime,1),cc.callFunc(function(e){t.window.opacity=255,t._showOver()})))},fadeClose:function(){var t=this;this.window.runAction(cc.sequence(cc.fadeOut(this.effectTime,1),cc.callFunc(function(e){t.window.opacity=0,t._closeOver()})))},rotateShow:function(){var t=this,e=this.window.height,i=-this.node.height/2,n=-(this._windowY-e/2-i)/e;console.log("anchorValue, ",n,i),this.window.rotation=-145,this.window.runAction(cc.sequence(cc.rotateTo(this.effectTime,0).easing(cc.easeElasticOut(.7)),cc.callFunc(function(e){t.window.rotation=0,t._showOver()})))},rotateClose:function(){var t=this;this.window.runAction(cc.sequence(cc.rotateTo(this.effectTime,145).easing(cc.easeElasticIn(.7)),cc.callFunc(function(e){t.window.rotation=145,t._closeOver()})))},leftRightShow:function(){var t=this,e=-this.node.width/2-this.window.width/2-50;this.window.x=e,this.window.runAction(cc.sequence(cc.moveTo(this.effectTime,this._windowX,this._windowY).easing(cc.easeElasticOut(.8)),cc.callFunc(function(e){t.window.x=t._windowX,t._showOver()})))},leftRightClose:function(){var t=this,e=this.node.width/2+this.window.width/2+50;this.window.runAction(cc.sequence(cc.moveTo(this.effectTime,e,this._windowY).easing(cc.easeElasticIn(.8)),cc.callFunc(function(i){t.window.x=e,t._closeOver()})))},scaleFadeShow:function(){var t=this;this.window.opacity=0,this.window.scale=5,this.window.runAction(cc.sequence(cc.spawn(cc.scaleTo(this.effectTime,1),cc.fadeIn(this.effectTime)),cc.callFunc(function(e){t.window.scale=1,t.window.opacity=255,t._showOver()})))},scaleFadeClose:function(){var t=this;this.window.runAction(cc.sequence(cc.spawn(cc.scaleTo(this.effectTime,5),cc.fadeOut(this.effectTime)),cc.callFunc(function(e){t.window.scale=5,t.window.opacity=0,t._closeOver()})))},slideInRightShow:function(){var t=this;this.window.opacity=0,this.window.x=this._windowX+50,this.window.runAction(cc.sequence(cc.spawn(cc.moveTo(this.effectTime,this._windowX,this._windowY),cc.fadeIn(this.effectTime-.1)),cc.callFunc(function(e){t.window.x=t._windowX,t.window.opacity=255,t._showOver()})))},slideInRightClose:function(){var t=this;this.window.runAction(cc.sequence(cc.spawn(cc.moveTo(this.effectTime,this._windowX+50,this._windowY),cc.fadeOut(this.effectTime-.1)),cc.callFunc(function(e){t.window.opacity=0,t._closeOver()})))},slideInBottomShow:function(){var t=this;this.window.opacity=0,this.window.y=this._windowY-50,this.window.runAction(cc.sequence(cc.spawn(cc.moveTo(this.effectTime,this._windowX,this._windowY),cc.fadeIn(this.effectTime)),cc.callFunc(function(e){t.window.y=t._windowY,t.window.opacity=255,t._showOver()})))},slideInBottomClose:function(){var t=this;this.window.runAction(cc.sequence(cc.spawn(cc.moveTo(this.effectTime,this._windowX,this._windowY-50),cc.fadeOut(this.effectTime)),cc.callFunc(function(e){t.window.opacity=0,t._closeOver()})))},flipHorizontalShow:function(){var t=this;this.window.opacity=0,this.window.scaleY=0,this.window.runAction(cc.sequence(cc.spawn(cc.scaleTo(this.effectTime,1,1),cc.fadeIn(this.effectTime)),cc.callFunc(function(e){t.window.scaleY=1,t.window.opacity=255,t._showOver()})))},flipHorizontalClose:function(){var t=this;this.window.runAction(cc.sequence(cc.spawn(cc.scaleTo(this.effectTime,1,0),cc.fadeOut(this.effectTime)),cc.callFunc(function(e){t.window.opacity=0,t.window.scaleY=0,t._closeOver()})))},flipVerticalShow:function(){var t=this;this.window.opacity=0,this.window.scaleX=0,this.window.runAction(cc.sequence(cc.spawn(cc.scaleTo(this.effectTime,1,1),cc.fadeIn(this.effectTime-.1)),cc.callFunc(function(e){t.window.scaleX=1,t.window.opacity=255,t._showOver()})))},flipVerticalClose:function(){var t=this;this.window.runAction(cc.sequence(cc.spawn(cc.scaleTo(this.effectTime,0,1),cc.fadeOut(this.effectTime-.1)),cc.callFunc(function(e){t.window.opacity=0,t.window.scaleX=0,t._closeOver()})))},jellyShow:function(){var t=this,e=this.effectTime-.5;e=e<.1?.1:e,this.window.scaleX=this.window.scaleY=0,this.window.runAction(cc.sequence(cc.scaleTo(e,1),cc.scaleTo(.1,1.05,.95),cc.scaleTo(.1,.95,1.05),cc.scaleTo(.11,1.02,.98),cc.scaleTo(.11,.98,1.02),cc.scaleTo(.12,1),cc.callFunc(function(e){e.scaleX=e.scaleY=1,t._showOver()})))},bottomTopShow:function(){var t=this,e=.5*-(this.node.height+this.window.height);this.window.y=e,this.window.stopAllActions(),this.window.runAction(cc.sequence(cc.moveTo(this.effectTime,this.window.position.x,0).easing(cc.easeElasticOut(.8)),cc.callFunc(function(){t._showOver()})))},bottomTopClose:function(){var t=this,e=.5*(this.node.height+this.window.height);this.window.y=0,this.window.stopAllActions(),this.window.runAction(cc.sequence(cc.moveTo(this.effectTime,this.window.position.x,e).easing(cc.easeElasticIn(.8)),cc.callFunc(function(){t._closeOver()})))}}),cc._RF.pop()},{NodeBase:"NodeBase"}],PrefabMng:[function(t,e,i){"use strict";cc._RF.push(e,"8dca6vWaEJI76A60Etz6QQ/","PrefabMng");var n=cc.Class({name:"prefabObj",properties:{key:"NotName",value:{type:cc.Asset,default:null}}});cc.Class({extends:MngBase,properties:{prefabResArray:[n],pieceResArray:[n]},onLoad:function(){void 0===window.PrefabMng&&(window.PrefabMng=this),this.prefabResMap=new Map,this.objArrayConvertMay(this.prefabResArray,this.prefabResMap),this.prefabResArray.length=0,this.pieceResMap=new Map,this.objArrayConvertMay(this.pieceResArray,this.pieceResMap),this.pieceResArray.length=0},createLyByFab:function(t,e,i){var n=cc.instantiate(FileUtils.Instant.getPrefabByName(t));n.parent=i;var a=n.getComponent(e);return a.show(),a},getPrefabByName:function(t){return this.prefabResMap.get(t)},getPieceByName:function(t){return this.pieceResMap.get(t)}}),cc._RF.pop()},{}],PropBoxPop2:[function(t,e,i){"use strict";cc._RF.push(e,"d582bv85VFAqJloVk01nmsi","PropBoxPop2");t("NodeBase"),t("sdk");var n=t("PopLayerBase");cc.Class({extends:n,properties:{getBtn:cc.Sprite,newProp:cc.Node,threeProp:cc.Node,scaleProp:cc.Node,spark:cc.Node,pb_get_videoSf:cc.SpriteFrame,pb_get_shareSf:cc.SpriteFrame},onLoad:function(){},start:function(){this.node.zIndex=104},_closeOver:function(){n.prototype._closeOver.call(this),this.endCf&&this.endCf(),this.node.destroy()},close:function(){n.prototype.close.call(this),GameMng.removePopLy(this)},init:function(t){this.propType=t,this.getFuncType=WxSDK.getOtherGainFuncType(t),this.getFuncType!==GainFuncType.NOT&&(this.node.active=!0,this.newProp.active=!1,this.threeProp.active=!1,this.scaleProp.active=!1,this.geting=!1,this.refresh(),this.spark.runAction(cc.repeatForever(cc.sequence(cc.moveTo(0,cc.v2(-460,0)),cc.moveTo(1.5,cc.v2(460,0)),cc.delayTime(1)))))},refresh:function(){switch(this.getBtn.spriteFrame=this.getFuncType===GainFuncType.VIDEO?this.pb_get_videoSf:this.pb_get_shareSf,this.propType){case PropType.SKIN:this.newProp.active=!0,SkinDataHandler.Instant.curPropSkin=SkinDataHandler.Instant.getRandomPropSkin(),SkinDataHandler.Instant.curPropSkin||(SkinDataHandler.Instant.curPropSkin=[2,0]),this.newProp.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=TextureMng.getSprBySkinNode(SkinDataHandler.Instant.getSkinNameByIndexes(SkinDataHandler.Instant.curPropSkin));break;case PropType.SCALE:break;case PropType.THREE:this.threeProp.active=!0}},refreshState:function(){this.getFuncType=WxSDK.getOtherGainFuncType(this.propType),this.getFuncType!==GainFuncType.NOT?this.refresh():this.close()},popRankBg:function(){},getProp:function(){var t=5;this.propType===PropType.SKIN&&(t={skin:SkinDataHandler.Instant.curPropSkin,value:-1}),NotificationCenter.Instant.post(NotificationMsg.PROP_UPDATE,{type:this.propType,value:t})},getByVideo:function(){var t=this;PlatformMgr.hasVideo()?(this.geting=!0,PlatformMgr.showVideo(function(e){e?(t.getProp(),t.close()):(t.geting=!1,t.refreshState())},function(){t.geting=!1,t.refreshState(),ToastMng.showToast("Watching video failed!",1.8)})):(this.geting=!1,this.refreshState(),ToastMng.showToast("Watching video failed!",1.8))},getByShare:function(){var t=this;this.geting=!0,WxSDK.propShare2(this.propType,function(){t.getProp(),t.close()},function(){t.geting=!1,t.refreshState()},function(){GameDataHandler.Instant.shareTimes++},function(){t.geting=!1})},clickGetBtn:function(){this.geting||(this.getFuncType===GainFuncType.VIDEO?this.getByVideo():this.getFuncType===GainFuncType.SHARE?this.getByShare():ToastMng.showToast("Video in preparation, try again later!",2))},clickCloseBtn:function(){if(PlatformMgr.showButtonIntAd(),this.propType===PropType.SKIN&&!this.geting&&SkinDataHandler.Instant.curPropSkin){var t={skin:SkinDataHandler.Instant.curPropSkin,value:10};NotificationCenter.Instant.post(NotificationMsg.PROP_UPDATE,{type:this.propType,value:t})}this.close()},pressClose:function(){this.clickCloseBtn()}}),cc._RF.pop()},{NodeBase:"NodeBase",PopLayerBase:"PopLayerBase",sdk:"sdk"}],PropBoxPop:[function(t,e,i){"use strict";cc._RF.push(e,"b31feCV0b5Hq4lTqK42Z6kO","PropBoxPop");var n=t("NodeBase");t("sdk");cc.Class({extends:n,properties:{bg:cc.Node,getBtn:cc.Sprite,newProp:cc.Node,threeProp:cc.Node,scaleProp:cc.Node},onLoad:function(){},start:function(){},init:function(){switch(this.getBtn.spriteFrame=TextureMng.getSprFmByName(this.getFuncType===GainFuncType.VIDEO?"video_get":"share_get"),this.propType){case PropType.SKIN:this.newProp.active=!0,SkinDataHandler.Instant.curPropSkin=SkinDataHandler.Instant.getRandomPropSkin(),this.newProp.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=TextureMng.getSprBySkinNode(SkinDataHandler.Instant.getSkinNameByIndexes(SkinDataHandler.Instant.curPropSkin));break;case PropType.SCALE:this.scaleProp.active=!0,this.scaleProp.getChildByName("scale_share_get").active=this.getFuncType===GainFuncType.SHARE,this.scaleProp.getChildByName("scale_video_get").active=this.getFuncType===GainFuncType.VIDEO;break;case PropType.THREE:this.threeProp.active=!0}},show:function(t){this.propType=t,this.gainPos=WxSDK.getGainPos(t),this.getFuncType=WxSDK.getOtherGetFunc(this.gainPos),this.getFuncType!==GainFuncType.NOT&&(this.node.active=!0,this.newProp.active=!1,this.threeProp.active=!1,this.scaleProp.active=!1,this.geting=!1,this.init(),GameMng.mask.showMask(this.node,180),this.popRankBg())},hide:function(){this.node.active=!1,GameMng.mask.hideMask(this.node)},refreshState:function(){this.getFuncType=WxSDK.getOtherGetFunc(this.gainPos),this.getFuncType!==GainFuncType.NOT?this.init():this.hide()},popRankBg:function(){this.bg.active=!0,this.bg.scale=.1,this.bg.runAction(cc.scaleTo(1,1).easing(cc.easeElasticOut(.8)))},getByVideo:function(){var t=this;PlatformMgr.hasVideo()?(this.geting=!0,PlatformMgr.showVideo(function(e){if(e){var i=5;t.propType===PropType.SKIN&&(i={skin:SkinDataHandler.Instant.curPropSkin,value:-1}),NotificationCenter.Instant.post(NotificationMsg.PROP_UPDATE,{type:t.propType,value:i}),t.hide()}else t.geting=!1,t.refreshState()},function(){t.geting=!1,t.refreshState(),ToastMng.showToast("Watching video failed!",1.8)})):(this.geting=!1,this.refreshState(),ToastMng.showToast("Watching video failed!",1.8))},getByShare:function(){var t=this;this.geting=!0,WxSDK.propShare2(this.propType,function(){t.hide()},function(){t.geting=!1,t.refreshState()},function(){GameDataHandler.Instant.shareTimes++},function(){t.geting=!1})},clickGetBtn:function(){this.geting||(this.getFuncType===GainFuncType.VIDEO?this.getByVideo():this.getFuncType===GainFuncType.SHARE&&this.getByShare())},clickCloseBtn:function(){if(this.propType===PropType.SKIN&&!this.geting){var t={skin:SkinDataHandler.Instant.curPropSkin,value:10};NotificationCenter.Instant.post(NotificationMsg.PROP_UPDATE,{type:this.propType,value:t})}this.hide()}}),cc._RF.pop()},{NodeBase:"NodeBase",sdk:"sdk"}],RankCell:[function(t,e,i){"use strict";cc._RF.push(e,"81fb62sbMxB0KQi7lIc+4cx","RankCell");var n=function(t){return t&&t.__esModule?t:{default:t}}(t("viewCell"));cc.Class({extends:n.default,properties:{backSprite:cc.Node,rankLabel:cc.Label,rankSpr:cc.Sprite,avatarImgSprite:cc.Sprite,nickLabel:cc.Label,topScoreLabel:cc.Label,posLabel:cc.Label,posIcon:cc.Node,genderIcon:cc.Sprite,genderSpFrame:[cc.SpriteFrame],defaultIcon:cc.SpriteFrame},start:function(){},init:function(t,e,i,n){var a=e.array[t];this.manager=e.manager;var o=a.rank||a.Rank,s=a.avatar||a.Avatar,c=a.nickname||a.name||a.Name,r=a.score||a.Score;this.node.zIndex=o,this.node.active=!0,this.rankLabel.string=o,o<4?(this.rankLabel.node.active=!1,this.rankSpr.node.active=!0,this.rankSpr.spriteFrame=FileUtils.Instant.getTextureByName("rank_"+o)):(this.rankLabel.node.active=!0,this.rankSpr.node.active=!1,this.rankLabel.string=o),cc.sys.platform==cc.sys.WECHAT_GAME?(this.avatarImgSprite.spriteFrame=null,Global.loadImage(this.avatarImgSprite,s)):(this.avatarImgSprite.node.active=!1,this.nickLabel.node.x=this.avatarImgSprite.node.x-20),this.nickLabel.string=c,this.topScoreLabel.string="Level "+r},clicked:function(){}}),cc._RF.pop()},{viewCell:"viewCell"}],RankLayer:[function(t,e,i){"use strict";cc._RF.push(e,"8ba575w3WBBOYldepXZ2HWo","RankLayer"),cc._RF.pop()},{}],RankPop2:[function(t,e,i){"use strict";cc._RF.push(e,"d17f7oVp2lHpYxFiiVc9JkY","RankPop2");t("sdk");var n=t("PopLayerBase"),a=t("LeaderBoardManager");cc.Class({extends:n,properties:{worldView:cc.Node,worldTableView:cc.tableView,worldButton:t("UserInfoBtn"),userCell:t("RankCell"),toggleBtnList:[cc.Node],titleSp:cc.Sprite,titleList:[cc.SpriteFrame]},start:function(){this.node.zIndex=101,console.log("RankPop start "),cc.sys.platform==cc.sys.WECHAT_GAME?this.scheduleOnce(this.addWorldRankCallback,1):this.toggleBtnList.forEach(function(t){t.active=!1})},init:function(t,e){switch(t){case RankType.FriendsRank:this.showFriendRank();break;case RankType.GroupRank:this.showGroupRank(e);break;case RankType.World:this.showWorld()}},show:function(){var t=this;if(this.node&&(this.node.active=!0),n.prototype.show.call(this),console.log("RankPop show ",this.node),GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!1),cc.sys.platform!=cc.sys.WECHAT_GAME){PlatformMgr.showLoading("loading...");var e=PlatformMgr.getUid();cc.log("uid == "+e);var i={name:GameDataHandler.Instant.nickName,avatar:1};a.setScore(e,JSON.stringify(i),GameDataHandler.Instant.curMission,function(i,n){a.getListData(e,function(e){if(e){cc.log(e);var i=e.mine,n=e.data;t.refreshList(i,n)}else ToastMng.showToast("get leaderboard data failed!",1.5);PlatformMgr.hideLoading()})})}},_closeOver:function(){n.prototype._closeOver.call(this),GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!0),this.node.active=!1},onEnable:function(){var t=this.worldButton;t&&t.setNormalMode(null)},showFriendRank:function(){this._showType=RankType.FriendsRank,this._toggleCallback(0),GameMng.wx_sub.showFriendsRank()},showGroupRank:function(t){this._showType=RankType.GroupRank,this._toggleCallback(2),logTest("shareTicket ",t),GameMng.wx_sub.showGroupRank(t),setTimeout(function(){},1e3)},showWorld:function(t){if(GameMng.wx_sub.node.active=!1,this._showType=RankType.World,this._toggleCallback(1),t){var e=t.mine,i=t.list;this.refreshList(e,i)}},refreshList:function(t,e){this._clearWorldView(),this._refreshUserCell(t),this.worldTableView.initTableView(e.length,{array:e,manager:this})},_refreshUserCell:function(t){this.userCell.active=!0,this.userCell.init(0,{array:[t],manager:this})},_clearWorldView:function(){this.worldTableView.clear(),this.userCell.active=!1},_toggleCallback:function(t){this.worldView.active=1===t,this.titleSp.spriteFrame=this.titleList[t]},clickQueryGroupRankBtn:function(t){WxSDK.groupShare()},addWorldRankCallback:function(){var t=this,e=this.worldButton;e?(e.createWxBtn(),e.successFunc=function(e){PlatformMgr.showLoading("\u52a0\u8f7d\u4e2d..."),Server.submitLeaderboard(GameDataHandler.Instant.curMission,function(e){t.getLeaderboard()},function(t){ToastMng.showToast("\u63d0\u4ea4\u6210\u7ee9\u5230\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25\u4e86!",1.5),PlatformMgr.hideLoading()})},e.failFunc=function(t){ToastMng.showToast("\u9700\u8981\u7528\u6237\u6388\u6743\u624d\u80fd\u67e5\u770b\u4e16\u754c\u6392\u540d\u54e6!",1.5)}):console.log("userInfoBtn not")},getLeaderboard:function(){var t=this;Server.getLeaderboard(function(e){if(!(e&&e.data&&e.data.data&&Array.isArray(e.data.data.list)))return console.log("\u4e16\u754c\u6392\u884c\u699c\u6570\u636e\u4e0d\u6b63\u786e: ",e),ToastMng.showToast("\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25\u4e86!",1.5),void PlatformMgr.hideLoading();t.showWorld(e.data.data),t.worldButton.setNormalMode(function(){console.log("normalMode"),t.showWorld(e.data.data)}),PlatformMgr.hideLoading()},function(t){ToastMng.showToast("\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25\u4e86!",1.5),PlatformMgr.hideLoading()})},buttonCallback:function(t,e){switch(e){case"group":WxSDK.groupShare(),ToastMng.showToast("\u4eb2\uff01\u70b9\u51fb\u7fa4\u94fe\u63a5\u624d\u80fd\u67e5\u770b\u7fa4\u6392\u884c\u54e6\uff01",1.5);break;case"friend":this.showFriendRank();break;case"world":console.log("\u4e16\u754c\u6392\u884c"),this.showWorld()}},clickCloseBtn:function(){this.pressClose()},pressClose:function(){GameMng.removePopLy(this),this.close(),GameMng.wx_sub.hide()}}),cc._RF.pop()},{LeaderBoardManager:"LeaderBoardManager",PopLayerBase:"PopLayerBase",RankCell:"RankCell",UserInfoBtn:"UserInfoBtn",sdk:"sdk"}],RankPop:[function(t,e,i){"use strict";cc._RF.push(e,"f1c557kgelHRKq4+OFXORWU","RankPop");var n=t("NodeBase");t("sdk");cc.Class({extends:n,properties:{rankBg:cc.Node,worldView:cc.Node,worldTableView:cc.tableView,worldButton:t("UserInfoBtn"),_worldData:null,userCell:t("RankCell"),toggleBtnList:[cc.Node],titleList:[cc.Node]},onLoad:function(){},start:function(){},onEnable:function(){this.zIndex=101},onDisable:function(){},show:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];PlatformMgr.hideBanner(),this.node.active=!0,GameMng.mask.showMask(this.node,180),GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!1),i?this.popRankBg():(this.rankBg.scale=1,this.rankBg.active=!0),this.scheduleOnce(this.addWorldRankCallback,.2),this.init(t,e)},hide:function(){PlatformMgr.showBanner(),this.rankBg.active=!1,GameMng.mask.hideMask(this.node),GameMng.wx_sub.hideFriendsRank(),GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!0)},popRankBg:function(){this.rankBg.active=!0,this.rankBg.scale=.1,this.rankBg.runAction(cc.scaleTo(1,1).easing(cc.easeElasticOut(.8)))},init:function(t,e){switch(t){case RankType.FriendsRank:this.showFriendRank();break;case RankType.GroupRank:this.showGroupRank(e);break;case RankType.World:this.showWorld()}},showFriendRank:function(){this._showType=RankType.FriendsRank,this._toggleCallback(0),GameMng.wx_sub.showFriendsRank()},showGroupRank:function(t){this._showType=RankType.GroupRank,this._toggleCallback(2),logTest("shareTicket ",t),GameMng.wx_sub.showGroupRank(t),setTimeout(function(){},1e3)},showWorld:function(t){!IsWx&&(t={mine:{rank:9999,name:"\u76db",avatar:null,score:999999},list:[{rank:1,name:"aa",avatar:null,score:8797},{rank:2,name:"aaas",avatar:null,score:1136},{rank:3,name:"1211",avatar:null,score:74777},{rank:4,name:"sadfasd",avatar:null,score:113131},{rank:5,name:"cccxvx",avatar:null,score:511631},{rank:6,name:"dfdeeee",avatar:null,score:99959}]}),GameMng.wx_sub.node.active=!1,this._showType=RankType.World,this._toggleCallback(1),this._worldData=t,this._worldData.mine.score=GameDataHandler.Instant.curMission;var e=this._worldData.mine,i=this._worldData.list;this.refreshList(e,i)},refreshList:function(t,e){this._clearWorldView(),this._refreshUserCell(t),this.worldTableView.initTableView(e.length,{array:e,manager:this})},_refreshUserCell:function(t){this.userCell.active=!0,this.userCell.init(0,{array:[t],manager:this})},_clearWorldView:function(){this.worldTableView.clear(),this.userCell.active=!1},_toggleCallback:function(t){var e=this,i=0;this.worldView.active=1===t,this.toggleBtnList.forEach(function(n){var a=t===i;n.getChildByName("beSelect").active=a,n.getChildByName("notSelect").active=!a,e.titleList[i].active=a,i++})},clickQueryGroupRankBtn:function(t){var e=this;WxSDK.groupShare(function(t){t&&void 0!=t.shareTickets&&e.showGroupRank(t.shareTickets[0])},function(){ToastMng.showToast("\u67e5\u8be2\u7fa4\u6392\u884c\u5931\u8d25\u4e86\u54e6\uff01",1.5)})},addWorldRankCallback:function(){var t=this,e=this.worldButton;e?(e.setNormalMode(null),e.successFunc=function(e){PlatformMgr.showLoading("\u52a0\u8f7d\u4e2d..."),Server.submitLeaderboard(GameDataHandler.Instant.curMission,function(e){t.getLeaderboard()},function(t){ToastMng.showToast("\u63d0\u4ea4\u6210\u7ee9\u5230\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25\u4e86!",1.5),PlatformMgr.hideLoading()})},e.failFunc=function(t){ToastMng.showToast("\u9700\u8981\u7528\u6237\u6388\u6743\u624d\u80fd\u67e5\u770b\u4e16\u754c\u6392\u540d\u54e6!",1.5)}):console.log("userInfoBtn not")},getLeaderboard:function(){var t=this;Server.getLeaderboard(function(e){if(!(e&&e.data&&e.data.data&&Array.isArray(e.data.data.list)))return console.log("\u4e16\u754c\u6392\u884c\u699c\u6570\u636e\u4e0d\u6b63\u786e: ",e),ToastMng.showToast("\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25\u4e86!",1.5),void PlatformMgr.hideLoading();t.showWorld(e.data.data),t.worldButton.setNormalMode(function(){console.log("normalMode"),t.showWorld(e.data.data)}),PlatformMgr.hideLoading()},function(t){ToastMng.showToast("\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25\u4e86!",1.5),PlatformMgr.hideLoading()})},buttonCallback:function(t,e){var i=this;switch(e){case"group":WxSDK.groupShare(function(t){t&&void 0!=t.shareTickets&&i.showGroupRank(t.shareTickets[0])},function(){ToastMng.showToast("\u67e5\u8be2\u7fa4\u6392\u884c\u5931\u8d25\u4e86\u54e6\uff01",1.5)});break;case"friend":this.showFriendRank();break;case"world":console.log("\u4e16\u754c\u6392\u884c"),!IsWx&&this.showWorld()}},clickCloseBtn:function(){this.hide(),GameMng.wx_sub.hide()}}),cc._RF.pop()},{NodeBase:"NodeBase",RankCell:"RankCell",UserInfoBtn:"UserInfoBtn",sdk:"sdk"}],RatePop:[function(t,e,i){"use strict";cc._RF.push(e,"221eezUs+9Lu4ttirWfZQsN","RatePop");var n=t("PopLayerBase");cc.Class({extends:n,properties:{emojiLb:cc.Label,tipLb:cc.Node,starArr:[cc.Node],touchLy:cc.Node},start:function(){var t=this;window.GameDataHandler.Instant.hasShowRate=!0,this.emojiLb.node.active=!1,this.tipLb.active=!0,this.starIndex=-1,this.emojiStr=["\ud83d\ude2d","\ud83d\ude25","\ud83d\ude1e","\ud83d\ude0a","\ud83d\ude03"],this.touchLy.on(cc.Node.EventType.TOUCH_START,function(e){var i=e.getLocation();t.touchStarTest(i)}),this.touchLy.on(cc.Node.EventType.TOUCH_MOVE,function(e){var i=e.getDelta();if(i.x*i.x+i.y*i.y>5){var n=e.getLocation();t.touchStarTest(n)}})},touchStarTest:function(t){for(var e=-1,i=4;i>=0;--i)if(this.starArr[i].getBoundingBoxToWorld().contains(t)){e=i;break}e>-1&&this.starIndex!=e&&(this.starIndex=e,this.starArr.forEach(function(t,i){t.getChildByName("pl_win_star").active=i<=e}),this.emojiLb.string=this.emojiStr[e],this.emojiLb.node.active=!0,this.tipLb.active=!1)},_closeOver:function(){n.prototype._closeOver.call(this),this.endCf&&this.endCf(),this.node.destroy()},close:function(){n.prototype.close.call(this),GameMng.removePopLy(this)},update:function(){},clickBtn:function(t,e){switch(PlatformMgr.showButtonIntAd(),t.currentTarget.scale=1,e){case"close":this.close();break;case"ok":this.starIndex>=4&&(GameDataHandler.Instant.lastRateVersion=SDK.game_version,GameDataHandler.Instant.saveData(),PlatformMgr.toRate()),this.close()}},pressClose:function(){this.close()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase"}],ResultPop2:[function(t,e,i){"use strict";cc._RF.push(e,"ce04df4B0BJJ6gJQYZkFeWl","ResultPop2");t("sdk");var n=t("PopLayerBase");cc.Class({extends:t("PopLayerBase"),properties:{},onLoad:function(){},start:function(){},show:function(){this.node.active=!0,this.node.zIndex=100,n.prototype.show.call(this),GameDataHandler.Instant.updateAddCoin(-GameDataHandler.Instant.curAddCoin),GameMng.refreshCoinFace(showCoinType.TotalCoin),GameMng.wx_sub.showMyRank()},close:function(){GameMng.removePopLy(this),n.prototype.close.call(this),GameMng.wx_sub.hideMyRank()},_closeOver:function(){n.prototype._closeOver.call(this),this.closeCf&&this.closeCf(),this.node.active=!1},friendRank:function(){GameMng.wx_sub.hideMyRank(),GameMng.popRank()},reGame:function(){this.closeCf=function(){GameMng.playLy.reStartGame()},this.close()},toStart:function(){this.closeCf=function(){GameMng.toStart()},this.close()},shareScore:function(){WxSDK.otherShare(SharePos.SCORE)},clickBtn:function(t,e){switch(t.currentTarget.scale=1,e){case"friendRankBtn":this.friendRank();break;case"reGameBtn":this.reGame();break;case"toStartBtn":this.toStart();break;case"shareScoreBtn":this.shareScore()}},pressClose:function(){this.toStart()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase",sdk:"sdk"}],ResultPop:[function(t,e,i){"use strict";cc._RF.push(e,"e716aku9PhGYb8XTYlx2ae2","ResultPop");var n=t("NodeBase");t("sdk");cc.Class({extends:n,properties:{},onLoad:function(){},start:function(){},show:function(){this.node.active=!0,GameDataHandler.Instant.updateAddCoin(-GameDataHandler.Instant.curAddCoin),GameMng.refreshCoinFace(showCoinType.TotalCoin),GameMng.mask.showMask(this.node,180),GameMng.wx_sub.showMyRank()},hide:function(){this.node.active=!1,GameMng.wx_sub.hideMyRank(),GameMng.mask.hideMask(this.node)},clickFriendRankBtn:function(){GameMng.wx_sub.hideMyRank(),GameMng.popRank()},clickReGameBtn:function(t){t.currentTarget.scale=1,this.hide(),GameMng.playLy.reStartGame()},clickToStartBtn:function(){this.hide(),GameMng.toStart()},clickShareBtn:function(){WxSDK.otherShare(SharePos.SCORE)}}),cc._RF.pop()},{NodeBase:"NodeBase",sdk:"sdk"}],RewardBox:[function(t,e,i){"use strict";cc._RF.push(e,"1f5fchb+B5H77dKqMQOEa5e","RewardBox"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,window:cc.Node,effectTime:.4,scaleEaseValue:.8,needInputLayer:!0,iconSp:cc.Sprite,coinSf:cc.SpriteFrame,numLb:cc.Label},onLoad:function(){},show:function(){var t=this;this.needInputLayer&&(this._inputLayer?this._inputLayer.active=!0:this._addInputLayer()),GameMng.startLy&&GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!1),this.bg.opacity=0,this.bg.runAction(cc.fadeTo(this.effectTime,150)),this.window.scale=0,this.window.runAction(cc.sequence(cc.scaleTo(this.effectTime,1).easing(cc.easeElasticOut(this.scaleEaseValue)),cc.callFunc(function(){t.window.scale=1,t._inputLayer&&(t._inputLayer.active=!1)}))),this.iconSp.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1,1.1),cc.scaleTo(1,1))))},hide:function(){var t=this;this._inputLayer&&(this._inputLayer.active=!0),GameMng.startLy&&GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!0),this.window.runAction(cc.sequence(cc.fadeTo(.1,0),cc.callFunc(function(){t.close()})))},_addInputLayer:function(){var t=new cc.Node("input");t.position=cc.v2(0,0),t.width=this.node.width,t.height=this.node.height,t.addComponent(cc.BlockInputEvents),this.node.addChild(t,10),this._inputLayer=t},setData:function(t){if(t)if(this.reward=t,"number"==typeof t)this.iconSp.spriteFrame=this.coinSf,this.numLb.string="+"+t;else{var e=SkinDataHandler.Instant.getSkinNameByIndexes(t);this.iconSp.spriteFrame=TextureMng.getSprBySkinNode(e),this.numLb.string="Been Unlocked"}},onClickGet:function(){this.getReward(),this.hide()},getReward:function(){var t=this.reward;void 0!==t?("number"==typeof t?(ToastMng.showToast("Congratulations for getting "+t+" coins"),GameDataHandler.Instant.updateCoin(t),GameDataHandler.Instant.saveData()):NotificationCenter.Instant.post(NotificationMsg.PROP_UPDATE,{type:PropType.SKIN,value:{skin:t,value:-1}}),WxSDK._saveServerData()):cc.error("function getReward reward undefined")},close:function(){this.node.destroy(),this.node.parent.emit("rewardBoxClosed")}}),cc._RF.pop()},{}],"Server+Auth":[function(t,e,i){"use strict";cc._RF.push(e,"3134bFFgjZJmIx5fhJobpCE","Server+Auth"),t("Server").refreshAuthButton=function(t){GameMng.toPlay()},cc._RF.pop()},{Server:"Server"}],"Server+Report":[function(t,e,i){"use strict";cc._RF.push(e,"aa37aOavfREW58n3VEprLL3","Server+Report");var n=t("Server");n.reportAppid=function(t){if(IsWx){var e=wx.getLaunchOptionsSync(),i="",a="";e.referrerInfo&&e.referrerInfo.appId&&(i=e.referrerInfo.appId),e.query&&e.query.cid&&(a=e.query.cid),n._reportAppid(i,a,t)}},n._reportAppid=function(t,e,i,n){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.getUserIdOrCode(this.report_user_id,function(s){s.game_id=SDK.game_id,s.version=SDK.game_version,s.app_id=t,s.channel_id=e,s.auth_flag=i,console.log("\u62a5\u544a\u6765\u6e90appid"),console.log(s),wx.request({url:"https://statistics.xiaoyouxiqun.com/report.php",data:s,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},success:function(t){t&&t.data&&t.data.user_id&&(a.report_user_id=t.data.user_id,console.log("this.report_user_id == ",a.report_user_id)),0==t.data.code?(console.log("\u62a5\u544a\u6765\u6e90appid\u6210\u529f: ",t),n&&n(t.data)):(console.log("\u62a5\u544a\u6765\u6e90appid\u5931\u8d25: ",t),o&&o(t))},fail:function(t){console.log("\u8bf7\u6c42\u62a5\u544a\u6765\u6e90appid\u5931\u8d25: ",t),o&&o()}})},o)},n.reportEvent=function(t,e){var i=this;if(void 0===e&&(t&&t.tag&&t.page?(e=t.page,t=t.tag):console.error("reportEvent tag page",t,e)),IsWx){this.wxLogin(function(n){n.os=WxSDK.getPlatform(),n.game_id=i.game_id,n.tag=t,n.page=e,console.log("\u63d0\u4ea4\u53c2\u6570:",n);wx.request({url:"https://report.xiaoyouxiqun.com/report_click.php",header:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},method:"POST",data:n,success:function(t){console.log("\u4e8b\u4ef6\u4e0a\u62a5\u6210\u529f:",t),t&&t.data&&t.data.user_id&&(i.user_id=t.data.user_id)},fail:function(t){console.log("\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25:",t)}})})}else console.log("----\u4e0a\u62a5\u4e8b\u4ef6page:"+e+" tag:"+t+"------")},cc._RF.pop()},{Server:"Server"}],Server:[function(t,e,i){"use strict";var n;function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"5a9a3y0gZZL7JQ7+7xFVebO","Server");var o=t("sdk"),s=o,c=(a(n={game_id:o.game_id,version:o.game_version,report_user_id:null,data_user_id:null,server_time:0,gamebox_ads:{list:[],toapp:null,flag:""},toappid:null,vid:"",flag:"",saveDataUserId:function(t,e){e&&e.data&&e.data.user_id&&(this[t]=e.data.user_id,console.log("this."+t+" == "+this[t]))},getServerTime:function(t,e){var i=this;if(s._checkWx(e,null,"request")){s.showLoading("\u83b7\u53d6\u7f51\u7edc\u65f6\u95f4...");var n=function(t){s.hideLoading(),console.log("\u8bf7\u6c42\u4ece\u670d\u52a1\u83b7\u53d6\u65f6\u95f4\u5931\u8d25",t),e&&e(t)};this.getUserIdOrCode(this.data_user_id,function(a){wx.request({url:"https://reada.xiaoyouxiqun.com/time.html",header:{},method:"GET",data:a,success:function(n){s.hideLoading();var a=i._saveHeaderTime(n);a?(console.log("\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u65f6\u95f4\u6210\u529f",a),t&&t(a)):(console.log("\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u65f6\u95f4\u5931\u8d25",a),e&&e(a))},fail:n,complete:null})},n)}},getData:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(s._checkWx(i,null,"request")){s.showLoading("\u6570\u636e\u52a0\u8f7d\u4e2d...");var n=function(t){s.hideLoading(),console.log("\u8bf7\u6c42\u4ece\u670d\u52a1\u83b7\u53d6\u6570\u636e\u5931\u8d25",t),i&&i(t)};this.getUserIdOrCode(this.data_user_id,function(a){a.game_id=s.game_id,a.type="get",console.log("\u83b7\u53d6\u6570\u636e"),console.log(a),wx.request({url:"https://reada.xiaoyouxiqun.com/data.php",header:{},method:"GET",data:a,success:function(n){s.hideLoading(),e.saveDataUserId("data_user_id",n),0==n.data.code?(console.log("\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u6210\u529f",n),t&&t(n.data)):(console.log("\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u5931\u8d25",n),i&&i(n))},fail:n,complete:null})},n)}},saveData:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(s._checkWx(n,null,"request")){this.getUserIdOrCode(this.data_user_id,function(a){a.game_id=s.game_id,a.type="put",a.info=t,console.log("\u4fdd\u5b58\u6570\u636e"),console.log(a),wx.request({url:"https://leviathan.xiaoyouxiqun.com/data.php",header:{},method:"GET",data:a,success:function(t){i.saveDataUserId("data_user_id",t),0==t.data.code?(console.log("\u4fdd\u5b58\u6570\u636e\u5230\u670d\u52a1\u5668\u6210\u529f",t),e&&e(t.data)):(console.log("\u4fdd\u5b58\u6570\u636e\u5230\u670d\u52a1\u5668\u5931\u8d25",t),n&&n(t))},fail:function(t){console.log("\u8bf7\u6c42\u4fdd\u5b58\u6570\u636e\u5230\u670d\u52a1\u5668\u5931\u8d25"),n&&n(t)},complete:null})},n)}},getUserCodeThenGetUserInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.wxLogin(function(i){s.getUserInfo(function(e){for(var n in console.log("\u83b7\u53d6\u5fae\u4fe1\u7528\u6237\u4fe1\u606f\u6210\u529f: ",e),e)i[n]=e[n];t(i)},function(t){console.log("\u83b7\u53d6\u5fae\u4fe1\u7528\u6237\u4fe1\u606f\u5931\u8d25: ",t),e&&e(t)})},e)},_saveHeaderTime:function(t){var e=void 0;return t&&t.header&&t.header.Date&&(e=new Date(t.header.Date).getTime()),e},wxLoginAndGetInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;wx.login({success:function(i){var n=i.code;o.getUserInfoForce(function(e){var i={code:n,iv:e.iv,rawData:e.rawData,encryptedData:e.encryptedData,signature:e.signature};t(i)},function(t){e&&e(t)})},fail:function(t){e&&e(t)}})},getUserIdOrCode:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t?wx.checkSession({success:function(i){e({user_id:t})},fail:function(t){i.wxLogin(e,n)}}):this.wxLogin(e,n)},wxLogin:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;wx.login({success:function(e){var i=e.code;t&&t({code:i})},fail:function(t){e&&e(t)}})},getGroupID:function(t,e,i,n){var a={game_id:this.game_id,code:t,encryptedData:e.encryptedData,iv:e.iv};wx.request({url:"https://api.xiaoyouxiqun.com/gid.php",data:a,header:{"content-type":"application/json"},success:function(t){t.data&&0===t.data.code?i&&i(t.data.opendata.openGId):i&&i(0)},fail:function(t){n&&n(t)}})},submitLeaderboard:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("\u4fdd\u5b58\u6210\u7ee9\u5230\u4e16\u754c\u6392\u884c\u699c: ",t),this.wxLoginAndGetInfo(function(a){a.game_id=i.game_id,a.score=t,console.log("\u4fdd\u5b58\u6210\u7ee9\u5230\u4e16\u754c\u6392\u884c\u699c(data): ",a),wx.request({url:"https://leaderboard.xiaoyouxiqun.com/submit.php",header:{},method:"GET",data:a,success:function(t){t&&t.data&&0==t.data.code?(console.log("\u4fdd\u5b58\u6210\u7ee9\u5230\u4e16\u754c\u6392\u884c\u699c\u6210\u529f: ",t),WxSDK.leaderSubmitted||(WxSDK.leaderSubmitted=!0),e&&e(t)):(console.log("\u4fdd\u5b58\u6210\u7ee9\u5230\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25: ",t),n&&n(t))},fail:function(t){console.log("\u4fdd\u5b58\u6210\u7ee9\u5230\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25: ",t),n&&n(t)}})},function(t){n&&n(t)})},getLeaderboard:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("\u5f00\u59cb\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c");this.wxLogin(function(n){n.game_id=e.game_id,console.log("\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c(\u8bf7\u6c42data): ",n),wx.request({url:"https://leaderboard.xiaoyouxiqun.com/get.php",header:{},method:"GET",data:n,success:function(e){e&&e.data&&0==e.data.code?(console.log("\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u6210\u529f: ",e),t&&t(e)):(console.log("\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25: ",e),i&&i(e))},fail:function(t){console.log("\u8bf7\u6c42\u83b7\u53d6\u4e16\u754c\u6392\u884c\u699c\u5931\u8d25: ",t),i&&i(t)}})},i)},getGameBoxConfig:function(t,e){var i=this,n=function(t){console.log("\u62c9\u53d6game_box\u914d\u7f6e\u5931\u8d25",JSON.stringify(t)),e&&e()};this.wxLogin(function(a){a.os=WxSDK.getPlatform(),a.game_id=i.game_id,a.vid=i.vid,a.toappid=i.toappid,a.flag=i.flag,console.log("\u62c9\u53d6game_box\u914d\u7f6e:",a);wx.request({url:"https://box.xiaoyouxiqun.com/gamebox.php",header:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},method:"GET",data:a,success:function(n){if(console.log("\u83b7\u53d6game_box\u914d\u7f6e\u6210\u529f:",n),n.data){for(var a in n.data)i.gamebox_ads[a]=n.data[a];t&&t()}else console.log("\u672a\u627e\u5230data\u6570\u636e"),e&&e()},fail:n})})}},"getServerTime",function(t,e){var i=this,n=(new Date).getTime();console.log("nowTime = "+n),console.log("this.server_time = "+this.server_time);var a=Math.abs(n-this.server_time);if(console.log("\u65f6\u95f4\u8bef\u5dee diffTime = "+a),a<36e5)console.log("60\u5206\u949f\u5185\u4e0d\u9700\u8981\u91cd\u65b0\u62c9\u53d6\u65f6\u95f4"),this.server_time=n,t&&t(n);else{var o=function(t){s.hideLoading();var n=i._saveHeaderTime(t);console.log("\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u65f6\u95f4\u5931\u8d25",n),e&&e(t)};if(s._checkWx(null,null,"request")){this.getUserIdOrCode(this.data_user_id,function(t){wx.request({url:"https://reada.xiaoyouxiqun.com/time.html?t="+(new Date).getTime(),header:{},method:"GET",data:t,success:function(t){s.hideLoading();var e=i._saveHeaderTime(t);console.log("\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u65f6\u95f4\u6210\u529f",e)},fail:o,complete:null})},o)}else{var c=(new Date).getTime();console.log("\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u65f6\u95f4\u6210\u529f",c),this.server_time=c,t&&t(c)}}}),a(n,"_saveHeaderTime",function(t){return t&&t.header&&t.header.Date&&(this.server_time=new Date(t.header.Date).getTime(),console.log("\u83b7\u53d6\u670d\u52a1\u5668\u65f6\u95f4: this.server_time = ",this.server_time)),this.server_time}),a(n,"isValidTime",function(t){var e=this;if(LocalStorageUtils.Instant.getData("useLocalTime",!1))t&&t(!0);else{var i=function(){var t=(new Date).getTime();console.log("nowTime = "+t),console.log("this.server_time = "+e.server_time);var i=Math.abs(t-e.server_time);return console.log("\u65f6\u95f4\u8bef\u5dee diffTime = "+i),i<36e5};i()?t&&t(!0):(this.getServerTime(),t&&t(i()))}}),n);window.Server=e.exports=c;if(window.wx){var r=wx.getLaunchOptionsSync();console.log("launchOptions == "+JSON.stringify(r)),r.query&&(void 0!=r.query.flag&&(c.flag=r.query.flag),void 0!=r.query.vid&&(c.vid=r.query.vid),r.query.toIndex>=0&&r.query.toIndex<10&&console.log("launchOptions.query.toIndex = "+r.query.toIndex))}cc._RF.pop()},{sdk:"sdk"}],SetLy:[function(t,e,i){"use strict";cc._RF.push(e,"2dcd4XEiNtLFYWm2uCxYups","SetLy");var n=t("PopLayerBase");cc.Class({extends:n,properties:{audioBg:cc.Sprite,shakeBg:cc.Sprite,audioBtn:cc.Node,shakeBtn:cc.Node,st_text_offSf:cc.SpriteFrame,st_text_onSf:cc.SpriteFrame},start:function(){this.init(),PlatformMgr.hideVideoGiftAd()},_closeOver:function(){this.node.destroy()},close:function(){n.prototype.close.call(this),PlatformMgr.showVideoGiftAd(),GameMng.removePopLy(this)},init:function(){this.node.zIndex=101,this.btnOnPosX=62,this.btnOffPosX=-62,this.updateBtnState(this.audioBg.node,AudioMng.effectState,0),this.updateBtnState(this.shakeBg.node,AudioMng.shakeState,0)},update:function(){this.audioBg.fillRange=1-(this.btnOnPosX-this.audioBtn.x)/100,this.shakeBg.fillRange=1-(this.btnOnPosX-this.shakeBtn.x)/100},updateBtnState:function(t,e,i){var n=t.getChildByName("btn");n.stopAllActions();var a=t.getChildByName("textSpr"),o=a.getComponent(cc.Sprite);e?(a.x=-54,o.spriteFrame=this.st_text_offSf,n.x=this.btnOffPosX,n.runAction(cc.moveTo(i,cc.v2(this.btnOnPosX,n.position.y)))):(a.x=54,o.spriteFrame=this.st_text_onSf,n.x=this.btnOnPosX,n.runAction(cc.moveTo(i,cc.v2(this.btnOffPosX,n.position.y))))},updateFiledSpr:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=t.fillRange;(a+=e)<=i?a=i:a>=n&&(a=n),t.fillRange=a},clickBtn:function(t,e){switch(PlatformMgr.showButtonIntAd(),t.currentTarget.scale=1,e){case"close":this.close();break;case"audioBtn":AudioMng.effectState=!AudioMng.effectState,this.updateBtnState(this.audioBg.node,AudioMng.effectState,.2);break;case"shakeBtn":AudioMng.shakeState=!AudioMng.shakeState,this.updateBtnState(this.shakeBg.node,AudioMng.shakeState,.2)}},pressClose:function(){this.close()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase"}],ShanGuang:[function(t,e,i){"use strict";cc._RF.push(e,"d4f5a04OxdIrr8gj2d01oQ5","ShanGuang"),cc.Class({extends:cc.Component,properties:{spark:cc.Sprite,btn:cc.Node},onLoad:function(){},start:function(){},initSpark:function(){},initClipper:function(){cc.ClippingNode.create()}}),cc._RF.pop()},{}],ShapeEdit:[function(t,e,i){"use strict";cc._RF.push(e,"c1d75yjRqROKKjX8BtCw9zx","ShapeEdit"),cc.Class({extends:cc.Component,properties:{content:cc.Node,itemNode:cc.Node,curIndexLb:cc.Label,fruitListCt:cc.Node,nowSelectFruit:t("FruitItem")},onLoad:function(){this.fruitItemList=[],this.fruitItemPool=new My.NodePool("fruitItemPool"),this.dotList=[],this.dotPool=new My.NodePool("dotPool"),GameDataHandler.Instant.editShapeList=LocalStorageUtils.Instant.getData("editShapeList2",[[]]),GameDataHandler.Instant.curShapeIndex=LocalStorageUtils.Instant.getData("editCurIndex2",0),this.maxSmlNum=5,this.maxFruitNum=16,this.maxFruitTypeNum=4},start:function(){var t=this;this.createItems(),this.scheduleOnce(function(){t.setEditData(GameDataHandler.Instant.editShapeList.length-1),t.createFruitList(),t.nowSelectFruit.refreshFace(0)},.2)},onDestroy:function(){},show:function(){this.node.active=!0},hide:function(){this.node.active=!1},createFruitList:function(){for(var t=this,e=function(e){var i=cc.instantiate(FileUtils.Instant.getPrefabByName("fruitPfb"));i.getComponent("FruitItem").refreshFace(e),i.parent=t.fruitListCt,i.on(cc.Node.EventType.TOUCH_END,function(){t.nowSelectFruit.refreshFace(e)})},i=0;i<8;i++)e(i);this.fruitListCt.getComponent(cc.Layout).updateLayout()},createItems:function(){for(var t=this,e=function(e){var i=cc.instantiate(t.itemNode);i.name="item_"+e,i.on(cc.Node.EventType.TOUCH_END,function(){-1===t.editData.indexOf(e)?t.fruitItemList.length<=t.maxFruitNum-1?(t.addFruit(e,t.nowSelectFruit.fruitType),t.editData.add(e)):ToastMng.showToast("\u6c34\u679c\u6570\u91cf\u8fc7\u591a\u4e86\u54e6\uff01",1.8):(t.removeFruit(e),t.editData.remove(e))}),t.content.addChild(i)},i=0;i<361;++i)e(i);this.content.getComponent(cc.Layout).updateLayout(),this.scheduleOnce(function(){var e=0;t.content.children.forEach(function(i){var n=t.createDot();n.position=i.position,180===e&&(n.color=cc.color(255,0,0)),e++})},.1)},addFruit:function(t,e){var i="fruit_"+t,n=this.node.getChildByName(i);if(!n){(n=this.createFruitItem(e)).name=i;var a=this.content.getChildByName("item_"+t).position;n.position=a}},removeFruit:function(t){var e="fruit_"+t,i=this.node.getChildByName(e);i&&i.getComponent("FruitItem").remove()},refreshFace:function(t){var e=this;this.setNullAllItems(),t.forEach(function(t){e.addFruit(t,e.nowSelectFruit.fruitType)})},createFruitItem:function(t){var e=this.fruitItemPool.get();if(e)e.getComponent("FruitItem").refreshFace(t);else{(e=cc.instantiate(FileUtils.Instant.getPrefabByName("fruitPfb"))).zIndex=2;var i=e.getComponent("FruitItem");i.pool=this.fruitItemPool,i.list=this.fruitItemList,i.refreshFace(t),e.parent=this.node}return e},createDot:function(){var t=this.dotPool.get();if(!t){(t=cc.instantiate(FileUtils.Instant.getPrefabByName("dotPfb"))).zIndex=1;var e=t.getComponent("Dot");e.pool=this.dotPool,e.list=this.dotList,t.parent=this.node}return t},setNullAllDots:function(){for(var t=this.dotList.length-1;t>=0;--t)this.dotList[t].getComponent("Dot").remove()},setNullAllItems:function(){for(var t=this.fruitItemList.length-1;t>=0;--t)this.fruitItemList[t].getComponent("FruitItem").remove()},setEditData:function(t){GameDataHandler.Instant.curShapeIndex=t,this.curIndexLb.string=GameDataHandler.Instant.curShapeIndex,this.editData=GameDataHandler.Instant.editShapeList[t],this.refreshFace(this.editData)},clickCreateNewBtn:function(){var t=GameDataHandler.Instant.editShapeList.length;GameDataHandler.Instant.editShapeList.push([]),this.setEditData(t)},clickIndexBtn:function(t,e){if("+"===e){var i=GameDataHandler.Instant.curShapeIndex+1;i<GameDataHandler.Instant.editShapeList.length?this.setEditData(i):ToastMng.showToast("\u7d22\u5f15\u503c\u8fc7\u5927\u4e86",2)}else{var n=GameDataHandler.Instant.curShapeIndex-1;n>=0?this.setEditData(n):ToastMng.showToast("\u7d22\u5f15\u503c\u8fc7\u5c0f\u4e86",2)}},clickFruitBtn:function(t,e){var i=t.currentTarget.getComponent("FruitItem").fruitType;this.nowSelectFruit.refreshFace(i)},clickSaveDataBtn:function(){LocalStorageUtils.Instant.setDataWithLog("editCurIndex2",GameDataHandler.Instant.curShapeIndex),LocalStorageUtils.Instant.setDataWithLog("editShapeList2",GameDataHandler.Instant.editShapeList)}}),cc._RF.pop()},{FruitItem:"FruitItem"}],SignDataMng:[function(t,e,i){"use strict";cc._RF.push(e,"21a05Y1kRhPQpXfzUZ5rN0F","SignDataMng");t("Server"),t("sdk");window.SignState={CANNOT_SIGN:0,NORMAL_SIGN:1,BE_SIGNED:2,MEND_SIGN:3};var n={updateSignData:function(){this.getData();var t=(new Date).toDateString();t!=this.signData.todayDate&&(this.signData.todayDate=t,this.signData.stateList[this.signData.curIndex]==SignState.BE_SIGNED&&(this.signData.curIndex++,this.signData.curIndex>6?this.reset7Data():this.signData.stateList[this.signData.curIndex]=SignState.NORMAL_SIGN),this.saveData()),this.signData.rewardList=this.udpateRewardList()},saveData:function(){GameDataHandler.Instant.saveData(),console.log("SignDataMng saveData : ",this.signData)},getData:function(){GameDataHandler.Instant._localData.signData?this.signData=GameDataHandler.Instant._localData.signData:this.reset7Data()},init7DataStateList:function(){for(var t=[],e=0;e<7;++e)t[e]=SignState.CANNOT_SIGN;return t[0]=SignState.NORMAL_SIGN,t},udpateRewardList:function(){for(var t=[200,-1,800,-1,1500,3e3,-2],e=t.length,i=0;i<e;++i){var n=t[i];-1===n?1===i?(n=t[i]=SkinDataHandler.Instant.getPageRandomByIndex(1,!0))||(t[i]=300):(n=t[i]=SkinDataHandler.Instant.getPageRandomByIndex(2,!0))||(t[i]=900):-2===n&&((n=t[i]=SkinDataHandler.Instant.getPageRandomByIndex(3,!0))||(n=t[i]=SkinDataHandler.Instant.getPageRandomByIndex(2,!0))||(t[i]=5e3))}return t},reset7Data:function(){this.signData={},GameDataHandler.Instant._localData.signData=this.signData,this.signData.rewardList=this.udpateRewardList(),this.signData.stateList=this.init7DataStateList(),this.signData.todayDate=null,this.signData.curIndex=0,this.saveData()},checkToDayState:function(){return console.log("this.stateList == "+this.signData.stateList),this.signData.stateList[this.signData.curIndex]===SignState.BE_SIGNED},sign:function(t){this.signData.stateList[t]=SignState.BE_SIGNED,this.saveData(),WxSDK._saveServerData()},openNextDay:function(){this.signData.todayDate=new Date((new Date).getTime()-864e5).toDateString(),this.saveData(),WxSDK._saveServerData()},getCurIndex:function(){return this.signData.curIndex},getReward:function(t){return this.signData.rewardList[t]},getStateList:function(){return this.signData.stateList},getRewardList:function(){return this.signData.rewardList=this.udpateRewardList(),this.signData.rewardList}};e.exports=n,cc._RF.pop()},{Server:"Server",sdk:"sdk"}],SignView:[function(t,e,i){"use strict";cc._RF.push(e,"da137meA9xGBLCL7aASfj6u","SignView");var n=t("SignDataMng");cc.Class({extends:cc.Component,properties:{bg:cc.Node,content:cc.Node,effectTime:.4,scaleEaseValue:.8,needInputLayer:!0,enableShareSpr:cc.Node,items:[cc.Node],coinSf:cc.SpriteFrame,signedSf:cc.SpriteFrame,itemBgSf:cc.SpriteFrame,itemBgSf2:cc.SpriteFrame,againLyPf:cc.Prefab,rewardBoxPf:cc.Prefab},onLoad:function(){var t=this;this.node.on("againSignSuccess",function(e){var i=0,a=n.getCurIndex();i=1==a?300:3==a?900:6==a?5e3:n.getReward(a),t.getReward(i)},this),this.node.on("againSignClosed",function(e){t.hide()},this),this.node.on("rewardBoxClosed",function(e){t.firstSign?(t.firstSign=!1,cc.sys.platform==cc.sys.WECHAT_GAME?(t.getFuncType=WxSDK.getOtherGetFunc(GainPos.AddedBonus),t.getFuncType!==GainFuncType.NOT?t.showAgainLy():t.hide()):t.hide()):t.hide()},this),this.firstSign=!0},start:function(){},show:function(){var t=this;cc.systemEvent.emit("toggleWeekMatchBtn",!1),this.needInputLayer&&(this._inputLayer?this._inputLayer.active=!0:this._addInputLayer()),GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!1),this.bg.opacity=0,this.bg.runAction(cc.fadeTo(this.effectTime,150)),this.content.scale=0,this.content.runAction(cc.sequence(cc.scaleTo(this.effectTime,1).easing(cc.easeElasticOut(this.scaleEaseValue)),cc.callFunc(function(){t.content.scale=1,t._inputLayer&&(t._inputLayer.active=!1)}))),this.refresh()},hide:function(){var t=this;this._inputLayer&&(this._inputLayer.active=!0),GameMng.startLy.node.active&&GameMng.startLy.refreshWxBtn(!0),this.bg.opacity=255,this.bg.runAction(cc.fadeTo(this.effectTime,0)),this.content.scale=1,this.content.runAction(cc.sequence(cc.scaleTo(this.effectTime,0).easing(cc.easeElasticIn(this.scaleEaseValue)),cc.callFunc(function(){t.node.destroy()}))),cc.systemEvent.emit("toggleWeekMatchBtn",!0),GameMng.removePopLy(this)},refresh:function(){var t=this,e=n.getStateList(),i=n.getRewardList();console.log("stateList == ",e),console.log("rewardList == ",i),this.enableShare=!0;var a=0;e.forEach(function(e){var n=i[a],o=t.items[a];t.setItemReward(o,n),t.setItemState(o,e),a++})},setItemReward:function(t,e){var i=t.getChildByName("icon").getComponent(cc.Sprite),n=t.getChildByName("reward").getComponent(cc.Label);if("number"==typeof e)i.spriteFrame=this.coinSf,i.node.scale=1,n.string=e;else{var a=SkinDataHandler.Instant.getSkinNameByIndexes(e);i.spriteFrame=TextureMng.getSprBySkinNode(a),i.node.scale=.65,n.string="unlock"}},setItemState:function(t,e){var i=t.getChildByName("signed"),n=i.getComponent(cc.Sprite);i.active=!1,t.getComponent(cc.Sprite).spriteFrame=this.itemBgSf,e===SignState.NORMAL_SIGN?t.getComponent(cc.Sprite).spriteFrame=this.itemBgSf2:e===SignState.BE_SIGNED?(i.active=!0,n.spriteFrame=this.signedSf,i.color=cc.Color.WHITE,i.opacity=255):e===SignState.CANNOT_SIGN&&(i.active=!0,n.spriteFrame=this.itemBgSf,i.color=cc.Color.BLACK,i.opacity=120)},getReward:function(t){var e=this.node.getChildByName("__RewardBox");e||((e=cc.instantiate(this.rewardBoxPf)).parent=this.node,e.name="__RewardBox"),(e=e.getComponent("RewardBox")).show(),e.setData(t)},_addInputLayer:function(){var t=new cc.Node("input");t.position=cc.v2(0,0),t.width=this.node.width,t.height=this.node.height,t.addComponent(cc.BlockInputEvents),this.node.addChild(t,10),this._inputLayer=t},clickBtn:function(t,e){switch(e){case"sureSign":if(n.checkToDayState())ToastMng.showToast("Been signed in today!");else{var i=n.getCurIndex();console.log("curIndex = "+i);var a=n.getReward(i);n.sign(i),this.setItemState(this.items[i],SignState.BE_SIGNED),this.getReward(a)}break;case"shareSwitch":break;case"close":this.hide()}},showAgainLy:function(){var t=this.node.getChildByName("__againSign");t||((t=cc.instantiate(this.againLyPf)).parent=this.node,t.name="__againSign"),(t=t.getComponent("AgainSign")).show()},onEnable:function(){cc.systemEvent.emit("updateBanner",{in:1,show:1,bannerY:-380,window:"signView"})},onDisable:function(){cc.systemEvent.emit("updateBanner",{})},pressClose:function(){this.hide()}}),cc._RF.pop()},{SignDataMng:"SignDataMng"}],Singleton:[function(t,e,i){"use strict";cc._RF.push(e,"0a617U8MdRMsbccRECbbQC8","Singleton");cc.Class({properties:{},statics:{Instant:null},ctor:function(){this.onInit()},onInit:function(){}});cc._RF.pop()},{}],SkinDataHandler:[function(t,e,i){"use strict";cc._RF.push(e,"532bcBdK1pGbJ+EmIa3qVb+","SkinDataHandler");var n=t("DataHandler"),a=cc.Class({extends:n,properties:{curSkin:{get:function(){return this._localData.curSkin},set:function(t){this._localData.curSkin=t}}},onInit:function(){this._configTableURL="SkinData",this._configRelativeURL="SkinInfo"},onLoadConfig:function(t){if(n.prototype.onLoadConfig.call(this,t),void 0===this._localData.skinList&&this.createSkinInfo(),4===this._localData.skinList.length&&this.addParticleSkinInfo(),!this._localData.lastSkin){var e=this.getSkinDataByIndex(this.curSkin);this._localData.lastSkin=e<0?this.curSkin:this._config.dftSkin,console.log("create lastSkin ",this._localData.lastSkin)}this.saveData()},createSkinInfo:function(){this._localData.curSkin=this._config.dftSkin,this._localData.skinList=[];for(var t=0;t<4;++t){for(var e=[],i=0;i<16;++i)e.push(0);this._localData.skinList.push(e)}this._localData.skinList[this.curSkin[0]][this.curSkin[1]]=-1},addParticleSkinInfo:function(){for(var t=[],e=0;e<3;++e)t.push(0);this._localData.skinList.push(t)},getSkinList:function(){return this._localData.skinList},getSkinDataByIndex:function(t){return this._localData.skinList[t[0]][t[1]]},updateSkinData:function(t,e){this._localData.skinList[t[0]][t[1]]=e,this.saveData()},getSkinNameByIndexes:function(t){return t[0]+1+"_"+(t[1]+1)},getPageStateByIndex:function(t){for(var e=this._localData.skinList[t],i=e.length,n=0;n<i;++n)if(-1!==e[n])return!1;return!0},getPageRandomByIndex:function(t){var e=null;if(this._localData.skinList.length>t&&t>=0){for(var i=this._localData.skinList[t],n=i.length,a=[],o=0;o<n;++o)-1!==i[o]&&a.push([t,o]);e=a.length>0?a.getRandomOne():null}return e},getRandomPropSkin:function(){for(var t=[],e=0;e<3;++e)for(var i=this._localData.skinList[e],n=0;n<i.length;++n)-1!==i[n]&&t.push([e,n]);return t.length>0?t.getRandomOne():null},unlockPage:function(t){if(this._localData.skinList.length>t&&t>=0)for(var e=this._localData.skinList[t],i=e.length,n=0;n<i;++n)-1!==e[n]&&(e[n]=-1)},setCurSkin:function(t){var e=this.getSkinDataByIndex(t);-1===e||e>0?(this.curSkin=t,-1===e&&(this.lastSkin=t),GameMng&&GameMng.knifeLy&&GameMng.knifeLy.refresh()):cc.error("function setCurSkin index / value",t,e)},clearPage:function(t){if(this._localData.skinList.length>t&&t>=0)for(var e=this._localData.skinList[t],i=e.length,n=0;n<i;++n)0!==e[n]&&(e[n]=0)}});window.SkinDataHandler=e.exports=a,null===a.Instant&&(a.Instant=new a),cc._RF.pop()},{DataHandler:"DataHandler"}],SkinInfo:[function(t,e,i){"use strict";cc._RF.push(e,"7462cE0nelKOKO31crJboav","SkinInfo");var n={skinPageNeedCoinList:[1500,3e3,6e3],dftSkin:[0,0],tableData:{curSkin:[0,0],lastSkin:void 0,skinList:void 0}};e.exports=n,cc._RF.pop()},{}],SkinLy:[function(t,e,i){"use strict";cc._RF.push(e,"0bd78ONORJLj4C1EW/iUu4d","SkinLy");t("sdk");cc.Class({extends:cc.Component,properties:{pageList:[cc.Node],pageView:cc.PageView,curKnife:cc.Sprite,needCoinLb:cc.Label,randBtnNode:cc.Node,freeRandBtnNode:cc.Node,selectTag:cc.Node,toastLb:cc.Label,skinFreeTimes:cc.Label,sl_get_byVideoSf:cc.SpriteFrame,sl_get_byFreeSf:cc.SpriteFrame},onLoad:function(){this.hasInited=!1},start:function(){},onDestroy:function(){},show:function(){PlatformMgr.hideBanner(),this.getFuncType=WxSDK.getOtherGetFunc(GainPos.PageRandom),this.freeRandBtnActive=this.getFuncType!==GainFuncType.NOT,this.updateFreeTimes(),this.node.active=!0,this.hasInited?this.refreshFace():(this.hasInited=!0,this.initFace())},hide:function(){PlatformMgr.showBanner(),this.node.active=!1},initFace:function(){this.initPage(),this.updatePage(0)},initPage:function(){var t=this,e=SkinDataHandler.Instant.getSkinList();this.itemList=[],this.pageState=[];for(var i=function(i){t.pageState.push(!0);for(var n=e[i],a=t.pageList[i],o=[],s=.1,c=n.length,r=function(e){var c=SkinDataHandler.Instant.getSkinNameByIndexes([i,e]),r=cc.instantiate(PrefabMng.getPrefabByName("skinPageItem"));r.name=c,t.setItemExpr(r,n[e]),t.setItemState(r,0!==n[e]),r.on(cc.Node.EventType.TOUCH_END,function(){0==n[e]?ToastMng.showToast("Unlocked"):(AudioMng.playEffect("btn"),t.setCurKnife([i,e]))}),o.push(r),i<1&&(r.opacity=0,r.runAction(cc.sequence(cc.delayTime(s),cc.scaleTo(0,0),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1)))),s+=.04),a.addChild(r)},h=0;h<c;++h)r(h);t.itemList.push(o)},n=0;n<this.pageList.length;++n)i(n);this.setCurKnife(SkinDataHandler.Instant.curSkin)},refreshFace:function(){for(var t=this,e=SkinDataHandler.Instant.getSkinList(),i=function(i){t.pageState[i]=!0;for(var n=t.itemList[i],a=e[i],o=.1,s=a.length,c=function(e){var s=n[e];t.setItemExpr(s,a[e]),t.setItemState(s,0!==a[e]),s.off(cc.Node.EventType.TOUCH_END),s.on(cc.Node.EventType.TOUCH_END,function(){0==a[e]?ToastMng.showToast("Unlocked"):(AudioMng.playEffect("btn"),t.setCurKnife([i,e]))}),s.stopAllActions(),s.opacity=0,s.runAction(cc.sequence(cc.delayTime(o),cc.scaleTo(0,0),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1)))),o+=.05},r=0;r<s;++r)c(r)},n=0;n<this.pageList.length;++n)i(n);this.setCurKnife(SkinDataHandler.Instant.curSkin)},refreshGainGetFunc:function(){this.getFuncType=WxSDK.getOtherGetFunc(GainPos.PageRandom),this.freeRandBtnActive=this.getFuncType!==GainFuncType.NOT,this.updatePage(this.curIndex)},updateFreeTimes:function(){var t=WxSDK.getFreeSkinTimes();this.skinFreeTimes.string="("+t+" Times Remaining)",this.freeRandBtnNode.getComponent(cc.Button).interactable=t>0},setItemState:function(t,e){t.getComponent(cc.Sprite).spriteFrame=e?TextureMng.getSprBySkinNode("js_"+t.name):TextureMng.getSprBySkinNode("wjs_"+t.name)},setItemExpr:function(t,e){var i=t.getChildByName("exprTag");e>0?(i||((i=cc.instantiate(PrefabMng.getPrefabByName("exprTag"))).name="exprTag",i.position=cc.v2(0,-50),t.addChild(i,3)),i.getChildByName("num").getComponent(cc.Label).string="Try "+e+" times"):i&&i.removeFromParent()},setCurKnife:function(t){var e=SkinDataHandler.Instant.getSkinNameByIndexes(t);SkinDataHandler.Instant.setCurSkin(t),this.curKnife.spriteFrame=TextureMng.getSprBySkinNode(e),this.selectTag.parent=this.itemList[t[0]][t[1]]},updatePage:function(t){if(this.curIndex=t,SkinDataHandler.Instant.getPageStateByIndex(t))return this.skinFreeTimes.node.active=this.randBtnNode.active=this.freeRandBtnNode.active=!1,this.toastLb.node.active=!0,void(this.toastLb.string="All obtained");t<3?(this.curNeedCoin=SkinDataHandler.Instant._config.skinPageNeedCoinList[t],this.randBtnNode.active=!0,this.skinFreeTimes.node.active=this.freeRandBtnNode.active=this.freeRandBtnActive,this.freeRandBtnActive&&(this.freeRandBtnNode.getComponent(cc.Sprite).spriteFrame=this.getFuncType===GainFuncType.VIDEO?this.sl_get_byVideoSf:this.sl_get_byFreeSf,this.updateFreeTimes()),this.randBtnNode.x=this.freeRandBtnNode.active?-150:0,this.needCoinLb.string=this.curNeedCoin+"",this.toastLb.node.active=!1):t<4?(this.skinFreeTimes.node.active=this.randBtnNode.active=this.freeRandBtnNode.active=!1,this.toastLb.node.active=!0,this.toastLb.string="Get by Turntable"):(this.skinFreeTimes.node.active=this.randBtnNode.active=this.freeRandBtnNode.active=!1,this.toastLb.node.active=!0,this.toastLb.string="Special Weapon, Get by the task")},randomPageItem:function(t){var e=this;console.log("randomPageItem start",t);var i=SkinDataHandler.Instant.getPageRandomByIndex(t);i||(i=[t,0]),SkinDataHandler.Instant.updateSkinData(i,-1),this.updatePage(t),this.pageState[t]=!1;for(var n=this.itemList[t],a=[],o=0,s=0;s<2;++s)for(var c=function(c){if(a[c]||a.push([]),a[c].push(cc.delayTime(o)),o+=.08,a[c].push(cc.callFunc(function(){AudioMng.playEffect("page_random")})),a[c].push(cc.scaleTo(.04,1.2)),a[c].push(cc.scaleTo(.04,1)),1===s&&c===i[1])return a[c].push(cc.callFunc(function(){e.setItemExpr(n[c],-1),e.setItemState(n[c],!0),AudioMng.playEffect("page_random_end"),e.pageState[t]=!0})),"break"},r=0;r<n.length;++r){if("break"===c(r))break}var h=0;n.forEach(function(t){t.runAction(cc.sequence(a[h])),h++})},clickPage:function(t){var e=this.pageView.getCurrentPageIndex();this.curIndex!==e&&this.updatePage(e)},clickReturnBtn:function(){PlatformMgr.showButtonIntAd(),GameMng.toStart()},pressBack:function(){GameMng.toStart()},clickRandomBtn:function(){PlatformMgr.showButtonIntAd(),!1!==this.pageState[this.curIndex]&&(GameDataHandler.Instant.money<this.curNeedCoin?ToastMng.showToast("Not enough coins!"):(GameDataHandler.Instant.money-=this.curNeedCoin,GameMng.coin.string=GameDataHandler.Instant.money,this.randomPageItem(this.curIndex)))},clickFreeRandBtn:function(){var t=this,e=this.curIndex;!1!==this.pageState[e]&&(this.pageState[e]=!1,this.getFuncType===GainFuncType.VIDEO?PlatformMgr.hasVideo()?(this.geting=!0,PlatformMgr.showVideo(function(i){i?(t.randomPageItem(e),GameDataHandler.Instant.skinFreeTimes++,t.updateFreeTimes()):t.pageState[e]=!0,t.refreshGainGetFunc()},function(){t.pageState[e]=!0,t.refreshGainGetFunc(),ToastMng.showToast("Watching video failed!",1.8)})):(this.pageState[e]=!0,this.refreshGainGetFunc(),ToastMng.showToast("Watching video failed!",1.8)):this.getFuncType===GainFuncType.SHARE&&WxSDK.propShare2(PropType.SKIN,function(i){t.randomPageItem(e),console.log("getSuccess index",e),GameDataHandler.Instant.skinFreeTimes++,t.updateFreeTimes()},function(){t.pageState[e]=!0,t.refreshGainGetFunc()},function(){GameDataHandler.Instant.shareTimes++},function(){t.pageState[e]=!0}))}}),cc._RF.pop()},{sdk:"sdk"}],StartLy:[function(t,e,i){"use strict";cc._RF.push(e,"04ebcPwJjpA3JJgeRQd9KkC","StartLy");t("sdk");cc.Class({extends:cc.Component,properties:{uiList:[cc.Node],lvLb:cc.Label,nickLb:cc.Label,editNameBtn:cc.Node},onLoad:function(){this.nickLb.string=GameDataHandler.Instant.nickName||"unnamed",this.editNameBtn.active=!GameDataHandler.Instant.nickName||"unnamed"==GameDataHandler.Instant.nickName,this.uiList.forEach(function(t){t.scale=0})},start:function(){PlatformMgr.showBanner()},onDestroy:function(){},firstShow:function(){var t=this;this.node.active=!0,this.node.opacity=255,this.lvLb.string="Level "+GameDataHandler.Instant.curMission,this.scheduleOnce(function(){t.uiList.forEach(function(t){t.runAction(cc.scaleTo(1,1).easing(cc.easeElasticOut(.8)))}),PlatformMgr.showVideoGiftAd()},.3)},show:function(){this.node.active=!0,this.lvLb.string="Level "+GameDataHandler.Instant.curMission,this.refreshWxBtn(!0),this.scheduleOnce(function(){PlatformMgr.showVideoGiftAd()},.1)},hide:function(){this.node.active=!1,this.refreshWxBtn(!1)},refreshWxBtn:function(t){},clickBeginBtn:function(){GameMng.toPlay()},clickSkinBtn:function(){PlatformMgr.showButtonIntAd(),GameMng.toSkin()},clickEditNameBtn:function(){GameMng.popEditName()},clickRankBtn:function(){GameDataHandler.Instant.nickName&&"unnamed"!=GameDataHandler.Instant.nickName?GameMng.popRank():GameMng.popEditName(function(){GameMng.popRank()})},clickSetBtn:function(){PlatformMgr.showButtonIntAd(),GameMng.popSetting()},clickShareBtn:function(){PlatformMgr.showButtonIntAd(),WxSDK.otherShare(SharePos.START)},clickSignBtn:function(){PlatformMgr.showButtonIntAd(),cc.systemEvent.emit("popSign")}}),cc._RF.pop()},{sdk:"sdk"}],StringConvert:[function(t,e,i){"use strict";cc._RF.push(e,"1d8e6PDyyxPvIMxf+4ukvpr","StringConvert");String.prototype;String.hashCode=function(t){var e=0,i=void 0;if(0===t.length)return e;for(i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e},String.prototype.equals=function(t){return this===t},String.isNullOrEmpty=function(t){return!t||""===t},String.getClassName=function(t){return cc.js.getClassName(t)},String.prototype.toType=function(t){return"<"+t+">"+this+"</"+t+">"},String.prototype.toBold=function(){return"<b>"+this+"</b>"},String.prototype.toItalic=function(){return"<i>"+this+"</i>"},String.prototype.toUnderLine=function(){return"<u>"+this+"</u>"},String.prototype.toBreak=function(){return"<br/>"+this},String.prototype.toColor=function(t){return"<color="+t+">"+this+"</color>"},String.prototype.toSize=function(t){return"<size="+t+">"+this+"</size>"},String.prototype.toOutLine=function(t){return"<outline"+t+">"+this+"</outline>"},String.prototype.toOutLineWC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"<outline color = "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffb9ad")+" width = "+t+">"+this+"</outline>"},cc._RF.pop()},{}],SwitchNode:[function(t,e,i){"use strict";cc._RF.push(e,"07edc2u5y9Bd7/SgGhz3+hH","SwitchNode");var n=cc.Enum({NONE:0,FADEIN:1,FADEOUT:2,CIRCLE:3,SCALE:4,LANDSCAPE:5,PORTRAIT:6,FLIP:7}),a=[["normalShowIn","normalShowOut"],["fadeInShowIn","fadeInShowOut"],["fadeOutShowIn","fadeOutShowOut"],["circleShowIn","circleShowOut"],["scaleShowIn","scaleShowOut"],["landscapeShowIn","landscapeShowOut"],["portraitShowIn","portraitShowOut"],["flipShowIn","flipShowOut"]];cc.Class({extends:cc.Component,properties:{switchEffect:{default:n.FADEIN,type:n},effectTime:.5,effectSpriteFrame:cc.SpriteFrame,_sceneName:null,_callback:null,_effectNode:null,_openUpdate:!1,_curTime:0,_curCallback:null,_curEndCallback:null},loadScene:function(t,e,i){this.node.zIndex=10,this._sceneName=t,this._callback=e,i&&(this.switchEffect=i),this.node.active=!0,this.showIn()},showIn:function(){this[a[this.switchEffect][0]]()},showOut:function(){this[a[this.switchEffect][1]]()},_showInOver:function(){var t=this;cc.director.loadScene(this._sceneName,function(){t.showOut(),t._callback&&t._callback()})},_showOutOver:function(){this.node.active=!1,this._sceneName=null,this._callback=null,this._effectNode&&(this._effectNode.removeFromParent(!0),this._effectNode.destroy(),this._effectNode=null)},normalShowIn:function(){this._showInOver()},normalShowOut:function(){this._showOutOver()},_createFullSceneBg:function(){var t=new cc.Node("bg"),e=t.addComponent(cc.Sprite);e.spriteFrame=this.effectSpriteFrame,e.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.zIndex=15,this.node.addChild(t);var i=cc.view.getVisibleSize();return t.width=i.width+5,t.height=i.height+5,t.color=cc.color(0,0,0),this._effectNode=t,t},fadeInShowIn:function(){var t=this;this._createFullSceneBg(),this._effectNode.opacity=0,this._effectNode.runAction(cc.sequence(cc.fadeIn(this.effectTime),cc.callFunc(function(e){t._effectNode.opacity=255,t._showInOver()})))},fadeInShowOut:function(){var t=this;this._effectNode.runAction(cc.sequence(cc.fadeOut(this.effectTime),cc.callFunc(function(e){t._effectNode.opacity=0,t._showOutOver()})))},fadeOutShowIn:function(){var t=this,e=cc.find("Canvas");e.runAction(cc.sequence(cc.fadeOut(this.effectTime),cc.callFunc(function(i){e.opacity=0,t._showInOver()})))},fadeOutShowOut:function(){var t=this,e=cc.find("Canvas");e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(this.effectTime),cc.callFunc(function(i){e.opacity=255,t._showOutOver()})))},_createMaskLayer:function(){var t=new cc.Node("mask"),e=t.addComponent(cc.Mask);this.node.addChild(t),e.inverted=!0,e.segements=100,this._effectNode=t;var i=new cc.Node("showNode"),n=i.addComponent(cc.Sprite);n.spriteFrame=this.effectSpriteFrame,n.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.addChild(i);var a=cc.view.getVisibleSize();return i.width=a.width+5,i.height=a.height+5,i.color=cc.color(0,0,0),e},circleShowIn:function(){var t=this;this._createMaskLayer().type=1;var e=2*Math.sqrt(this.node.width/2*this.node.width/2+this.node.height/2*this.node.height/2);this._effectNode.width=this._effectNode.height=e,this._runUpdateAction(function(){var i=1-t._curTime/t.effectTime,n=(i<0?0:i)*e;t._effectNode.width=t._effectNode.height=n},function(){t._effectNode.width=t._effectNode.height=0,t._showInOver()})},circleShowOut:function(){var t=this,e=2*Math.sqrt(this.node.width/2*this.node.width/2+this.node.height/2*this.node.height/2);this._effectNode.width=this._effectNode.height=0,this._runUpdateAction(function(){var i=t._curTime/t.effectTime;t._effectNode.width=t._effectNode.height=i*e},function(){t._effectNode.width=t._effectNode.height=e,t._showOutOver()})},scaleShowIn:function(){var t=this,e=cc.find("Canvas");e.runAction(cc.sequence(cc.scaleTo(this.effectTime,0).easing(cc.easeBackIn()),cc.callFunc(function(i){e.scale=0,t._showInOver()})))},scaleShowOut:function(){var t=this,e=cc.find("Canvas");e.scale=0,e.runAction(cc.sequence(cc.scaleTo(this.effectTime,1).easing(cc.easeBackOut()),cc.callFunc(function(i){e.scale=1,t._showOutOver()})))},landscapeShowIn:function(){var t=this;this._createMaskLayer().type=0;var e=this.node.height;this._effectNode.width=this.node.width,this._effectNode.height=e,this._runUpdateAction(function(){var i=1-t._curTime/t.effectTime,n=(i<0?0:i)*e;t._effectNode.height=n},function(){t._effectNode.height=0,t._showInOver()})},landscapeShowOut:function(){var t=this,e=this.node.height;this._effectNode.height=0,this._runUpdateAction(function(){var i=t._curTime/t.effectTime,n=(i<0?0:i)*e;t._effectNode.height=n},function(){t._effectNode.height=e,t._showOutOver()})},portraitShowIn:function(){var t=this;this._createMaskLayer().type=0;var e=this.node.width;this._effectNode.width=e,this._effectNode.height=this.node.height,this._runUpdateAction(function(){var i=1-t._curTime/t.effectTime,n=(i<0?0:i)*e;t._effectNode.width=n},function(){t._effectNode.width=0,t._showInOver()})},portraitShowOut:function(){var t=this,e=this.node.width;this._effectNode.width=0,this._runUpdateAction(function(){var i=t._curTime/t.effectTime,n=(i<0?0:i)*e;t._effectNode.width=n},function(){t._effectNode.width=e,t._showOutOver()})},flipShowIn:function(){var t=this,e=cc.find("Canvas");e.runAction(cc.sequence(cc.scaleTo(this.effectTime,0,1).easing(cc.easeIn(.5)),cc.callFunc(function(i){e.scaleX=0,t._showInOver()})))},flipShowOut:function(){var t=this,e=cc.find("Canvas");e.scaleX=0,e.runAction(cc.sequence(cc.scaleTo(this.effectTime,1,1).easing(cc.easeOut(.5)),cc.callFunc(function(i){e.scale=1,t._showOutOver()})))},_runUpdateAction:function(t,e){this._curCallback=t,this._curEndCallback=e,this._openUpdate=!0},lateUpdate:function(t){this._openUpdate&&(this._curTime>this.effectTime?(this._curTime=0,this._openUpdate=!1,this._curEndCallback()):(this._curTime+=t,this._curCallback()))}});cc._RF.pop()},{}],TestBtn:[function(t,e,i){"use strict";cc._RF.push(e,"545f3/igjZBzJkzkyjTmf31","TestBtn"),cc.Class({extends:cc.Component,properties:{},start:function(){},clickBtn:function(){this.testLy?this.testLy.show():this.testLy=PrefabMng.createLyByFab("testLy","TestLy",cc.find("Canvas"))}}),cc._RF.pop()},{}],TestLy:[function(t,e,i){"use strict";cc._RF.push(e,"21a1fN4Q+NLVpqjBdhfOxss","TestLy");var n=t("PopLayerBase"),a="CoinEdit",o="DelAllData",s="ChangeLvl",c="ClearPageData",r="CheckPause",h="CheckSpeed",l="SpeedTimeEdit",u="SpeedRatioEdit",d="PauseTimeEdit",f="Close";cc.Class({extends:n,properties:{},start:function(){this.init()},init:function(){this.node.zIndex=2e4,this.editStringData=new Map},onEditDidEnded:function(t,e){var i=parseInt(t.string);console.log("onEditDidEnded ",t.string),isNaN(i)||"number"!=typeof i?(t.string="",ToastMng.showToast("\u8f93\u5165\u7684\u5fc5\u987b\u4e3a\u6570\u5b57\u54e6")):this.editStringData.set(e,i)},clickBtn:function(t,e){switch(e){case a:var i=this.editStringData.get(a);GameDataHandler.Instant.updateCoin(i);break;case o:var n=function(){LocalStorageUtils.Instant.clearStorage(function(){WxSDK.closeCheck(),IsWx?WxSDK.exitGame():WxSDK.reloadGame()},function(){ToastMng.showToast("\u6e05\u7a7a\u672c\u5730\u6570\u636e\u5931\u8d25")})};Server.saveData({},n,function(){n(),ToastMng.showToast("\u6e05\u7a7a\u670d\u52a1\u5668\u6570\u636e\u5931\u8d25")});break;case s:var p=this.editStringData.get(s);p>0?GameDataHandler.Instant.curMission=p:ToastMng.showToast("\u5173\u5361\u6570\u503c\u5fc5\u987b\u5927\u4e8e0");break;case c:var g=this.editStringData.get(c);SkinDataHandler.Instant.clearPage(g);break;case d:var m=this.editStringData.get(d);GameDataHandler.Instant.pauseTimeEdit=m;break;case l:var v=this.editStringData.get(l);GameDataHandler.Instant.speedTimeEdit=v;break;case u:var y=this.editStringData.get(u);GameDataHandler.Instant.speedRatioEdit=y;break;case f:this.close();break;case r:GameDataHandler.Instant.effectTag=r;break;case h:GameDataHandler.Instant.effectTag=h}}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase"}],TextureMng:[function(t,e,i){"use strict";cc._RF.push(e,"0fd57q+TWpKXIee67diLfUD","TextureMng");var n=cc.Class({name:"sprFmObj",properties:{key:"NotName",value:{type:cc.Asset,default:null}}}),a=cc.Class({name:"resMap",properties:{key:"NotName",value:[n]}});cc.Class({name:"resMapList",properties:{value:[a]}});cc.Class({extends:MngBase,properties:{sprFmResArray:[n],guideSprArray:[n],fruitSprArray:[n],pieceSprArray:[n],piece2SprArray:[n],knifeSprArray:[n]},onLoad:function(){void 0===window.TextureMng&&(window.TextureMng=this),this.sprFmResMap=new Map,this.objArrayConvertMay(this.sprFmResArray,this.sprFmResMap),this.sprFmResArray.length=0,this.gudieSprFmResMap=new Map,this.objArrayConvertMay(this.guideSprArray,this.gudieSprFmResMap),this.guideSprArray.length=0,this.fruitSprFmResMap=new Map,this.objArrayConvertMay(this.fruitSprArray,this.fruitSprFmResMap),this.fruitSprArray.length=0,this.pieceSprFmResMap=new Map,this.objArrayConvertMay(this.pieceSprArray,this.pieceSprFmResMap),this.pieceSprArray.length=0,this.piece2SprFmResMap=new Map,this.objArrayConvertMay(this.piece2SprArray,this.piece2SprFmResMap),this.piece2SprArray.length=0,this.knifeSprFmResMap=new Map,this.objArrayConvertMay(this.knifeSprArray,this.knifeSprFmResMap),this.knifeSprArray.length=0},getSprFmByName:function(t){return this.sprFmResMap.get(t+"")},getGuideSprFmByName:function(t){return this.gudieSprFmResMap.get(t+"")},getFruitSprFmByName:function(t){return this.fruitSprFmResMap.get(t+"")},getPieceSprFmByName:function(t){return this.pieceSprFmResMap.get(t+"")},getPiece2SprFmByName:function(t){return this.piece2SprFmResMap.get(t+"")},getKnifeSprFmByName:function(t){return this.knifeSprFmResMap.get(t+"")},getSprBySkinNode:function(t){return FileUtils.Instant.getTextureByName(t)}}),cc._RF.pop()},{}],ThreePropBtn:[function(t,e,i){"use strict";cc._RF.push(e,"2bf0eDtY0pDJa6J3g/0wyfE","ThreePropBtn"),cc.Class({extends:cc.Component,properties:{showLb:cc.Label,spark:cc.Node},start:function(){this.spark.runAction(cc.repeatForever(cc.sequence(cc.moveTo(0,cc.v2(-120,0)),cc.moveTo(.8,cc.v2(128,0)),cc.delayTime(1.6))))},onEnable:function(){this.updateThreeTimeShow()},updateThreeTimeShow:function(){GameMng.playLy.isThree?this.showLb.string="Tring":GameDataHandler.Instant.threeTime<=0?this.showLb.string="Get":this.showLb.string=GameDataHandler.Instant.threeTime+" Times"},clickSljBtn:function(){GameMng.playLy.isThree?ToastMng.showToast("Tring!",2):GameDataHandler.Instant.threeTime<=0?GameMng.popPropBox(PropType.THREE):ToastMng.showToast("Please collect it after using up!",2)}}),cc._RF.pop()},{}],ToastBase:[function(t,e,i){"use strict";cc._RF.push(e,"22a24k81mlDdIiDjvHZdUYx","ToastBase"),cc.Class({extends:cc.Component,properties:{stringCom:cc.Label},onLoad:function(){},showToast:function(t,e,i,n,a){var o=this;this.node.zIndex=3e4,this.stringCom.string=t,this.node.position=0===i.y?i:cc.v2(i.x,i.y-.5*this.node.height-4),this.node.opacity=255,this.node.scale=.5,this.node.active=!0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(.4,.9).easing(cc.easeElasticOut(.8)),cc.delayTime(e),cc.spawn(cc.moveBy(.2,cc.v2(0,70)),cc.fadeOut(.3)),cc.callFunc(function(){o.node.active=!1})))}}),cc._RF.pop()},{}],ToastMng:[function(t,e,i){"use strict";cc._RF.push(e,"33bc0OM+uxJIYrsOPCVSe46","ToastMng");cc.Class({extends:cc.Component,properties:{toastList:[cc.Prefab]},onLoad:function(){void 0===window.ToastMng&&(window.ToastMng=this),this.canLog=!0,this.log=this.canLog?console.log:function(){}},start:function(){this.init([3])},init:function(t){var e=this;this.gameScene=cc.find("Canvas"),this.toastMngList=[];var i=0;t.forEach(function(t){e.toastMngList.push({tail:0,num:t,array:[]});for(var n=0;n<t;++n){var a=e.toastList[i];e.createToastByPfb(i,a)}i++})},showToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cc.size(50,50),a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cc.Color.YELLOW;this.createToastByList(i).getComponent("ToastBase").showToast(t,e,this.srcPos,n,a),this.log(t)},createToastByPfb:function(t,e){var i=cc.instantiate(e);this.gameScene.addChild(i),i.active=!1,this.toastMngList[t].array.push(i)},createToastByList:function(t){var e=this,i=this.toastMngList[t],n=i.tail,a=i.num;this.srcPos=cc.v2(0,0),this.toastMngList[t].array.forEach(function(t){t.active&&(e.srcPos.y-=0===e.srcPos.y?.5*t.height:t.height)});var o=this.toastMngList[t].array[n];return n>=a-1?i.tail=0:i.tail+=1,o}});cc._RF.pop()},{}],Turntable:[function(t,e,i){"use strict";cc._RF.push(e,"aeeffSdGHJDgqEmveSd39z5","Turntable"),window.TurnTableType=cc.Enum({ExtraSkin:0,CommonSkin:1}),cc.Class({extends:cc.Component,properties:{getToastList:[cc.Node],giftList:[cc.Node],baseNode:cc.Node,turnTableNode:cc.Node,knifeNode:cc.Node,beginBtn:cc.Node,againBtn:cc.Node,nextLvBtn:cc.Node,toStartBtn:cc.Node},onLoad:function(){},start:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){t.playSheetKnife()})},show:function(t){PlatformMgr.hideBanner(),this.node.active=!0,this.turnTableType=t,this.baseNode.scale=.5,this.baseNode.stopAllActions(),this.baseNode.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.8))),this.turnTableNode.rotation=0,this.beginBtn.active=!0,this.knifeNode.active=!1,this.againBtn.active=!1,this.nextLvBtn.active=!1,this.toStartBtn.active=!1,this.getToastList[0].active=!1,this.getToastList[1].active=!1,this.canFire=!1,this.refreshGift(),GameMng.knifeLy.hide(),GameMng.showLiDaoBtn.active=!1},hide:function(){PlatformMgr.showBanner(),this.node.active=!1,GameMng.knifeLy.show(),GameMng.showLiDaoBtn.active=WxSDK.canShowGainPos(GainPos.Three)},refreshGift:function(){var t=this;this.skin=this.turnTableType===TurnTableType.CommonSkin?SkinDataHandler.Instant.getRandomPropSkin():SkinDataHandler.Instant.getPageRandomByIndex(3),this.knifeSprName=SkinDataHandler.Instant.getSkinNameByIndexes(this.skin);var e=0;this.giftListData=Constant.turntableGiftList[this.turnTableType],this.giftListData.forEach(function(i){t.createGift(i,t.giftList[e]),e++})},createGift:function(t,e){switch(t.type){case"knife":var i=e.getChildByName("icon");i.scale=.5,i.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprBySkinNode(this.knifeSprName);var n=e.getChildByName("label").getComponent(cc.Label);3===t.id?n.string="Unlock":n.string=t.value+"",n.node.position=cc.v2(0,-60);break;case"coin":e.getChildByName("icon").scale=1;var a=e.getChildByName("label");a.getComponent(cc.Label).string=t.value,a.position=cc.v2(0,-40)}var o=(t.rotations[1]-t.rotations[0])/2+t.rotations[0],s=o*Math.PI/180,c=0*Math.cos(s)- -200*Math.sin(s),r=-200*Math.cos(s)+0*Math.sin(s);e.position=cc.v2(c,r),e.rotation=180-o},getGift:function(t){var e=0;t%=360;for(var i=0;i<this.giftListData.length;++i){var n=this.giftListData[i];if(t>=0){if(t>=n.rotations[0]&&t<n.rotations[1]){e=n;break}}else if((t=360+t)>=n.rotations[0]&&t<n.rotations[1]){e=n;break}}if(0!==e){var a=void 0;if("coin"===e.type)ToastMng.showToast("Congratulations for getting "+e.value+" coins"),GameDataHandler.Instant.updateCoin(parseInt(e.value)),a=this.getToastList[0],this.getToastList[1].active=!1,a.getChildByName("coin").getComponent(cc.Label).string="+"+e.value;else if("knife"===e.type){a=this.getToastList[1],this.getToastList[0].active=!1;var o=a.getChildByName("icon"),s=SkinDataHandler.Instant.getSkinNameByIndexes(this.skin);o.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprBySkinNode(s),a.getChildByName("text").getComponent(cc.Label).string=-1===e.value?"\u6c38\u4e45\u89e3\u9501":"\u4f53\u9a8c+"+e.value,NotificationCenter.Instant.post(NotificationMsg.PROP_UPDATE,{type:PropType.SKIN,value:{skin:this.skin,value:e.value}})}a.active=!0}},playSheetKnife:function(){var t=this;if(this.canFire){this.canFire=!1,AudioMng.playEffect("fly_knife");var e=this.knifeNode;e.stopAllActions();var i=cc.v2(0,-141*Constant.visibleScale.hScale);e.runAction(cc.sequence(cc.spawn(cc.moveTo(.2,i),cc.rotateBy(.2,-360)),cc.callFunc(function(){t.turnTableShake(),t.sheetEnd(),t.getGift(t.turnTableNode.rotation)})))}},playKnifePrepareAnim:function(){var t=this.knifeNode;t.stopAllActions(),t.position=cc.v2(0,-400*Constant.visibleScale.hScale),t.rotation=0,t.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,cc.v2(0,70)),cc.moveBy(.5,cc.v2(0,-70)))))},turnTableShake:function(){this.turnTableNode.stopAllActions(),this.turnTableNode.runAction(cc.sequence(cc.moveBy(.02,cc.v2(0,10)),cc.moveBy(.01,cc.v2(0,-10)),cc.moveBy(.01,cc.v2(0,15)),cc.moveBy(.02,cc.v2(0,-15))))},prepareSheet:function(){this.knifeNode.active=!0,this.beginBtn.active=!1,this.againBtn.active=!1,this.nextLvBtn.active=!1,this.toStartBtn.active=!1,this.getToastList[0].active=!1,this.getToastList[1].active=!1,this.playKnifePrepareAnim(),this.turnTableNode.runAction(cc.repeatForever(cc.rotateBy(.5,80))),this.canFire=!0},sheetEnd:function(){switch(this.beginBtn.active=!1,this.againBtn.active=this.againBtnActive,this.getFuncType){case GainFuncType.SHARE:this.againBtn.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprFmByName("share_reward");break;case GainFuncType.VIDEO:this.againBtn.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprFmByName("video_reward")}this.nextLvBtn.active=!0,this.nextLvBtn.y=this.againBtnActive?-450:-361,this.toStartBtn.active=!0},nextMission:function(){var t=this;this.baseNode.runAction(cc.sequence(cc.scaleTo(.2,0).easing(cc.easeElasticIn(.8)),cc.callFunc(function(){t.hide(),GameMng.playLy.nextMission()})))},refreshState:function(){this.getFuncType=WxSDK.getOtherGetFunc(GainPos.AddedBonus),this.getFuncType!==GainFuncType.NOT&&(this.againBtnActive=!0)},clickBegin:function(){PlatformMgr.showButtonIntAd(),this.beginBtn.scale=1,this.refreshState(),this.prepareSheet()},clickNextLvBtn:function(){PlatformMgr.showButtonIntAd(),this.nextLvBtn.scale=1,this.nextMission()},clickShareBtn:function(){},clickAgainBtn:function(){var t=this;this.againBtn.scale=1,this.getFuncType===GainFuncType.VIDEO?PlatformMgr.hasVideo()?PlatformMgr.showVideo(function(e){t.refreshState(),e?t.prepareSheet():t.sheetEnd()},function(){t.refreshState(),ToastMng.showToast("Watching video failed!",1.8)}):(this.refreshState(),ToastMng.showToast("Watching video failed!",1.8)):this.getFuncType===GainFuncType.SHARE&&WxSDK.otherShare(SharePos.ADDEDBONUS,function(e){t.prepareSheet()},function(){t.refreshState()},function(){GameDataHandler.Instant.shareTimes++})},clickToStartBtn:function(){this.toStartBtn.scale=1,this.hide(),GameMng.toStart()}}),cc._RF.pop()},{}],UserInfoBtn:[function(t,e,i){"use strict";cc._RF.push(e,"e52ebz/bnhEeaQ/T6HL6p5d","UserInfoBtn");var n=t("sdk");cc.Class({extends:cc.Component,properties:{_wxBtn:null},setNormalMode:function(t){this._normalCallback=t,t?(this._wxBtn&&this._wxBtn.hide(),console.log("setNormalMode this._wxBtn && this._wxBtn.hide();",t)):this._wxBtn&&this._wxBtn.show()},onClick:function(){var t=this;this._normalCallback?this._normalCallback():this._wxBtn||this._getUserInfo(function(e){t.successFunc&&t.successFunc(e)},function(e){t.failFunc&&t.failFunc(e)})},_getUserInfo:function(t,e){console.log("\u4f7f\u7528getUserInfo\u83b7\u53d6\u7528\u6237\u4fe1\u606f"),n.getUserInfoForce(function(e){console.log("getUserInfo\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f, res:",e),t&&t(e)},function(t){console.log("getUserInfo\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25, res:",t),e&&e(t)})},createWxBtn:function(){var t=this;if(console.log("createWxBtn "),IsWx&&"function"==typeof window.wx.createUserInfoButton){var e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),i=cc.view.getVisibleSize(),n=e.x-this.node.width/2,a=i.height-e.y-this.node.height/2,o=wx.getSystemInfoSync(),s=o.screenWidth,c=o.screenHeight,r=n/i.width*s,h=a/i.height*c,l=this.node.width/i.width*s,u=this.node.height/i.height*c;this._wxBtn=window.wx.createUserInfoButton({type:"text",text:"\u6388\u6743\u6309\u94ae",style:{left:r,top:h,width:l,height:u,backgroundColor:"#FFFFFF01",color:"#00000001",fontSize:1},withCredentials:!0,lang:"zh_CN"}),this._wxBtn.onTap(function(e){console.log("\u4f7f\u7528UserInfoButton\u83b7\u53d6\u7528\u6237\u4fe1\u606f: ",e),e.errMsg.indexOf("auth deny")>-1||e.errMsg.indexOf("auth denied")>-1||e.errMsg.indexOf("fail")>-1?(console.log("\u4f7f\u7528UserInfoButton\u83b7\u53d6\u7528\u6237\u4fe1\u606f, \u6388\u6743\u5931\u8d25!"),t.failFunc&&t.failFunc(e)):(console.log("\u4f7f\u7528UserInfoButton\u83b7\u53d6\u7528\u6237\u4fe1\u606f, \u6388\u6743\u6210\u529f!"),t.successFunc&&t.successFunc(e))}),this._normalCallback&&(this._wxBtn&&this._wxBtn.hide(),console.log("createWxBtn this._wxBtn && this._wxBtn.hide();",this._normalCallback))}},onEnable:function(){this._normalCallback||(console.log("onEnable this._wxBtn && this._wxBtn.hide();",this._normalCallback),this._wxBtn&&this._wxBtn.show())},onDisable:function(){this._wxBtn&&this._wxBtn.hide(),console.log("onDisable this._wxBtn && this._wxBtn.hide();")},start:function(){},onDestroy:function(){this._wxBtn&&this._wxBtn.destroy()}}),cc._RF.pop()},{sdk:"sdk"}],WinLy2:[function(t,e,i){"use strict";cc._RF.push(e,"95c9facvDxPNa5FamSR5us3","WinLy2");var n=t("PopLayerBase");cc.Class({extends:n,properties:{winLog:cc.Node,light:cc.Node,addCoinLb:cc.Label,nextBtnSpr:cc.Sprite,plateList:[cc.Node],next_rewardSf:cc.SpriteFrame,next_lvSf:cc.SpriteFrame,plateBg_nullSf:cc.SpriteFrame,plateBg_haveSf:cc.SpriteFrame,wl_plateSf:cc.SpriteFrame},onLoad:function(){},show:function(){var t=this;n.prototype.show.call(this),AudioMng.playEffect("win"),this.winLog.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1,cc.v2(0,6)),cc.moveBy(1,cc.v2(0,-6))))),this.winLog.getChildByName("spark").runAction(cc.repeatForever(cc.sequence(cc.moveTo(0,cc.v2(-170,0)),cc.moveTo(1,cc.v2(170,0)),cc.delayTime(1)))),this.light.runAction(cc.repeatForever(cc.rotateBy(.3,30))),GameMng.refreshCoinFace(showCoinType.TotalCoin),this.addCoinLb.string="+"+GameDataHandler.Instant.curAddCoin,GameDataHandler.Instant.updateCoin(GameDataHandler.Instant.curAddCoin),GameDataHandler.Instant.updateAddCoin(-GameDataHandler.Instant.curAddCoin),this.refreshPlate(),this.hasReward=GameDataHandler.Instant.curMission%4==0,this.nextBtnSpr.getComponent(cc.Sprite).spriteFrame=this.hasReward?this.next_rewardSf:this.next_lvSf,this.hasThree=GameDataHandler.Instant.curMission%5==0,setTimeout(function(){t.hasThree?WxSDK.getOtherGainFuncType(PropType.THREE)!=GainFuncType.NOT&&GameMng.popPropBox(PropType.THREE):WxSDK.EnablePopSkin()&&WxSDK.getOtherGainFuncType(PropType.SKIN)!=GainFuncType.NOT&&GameMng.popPropBox(PropType.SKIN)},800),GameDataHandler.Instant.curMission++,GameDataHandler.Instant.saveAllData(),GameMng.showLiDaoBtn.active=!1,PlatformMgr.showGameOverIntAd()},_closeOver:function(){n.prototype._closeOver.call(this),GameMng.showLiDaoBtn.active=WxSDK.canShowGainPos(GainPos.Three),this.endCf&&this.endCf(),this.node.destroy()},nextMission:function(){this.close(),this.endCf=function(){GameMng.playLy.nextMission()}},reward:function(){this.close(),this.endCf=function(){GameMng.popTurntable(TurnTableType.ExtraSkin)}},refreshPlate:function(){var t=this,e=(GameDataHandler.Instant.curMission-1)%4;GameDataHandler.Instant.updatePlateData(e);for(var i=GameDataHandler.Instant.getPlateDataList(),n=0,a=[],o=function(o){t.plateList[o].getComponent(cc.Sprite).spriteFrame=t.plateBg_nullSf,t.plateList[o].stopAllActions(),t.plateList[o].removeAllChildren(),o<=e&&(a.push(cc.delayTime(n)),a.push(cc.callFunc(function(){var e=t.createPlate(i[o]);e.opacity=0,e.runAction(cc.fadeIn(.35)),t.plateList[o].addChild(e),t.plateList[o].getComponent(cc.Sprite).spriteFrame=t.plateBg_haveSf})),n+=.1)},s=0;s<this.plateList.length;++s)o(s);a.length>0&&this.node.runAction(cc.sequence(a))},createPlate:function(t){var e=Global.createBySpriteFrame(this.wl_plateSf).node;e.position=cc.v2(0,-42);var i=0;return t.forEach(function(t){var n=GameDataHandler.Instant.getFruitNameByType(t),a=FileUtils.Instant.getTextureByName("s_"+n),o=Global.createBySpriteFrame(a).node,s=o.width*(Math.getRandom(0,.2)-.1);i=i?i+o.height:.5*(e.height+o.height),o.x=s,o.y=i,e.addChild(o)}),e},clickNextBtn:function(){this.hasReward?this.reward():this.nextMission()},clickToStartBtn:function(){PlatformMgr.showButtonIntAd(),this.close(),this.endCf=function(){GameMng.toStart()}},close:function(){GameMng.removePopLy(this),n.prototype.close.call(this)},pressClose:function(){this.clickToStartBtn()}}),cc._RF.pop()},{PopLayerBase:"PopLayerBase"}],WinLy:[function(t,e,i){"use strict";cc._RF.push(e,"0f8d0/ol1xCirkxmKc6vi0V","WinLy"),cc.Class({extends:cc.Component,properties:{winLog:cc.Node,light:cc.Node,addCoinLb:cc.Label,nextBtnSpr:cc.Sprite,plateList:[cc.Node]},onLoad:function(){},show:function(){AudioMng.playEffect("win"),this.node.active=!0,this.node.scale=.5,this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.8))),this.winLog.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1,cc.v2(0,6)),cc.moveBy(1,cc.v2(0,-6))))),this.light.runAction(cc.repeatForever(cc.rotateBy(.3,30))),GameMng.refreshCoinFace(showCoinType.TotalCoin),this.addCoinLb.string="+"+GameDataHandler.Instant.curAddCoin,GameDataHandler.Instant.updateCoin(GameDataHandler.Instant.curAddCoin),GameDataHandler.Instant.updateAddCoin(-GameDataHandler.Instant.curAddCoin),this.refreshPlate(),this.hasReward=GameDataHandler.Instant.curMission%4==0;var t=this.hasReward?"next_reward":"next_lv";this.nextBtnSpr.getComponent(cc.Sprite).spriteFrame=TextureMng.getSprFmByName(t),this.hasThree=GameDataHandler.Instant.curMission%5==0,this.hasThree?GameMng.popPropBox(PropType.THREE):WxSDK.EnablePopSkin()&&GameMng.popPropBox(PropType.SKIN),GameDataHandler.Instant.curMission++,GameMng.showLiDaoBtn.active=!1},hide:function(){this.node.active=!1,GameMng.showLiDaoBtn.active=WxSDK.canShowGainPos(GainPos.Three)},nextMission:function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(.2,0).easing(cc.easeElasticIn(.8)),cc.callFunc(function(){t.hide(),GameMng.playLy.nextMission()})))},reward:function(){this.hide(),GameMng.popTurntable(TurnTableType.ExtraSkin)},refreshPlate:function(){var t=this,e=(GameDataHandler.Instant.curMission-1)%4;GameDataHandler.Instant.updatePlateData(e);for(var i=GameDataHandler.Instant.getPlateDataList(),n=0,a=[],o=function(o){t.plateList[o].getComponent(cc.Sprite).spriteFrame=TextureMng.getSprFmByName("plateBg_null"),t.plateList[o].stopAllActions(),t.plateList[o].removeAllChildren(),o<=e&&(a.push(cc.delayTime(n)),a.push(cc.callFunc(function(){var e=t.createPlate(i[o]);e.opacity=0,e.runAction(cc.fadeIn(.35)),t.plateList[o].addChild(e),t.plateList[o].getComponent(cc.Sprite).spriteFrame=TextureMng.getSprFmByName("plateBg_have")})),n+=.1)},s=0;s<this.plateList.length;++s)o(s);a.length>0&&this.node.runAction(cc.sequence(a))},createPlate:function(t){var e=Global.createBySpriteFrame(TextureMng.getSprFmByName("plate")).node;e.position=cc.v2(0,-53.7),e.scale*=.7;var i=0;return t.forEach(function(t){var n=GameDataHandler.Instant.getFruitNameByType(t),a=TextureMng.getPieceSprFmByName(n),o=Global.createBySpriteFrame(a).node,s=o.width*(Math.getRandom(0,.2)-.1);i=i?i+o.height:.5*(e.height+o.height),o.x=s,o.y=i,e.addChild(o)}),e},clickNextBtn:function(){PlatformMgr.showButtonIntAd(),this.hasReward?this.reward():this.nextMission()},clickToStartBtn:function(){PlatformMgr.showButtonIntAd(),this.hide(),GameMng.toStart()}}),cc._RF.pop()},{}],"WxSDK+Controller":[function(t,e,i){"use strict";cc._RF.push(e,"dac96v50vVEwb/Qw7eMoSV5","WxSDK+Controller");var n=t("WxSDK"),a=t("sdk"),o=a,s=t("Server"),c=t("LocalStorageUtils");window.IsWx=void 0!==window.wx,window.GainFuncType={VIDEO:"video",SHARE:"share",COIN:"coin",NOT:"not"};var r={playTimes_limit_num:9,group_dailyTask_count:5,newSkin_pop_probability:50,shareGroup_fail_toast:"shareGroup_fail_toast",sharePersonal_fail_toast:"sharePersonal_fail_toast",share_max_cnt:100,reviveTimes_onePlay:3,gainPos_1_data:50,gainPos_2_data:1,gainPos_3_data:50,gainPos_4_data:50,gainPos_5_data:100,gainPos_6_data:50,skinFree_dailyTimes:3,shortcut_threshold:5,shortcut_coins:1e3,pddShow:50,pdd_toggle:0,pdd_goods_change_time:4,pdd_limit_score:20,pdd_show_chance:50,pdd_show_time_day:10,pdd_use_time_day:10,p_id:"8316086_52677145",share_group_toast:"\u9700\u8981\u5206\u4eab\u5230\u4e0d\u540c\u7fa4\u54e6\uff0c\u6362\u4e2a\u7fa4\u8bd5\u8bd5\u5427\uff5e",share_time_toast:"\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e"},h=null,l=!1,u=0;n.checkRemoteConfigTest=function(){for(var t in r){var e=r[t];a[t]="string"==typeof e?e:e.toString()}},n.checkRemoteConfig=function(){PlatformMgr.showLoading("\u670d\u52a1\u5668\u8fde\u63a5\u4e2d...",!1),a.onRemoteLoaded=function(t){for(var e in r)t&&t[e]&&(a[e]=t[e]);a.data={conf:t}}},a.onFirstConfigComplete=function(){PlatformMgr.hideLoading(),l=!0,h&&h(),a.onFirstConfigComplete=null},n.checkRemoteConfigTest(),s.getServerTime(),n.checkComplete=function(){IsWx?l?n.pareConfig():h=function(){n.pareConfig()}:s.refreshAuthButton(!1)},n.pareConfig=function(){o.data&&o.data.conf?(u=1==o.data.conf.authflag?1:0,s.refreshAuthButton(1==u)):s.refreshAuthButton(1==u)},n._checkDiffGroupTerm=function(){return!0},n._checkDiffGroupNumEnough=function(t){var e=Global.getLocalData("groupids",[]),i=(new Date).toDateString();return Global.getLocalData("lastDay")!=i&&(e=[],Global.setLocalData("groupids",[]),Global.setLocalData("lastDay",i)),!!(a.group_dailyTask_count&&a.group_dailyTask_count>0&&e.length>=a.group_dailyTask_count)},n.isGroupPropRepeat=function(t,e){this.checkGroupId(t)},n.checkShareGroupTerm=function(t,e){var i=this;void 0===t.shareTickets?e&&e(ShareGroupState.State5):this._checkDiffGroupTerm()&&!this._checkDiffGroupNumEnough()?s.wxLogin(function(n){var a=n.code;a?wx.getShareInfo({shareTicket:t.shareTickets[0],success:function(t){s.getGroupID(a,t,function(t){0===(0===t?0:i.isValidGroupId(t))?e&&e(ShareGroupState.State1):e&&e(ShareGroupState.State3)},function(t){e&&e(ShareGroupState.State4)})},fail:function(t){e&&e(ShareGroupState.State4)}}):e&&e(ShareGroupState.State1)}):e&&e(ShareGroupState.State1)},n.isValidGroupId=function(t){var e=Global.getLocalData("groupids",[]);return-1===e.indexOf(t)?(e.push(t),Global.setLocalData("groupids",e),0):-1},n.DataTimeCheck=function(){var t=new Date((new Date).getTime()+144e5).toDateString(),e=c.Instant.getItemInt("shareLastDay",0);new Date(e+144e5).toDateString()!=t&&(c.Instant.setItemInt("shareLastDay",(new Date).getTime()),GameDataHandler.Instant.shareTimes=0,GameDataHandler.Instant.skinFreeTimes=0,GameDataHandler.Instant.pddRemainTime=parseInt(a.pdd_show_time_day),GameDataHandler.Instant.pddUseRemainTime=parseInt(a.pdd_use_time_day))},n.getFreeSkinTimes=function(){this.DataTimeCheck();var t="string"==typeof a.skinFree_dailyTimes?parseInt(a.skinFree_dailyTimes):0;return t-=GameDataHandler.Instant.skinFreeTimes,logTest("\u6bcf\u65e5\u6b66\u5668\u603b\u6b21\u6570 ",t),logTest("\u4eca\u65e5\u6b66\u5668\u5df2\u7528\u6b21\u6570 ",GameDataHandler.Instant.skinFreeTimes),"number"==typeof t&&t>0?t:0},n.EnableShare=function(){return this.DataTimeCheck(),this.isFaithfulPlay()&&(!IsWx||-1!=a.share_flag)&&a.share_max_cnt&&GameDataHandler.Instant.shareTimes<a.share_max_cnt},n.EnableRevive=function(){return a.reviveTimes_onePlay&&a.reviveTimes_onePlay>0&&GameDataHandler.Instant.onePlayReviveTimes<a.reviveTimes_onePlay},n.isFaithfulPlay=function(){return a.playTimes_limit_num&&a.playTimes_limit_num>0&&GameDataHandler.Instant.curMission>=a.playTimes_limit_num},n.EnablePopSkin=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t=Math.getRandom(0,100),e="string"==typeof a.newSkin_pop_probability;return logTest("\u65b0\u6b66\u5668\u6982\u7387 ",a.newSkin_pop_probability),logTest("\u968f\u673a\u6570 ",t),e&&t<parseInt(a.newSkin_pop_probability)}return!0},n.getGainFuncType=function(t){var e=GainFuncType.NOT;if(cc.sys.platform==cc.sys.WECHAT_GAME){var i=a[t];if("string"==typeof i){var n=(i+="_100").match(/([0-9]+)_([0-9]+)/);if(n){var o=parseInt(n[1]),s=parseInt(n[2]),c=Math.getRandom(0,100),r=this.EnableShare(),h=PlatformMgr.hasVideo();c<o?r?e=GainFuncType.SHARE:h&&(e=GainFuncType.VIDEO):c<s&&(h?e=GainFuncType.VIDEO:r&&(e=GainFuncType.SHARE))}}else a.hasVideo()&&(e=GainFuncType.VIDEO)}else e=PlatformMgr.hasVideo()?GainFuncType.VIDEO:GainFuncType.NOT;return e},n.getReviveGetFunc=function(){var t=GainFuncType.NOT;return this.EnableRevive()&&(t=this.getGainFuncType(GainPos.Revive))===GainFuncType.NOT&&GameDataHandler.Instant.reviveNeedCoin<=GameDataHandler.Instant.money&&(t=GainFuncType.COIN),t},n.getOtherGetFunc=function(t){return this.getGainFuncType(t)},n.getGainPos=function(t){switch(t){case PropType.SKIN:return GainPos.NewSkin;case PropType.SCALE:return GainPos.Scale;case PropType.THREE:return GainPos.Three}},n.getOtherGainFuncType=function(t){if(cc.sys.isBrowser)return GainFuncType.VIDEO;var e=this.getGainPos(t);return this.getOtherGetFunc(e)},n.canShowGainPos=function(t){var e=!1,i=PlatformMgr.hasVideo()||IsWx&&"string"==typeof a[t]&&this.EnableShare();return t===GainPos.Revive?this.EnableRevive()&&(e=i||GameDataHandler.Instant.reviveNeedCoin<=GameDataHandler.Instant.money):e=t===GainPos.Three?i&&GameDataHandler.Instant.threeTime<=0:i,e||cc.sys.isBrowser},cc._RF.pop()},{LocalStorageUtils:"LocalStorageUtils",Server:"Server",WxSDK:"WxSDK",sdk:"sdk"}],"WxSDK+Report":[function(t,e,i){"use strict";cc._RF.push(e,"6cbdatb7GZP445UbxCzz/bR","WxSDK+Report");var n=t("WxSDK"),a=t("sdk"),o=t("Server");n.reportAppid=function(t){if("undefined"!=typeof wx){var e=wx.getLaunchOptionsSync(),i="",n="";e.referrerInfo&&e.referrerInfo.appId&&(i=e.referrerInfo.appId),e.query&&e.query.cid&&(n=e.query.cid),o.reportAppid(i,n,t)}},n.needAuth="undefined"==typeof wx?1:-1,n.checkNeedAuthList=function(){var t=this.needAuth,e=a.needauth_list;if(e){var i="",n=wx.getLaunchOptionsSync();n.query&&n.query.cid&&(i=n.query.cid),t=e.split(",").indexOf(i)>-1?1:0}else t=0;this.needAuth=t,PlatformMgr.hideLoading()},cc._RF.pop()},{Server:"Server",WxSDK:"WxSDK",sdk:"sdk"}],"WxSDK+Server":[function(t,e,i){"use strict";cc._RF.push(e,"8ee03TxXLBA2YNfv5PDlmAq","WxSDK+Server");var n=t("WxSDK"),a=t("Server");n._getServerData=function(t){var e=function(t){var e=GameDataHandler.Instant.getData(),i=t[GameDataHandler.Instant._configTableURL];logTest("info",t),logTest("serverGameData / locationGameData",i,e),i&&i.curMission>e.curMission&&GameDataHandler.Instant.resetData(i);var n=t[MissionDataHandler.Instant._configTableURL];logTest("serverMissionData / locationMissionData",n,MissionDataHandler.Instant.getData()),n&&MissionDataHandler.Instant.resetData(n);var a=t[SkinDataHandler.Instant._configTableURL];logTest("serverSkinData / locationSkinData",a,SkinDataHandler.Instant.getData()),a&&(SkinDataHandler.Instant.resetData(a),4===SkinDataHandler.Instant._localData.skinList.length&&SkinDataHandler.Instant.addParticleSkinInfo())};if(void 0===window.wx){logTest("\u6a21\u62df\u83b7\u53d6\u670d\u52a1\u5668\u6570\u636e");var i=LocalStorageUtils.Instant.getData("serverDataTest");return i&&e(i),void(t&&t())}a.getData(function(i){if(logTest(i),i&&i.info){var n=JSON.parse(i.info);e(n)}t&&t()},function(){t&&t()})},n._saveServerData=function(){var t=this._getDataMayByKey(["GameDataHandler","MissionDataHandler","SkinDataHandler"]);if(void 0===window.wx)return logTest("\u6a21\u62df\u4e0a\u4f20\u6570\u636e\u81f3\u670d\u52a1\u5668"),void LocalStorageUtils.Instant.setData("serverDataTest",t);t=JSON.stringify(t),logTest("dataValue ",t),a.saveData(t)},n._getDataMayByKey=function(e){var i={};return e.forEach(function(e){var n=t(e);if(n){var a=n.Instant;a&&a._configTableURL&&a._localData&&(i[a._configTableURL]=a._localData)}}),i},cc._RF.pop()},{Server:"Server",WxSDK:"WxSDK"}],"WxSDK+Share":[function(t,e,i){"use strict";cc._RF.push(e,"8097d3PEm5DwLG976hMDf6a","WxSDK+Share");var n=t("WxSDK"),a=t("sdk"),o=a;n._getShareConfig=function(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:SharePos.NOT,s=void 0,c=void 0,r=void 0,h=a.getShareConfig(t);h?(console.log("\u5728\u7ebf\u5206\u4eab\u914d\u7f6e :",h),s=h.share_text||e,c=h.share_pic_local,r=h.share_id):(console.log("\u5206\u4eab\u70b9"+t+"\u6ca1\u6709\u5728\u7ebf\u5206\u4eab\u914d\u7f6e\uff0c\u4f7f\u7528\u672c\u5730\u914d\u7f6e"),s=e,c=i,r=o);var l={title:s,pic:c,query:null!==n&&""!==n?"position_id="+t+"&share_id="+r+"&"+n:"position_id="+t+"&share_id="+r,share_id:r};return console.log(" function _getShareConfig return ",l),l},n.fakeShareCallBack=function(t,e,i){var n=(new Date).getTime(),a=""+n+t;o.onShow(a,function(t){o.offShow(a);var s=((new Date).getTime()-n)/1e3,c=void 0===o.fake_share_gap?2:parseInt(o.fake_share_gap)||0;if(console.log("\u5206\u4eab\u56de\u8c03\uff1a\u540e\u53f0\u8fd4\u56de\u65f6\u95f4\uff1a"+s+"\uff0c\u4e0b\u53d1/\u53d6\u503c\uff1a"+o.fake_share_gap+"/"+c),s>c){var r=void 0===o.fake_share_fail_ratio?50:parseInt(o.fake_share_fail_ratio)||0,h=100*Math.random();console.log("\u5206\u4eab\u56de\u8c03\uff1a\u968f\u673a\u503c\uff1a"+h+"\uff0c\u4e0b\u53d1/\u53d6\u503c\uff1a"+o.fake_share_fail_ratio+"/"+r),h<r?"string"==typeof o.share_group_toast&&""!==o.share_group_toast&&i&&i(o.share_group_toast):e&&e()}else"string"==typeof o.share_time_toast&&""!==o.share_time_toast&&i&&i(o.share_time_toast)})},n.share2=function(t,e,i,n){var a=this._getShareConfig(t,e,i,n),o=a.title,s=a.pic,c=(a.share_id,a.query);PlatformMgr.share(o,s,c)},n.share=function(t,e,i,n,a,o,s){var c=this,r=this._getShareConfig(t,e,i,n),h=r.title,l=r.pic,u=(r.share_id,r.query);(PlatformMgr.share(h,l,u),IsWx)?this.fakeShareCallBack(t,a,function(r){c.showModal({content:r,showCancel:!0,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u8ba4",success:function(r){r.confirm?c.share(t,e,i,n,a,o,s):r.cancel&&o&&o()},fail:function(){o&&o()}})}):0===Math.getRandomInt(0,2,!0)?a&&a():o&&o();s&&s()},n.onShare=function(t,e,i){var n=this._getShareConfig(SharePos.SYSTEM,t,e,i),o=n.title,s=n.pic,c=(n.share_id,n.query);a.onShare(o,s,c)},n.propShare2=function(t,e,i,n,a,o){var s=void 0,c=Constant.shareIconPath,r=void 0;switch(t){case PropType.SKIN:s=Global.getRandShareStr("otherShare"),r=SharePos.SKIN_POP;break;case PropType.SCALE:s=Global.getRandShareStr("propShare"),r=SharePos.SCALE_POP;break;case PropType.THREE:s=Global.getRandShareStr("propShare"),r=SharePos.THREE_POP;break;case PropType.REVIVE:s=Global.getRandShareStr("scoreShare"),r=SharePos.REVIVE;break;case PropType.ADDEDBONUS:s=Global.getRandShareStr("otherShare"),r=SharePos.ADDEDBONUS;break;case PropType.SIGN:s=Global.getRandShareStr("propShare"),r=SharePos.SIGN}var h="model="+r+"&value="+t;this.share(r,s,c,h,function(t){n&&n(),e&&e()},i,o)},n.propShare=function(t,e,i,n,a,o){var s,c=Constant.shareIconPath;s=Global.getRandShareStr("otherShare");var r="model="+t;this.share(t,s,c,r,function(t){n&&n(),e&&e()},i,o)},n.otherShare=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=void 0,i=Constant.shareIconPath;switch(t){case SharePos.NOT:case SharePos.START:e=Global.getRandShareStr("propShare");break;case SharePos.SCORE:default:e=Global.getRandShareStr("scoreShare")}this.share2(t,e,i,"")},n.groupShare=function(){var t=Global.getRandShareStr("scoreShare"),e=Constant.shareIconPath,i=SharePos.RANK,n="model="+i;this.share2(i,t,e,n)},cc._RF.pop()},{WxSDK:"WxSDK",sdk:"sdk"}],WxSDK:[function(t,e,i){"use strict";cc._RF.push(e,"111ceDqqUdIzIKpRbKOxyMo","WxSDK");var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=t("sdk"),o=t("LocalStorageUtils");window.ShareType={NORMAL:"normal",RANK:"rank",SKIN:"skin",PROP:"prop",REVIVE:"revive"};o.Instant.initData("propShareTable",{});var s={onHide:function(){logTest("onHide"),GameDataHandler.Instant.saveAllData()},checkHide:function(){"undefined"!=typeof wx&&wx.onHide(this.onHide)},checkShow:function(){a.onShow("onShowEvent",function(t){if(AudioMng.effectState&&AudioMng.resumeAll(AudioOpObjType.Effect),AudioMng.musicState&&AudioMng.resumeAll(AudioOpObjType.Music),t){var e=t.query;if(e){if(e.model)switch(parseInt(e.model)){case SharePos.RANK:GameMng.popRank(RankType.GroupRank,t.shareTicket,!0)}t.query.position_id&&(console.log("\u7edf\u8ba1\u5206\u4eab\u70b9"),console.log("res.query.position_id = ",t.query.position_id),console.log("res.query.share_id = ",t.query.share_id),a.shareStat(t.query.position_id,t.query.share_id))}console.log("onShowEvent ",t)}})},closeCheck:function(){"undefined"!=typeof wx&&wx.offHide(this.onHide),a.offShow("onShowEvent")},checkPropShare:function(t){return 1!=a.invite_flag||(void 0!=t.shareTicket||(a.showToast(shareResultErr.err1,3e3),!1))},getGainByShare:function(t,e,i){this.checkShareGroupTerm(t,function(t){switch(t!==ShareGroupState.State1&&i&&i(t),t){case ShareGroupState.State1:e&&e(t);break;case ShareGroupState.State3:a.shareGroup_fail_toast&&ToastMng.showToast(a.shareGroup_fail_toast,2);break;case ShareGroupState.State5:a.sharePersonal_fail_toast&&ToastMng.showToast(a.sharePersonal_fail_toast,2);break;default:ToastMng.showToast(ShareToastStr[t],2)}})},getGainWithSign:function(t,e){var i=e&&this.getPropShareTable(e);if(i&&i.beUse)ToastMng.showToast("Already received!",2e3);else{var n=5;t===PropType.SKIN&&(n={skin:SkinDataHandler.Instant.curPropSkin,value:-1}),NotificationCenter.Instant.post(NotificationMsg.PROP_UPDATE,{type:t,value:n}),e&&this.setPropShareTable(e,!0)}},getPropShareTable:function(t){return o.Instant.getData("propShareTable")[t]},setPropShareTable:function(t,e,i){var n=o.Instant.getData("propShareTable");n[t]||(n[t]={}),i&&(n[t].time=i),n[t].beUse=e,o.Instant.setData("propShareTable",n)},checkPropShareTime:function(t){return Global.getInterval((new Date).getTime(),t)<1},checkPropCleanTime:function(t){return Global.getInterval((new Date).getTime(),t)>=2},cleanTimeOvePropSign:function(){var t=o.Instant.getData("propShareTable");for(var e in t){var i=t[e];this.checkPropCleanTime(i.time)&&delete t[e]}o.Instant.setData("propShareTable",t)},loadJsonAni:function(t,e){var i=this._getUrlWithoutAsp(e),a=i+".png",o=i+".json";return Promise.all([new Promise(function(t){cc.loader.load(a,function(e,i){t(i)})}),new Promise(function(t){cc.loader.load(o,function(e,i){t(i)})})]).then(function(e){var i=n(e,2),a=i[0],o=i[1],s=o.mc.gif.frames.map(function(t){var e=o.res[t.res];return new cc.SpriteFrame(a,cc.rect(e.x,e.y,e.w,e.h),!1,cc.v2(t.x,t.y),cc.size(e.w,e.h))}),c=void 0;c=t.getComponent(cc.Animation)?t.getComponent(cc.Animation):t.addComponent(cc.Animation),t.getComponent(cc.Sprite)||t.addComponent(cc.Sprite);var r=o.mc.gif.frameRate,h=cc.AnimationClip.createWithSpriteFrames(s,r);return h.name="ani_frame",h.wrapMode=cc.WrapMode.Loop,c.addClip(h),c.play("ani_frame"),t})},_getUrlWithoutAsp:function(t){var e=t.lastIndexOf(".");return e>=0?t.substring(0,e):t},getPlatform:function(){return"android"},exitGame:function(){a._checkWx(console.error("wx.exitMiniProgram() fail"),null,"exitMiniProgram")?wx.exitMiniProgram():close()},reloadGame:function(){a._checkWx(function(){console.error("wx.applyUpdate() fail")},null,"applyUpdate")?wx.applyUpdate():location.reload()},showModal:function(t){"undefined"!=typeof wx&&wx.showModal(t)},videoGain:function(t,e,i){if(IsWx)PlatformMgr.hasVideo()?PlatformMgr.showVideo(function(i){i?t&&t():e&&e()},function(){i&&i()}):i&&i();else{var n=Math.getRandomInt(0,3,!0);0===n?t&&t():1===n?(e&&e(),ToastMng.showToast("Gain failed, please watch over the short video")):i&&i()}}};window.WxSDK=s,e.exports=s,cc._RF.pop()},{LocalStorageUtils:"LocalStorageUtils",sdk:"sdk"}],sdk:[function(t,e,i){"use strict";cc._RF.push(e,"2a635PwGlJGt5UE/p5KuIlv","sdk");var n=cc.sys.platform==cc.sys.WECHAT_GAME?4:"1.2.5";if(window.wx&&"function"==typeof wx.getLogManager);var a=function(){},o={game_id:"fruit03",game_version:n,pullCfg:!0,lastPullTime:0,configUrl:"https://list.xiaoyouxiqun.com/conf.php",shareUrl:"https://share.xiaoyouxiqun.com/share_list.php",bannerADPos:1,banner_id:"adunit-4ac0ecef3fbff10b",video_id:"adunit-bd11e5d41eb90482",share_flag:-1,showGameBox:-1,invite_flag:-1,prize_flag:-1,banner_refresh_interval:0,insideAds:{desc:"\u5185\u63a8\u5e7f\u544a",url:"https://list.xiaoyouxiqun.com/get_list.php",list:[],conf:{},onChanged:null,hasAds:function(){return(!window.wx||"function"==typeof wx.navigateToMiniProgram)&&Array.isArray(this.list)&&this.list.length>0}},wallAds:{desc:"\u8bd5\u73a9\u5899",url:"https://list.xiaoyouxiqun.com/get_wall.php",list:[],conf:{},onChanged:null,hasAds:function(){return(!window.wx||"function"==typeof wx.navigateToMiniProgram)&&Array.isArray(this.list)&&this.list.length>0}},onRewardsADClosed:null,onRewardsADLoaded:null,onRemoteLoaded:null,onFirstConfigComplete:null,_firstGetConfig:!0,sys:{},onShow:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this._onShowList.findIndex(function(e){return e.name==t});if(-1!==n){var a=this._onShowList[n];a.callback=e,a.order=i}else this._onShowList.push({name:t,callback:e,order:i});this._onShowTempData&&(this._runOnShowCallback(this._onShowTempData),this._onShowTempData=null)},offShow:function(t){var e=this._onShowList.findIndex(function(e){return e.name==t});return e>=0&&this._onShowList.splice(e,1),e>=0},login:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a("SDK.login"),this._checkWx(n,o)&&wx.getStorage({key:"__uid",success:function(t){e&&e(t.data),o&&o()},fail:function(){i._login(t,e,n,o)},complete:function(){}})},getUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a("SDK.getUserInfo"),this._checkWx(e,i)&&wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:t,fail:e,complete:i})},getUserInfoForce:function(t,e,i){var n=this;a("SDK.getUserInfoForce"),this._checkWx(e,i)&&(this.showLoading("\u8bf7\u7a0d\u5019...",!0),setTimeout(function(){n.getUserInfo(function(e){n.hideLoading(),t&&t(e),i&&i()},function(o){o.errMsg.indexOf("auth deny")>-1||o.errMsg.indexOf("auth denied")>-1?(n.hideLoading(),n.showModal("\u63d0\u793a","\u6e38\u620f\u9700\u8981\u60a8\u6388\u6743\u5934\u50cf\u548c\u7528\u6237\u540d\u4fe1\u606f",function(o){n.openSetting(function(o){n.hideLoading(),a("\u4e00\u76f4\u7b49\u5f85\u6388\u6743"),n.getUserInfoForce(t,e,i)},function(t){n.hideLoading(),e&&e(t),i&&i()})},function(t){n.hideLoading(),e&&e(t),i&&i()})):(n.hideLoading(),e&&e(o),i&&i())})},100))},getUserInfoArray:function(t,e,i,n){a("SDK.getUserInfoArray"),this._checkWx(i,n)&&wx.getUserInfo({openIdList:openIdList,lang:"zh_CN",success:e,fail:i,complete:n})},updateScore:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a("SDK.updateScore "+JSON.stringify(t)),this._checkWx(i,n,"setUserCloudStorage")){var o=this._objectToKVArray(t);a("kv array "+JSON.stringify(o)),wx.setUserCloudStorage({KVDataList:o,success:e,fail:i,complete:n})}},getFriendsScore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a("SDK.getFriendsScore"),this._checkWx(n,o,"getFriendCloudStorage")){wx.getFriendCloudStorage({keyList:t,success:function(t){t.data.forEach(function(t){var e=t.KVDataList,n=i._kvArrayToObject(e);t.data=n}),e&&e(t)},fail:n,complete:o})}},getGroupScore:function(t,e,i,n,o){var s=this;if(a("SDK.getGroupScore"),this._checkWx(n,o,"getGroupCloudStorage")){wx.getGroupCloudStorage({shareTicket:t,keyList:e,success:function(t){t.data.forEach(function(t){var e=t.KVDataList,i=s._kvArrayToObject(e);t.data=i}),i&&i(t)},fail:n,complete:o})}},enableShare:function(t,e,i){var n=this;a("SDK.enableShare"),this._checkWx(e,i,"showShareMenu")&&(this._shareEnabled||wx.showShareMenu({withShareTicket:!0,success:function(e){n._shareEnabled=!0,t&&t(e)},fail:function(t){e&&e(t),i&&i(t)}}))},onShare:function(t,e,i,n,s,c){if(a("SDK.onShare"),this._checkWx(s,c)){var r=[],h=[];Array.isArray(t)?t.forEach(function(t){return r.push(t)}):r.push(t),Array.isArray(e)?e.forEach(function(t){return h.push(t)}):h.push(e);var l=function(t){o.pullCfg=!1;var e="",a="";if(0!=r.length){var l=Math.round(1e11*Math.random())%r.length;e=r[l]}if(0!=h.length){var u=Math.round(1e11*Math.random())%h.length;a=h[u]}return{title:e,imageUrl:a,query:i||"",success:n,fail:s,complete:c}};this._shareEnabled?wx.onShareAppMessage(l):this.enableShare(function(){wx.onShareAppMessage(l)},s,c)}},offShare:function(){a("SDK.offShare"),this._checkWx()&&wx.offShareAppMessage()},onShareWithCallback:function(t){a("SDK.onShareWithCallback"),this._checkWx()&&(this._shareEnabled?wx.onShareAppMessage(t):this.enableShare(function(){wx.onShareAppMessage(t)}))},offShareWithCallback:function(t){a("SDK.offShareWithCallback"),this._checkWx()&&wx.offShareAppMessage(t)},share:function(t,e,i,n,s,c){if(a("SDK.share"),this._checkWx(s,c)){o.pullCfg=!1;var r={title:t,imageUrl:e,query:i||"",success:n,fail:s,complete:c};this._shareEnabled?wx.shareAppMessage(r):this.enableShare(function(){wx.shareAppMessage(r)},s,c)}},subMsg:function(t,e){a("SDK.subMsg"),this._checkWx(e,null,"getOpenDataContext")&&wx.getOpenDataContext().postMessage(t)},showToast:function(t,e,i,n,o){a("SDK.showToast"),this._checkWx(n,o)&&wx.showToast({title:t,icon:"none",duration:e||1e3,success:i,fail:n,complete:o})},showModal:function(t,e,i,n,o){a("SDK.showModal"),this._checkWx(n,o)&&wx.showModal({title:t,content:e,showCancel:!1,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",success:i,fail:n,complete:o})},openSetting:function(t,e,i){a("SDK.openSetting"),this._checkWx(e,i)&&wx.openSetting({success:t,fail:e,complete:i})},showLoading:function(t,e,i,n,o){a("SDK.showLoading"),this._checkWx(n,o,"showLoading")&&wx.showLoading({title:t,mask:e,onSuccess:i,onFail:n,onComplete:o})},hideLoading:function(t,e,i){a("SDK.hideLoading"),this._checkWx(e,i,"hideLoading")&&wx.hideLoading({onSuccess:t,onFail:e,onComplete:i})},_rewardsAdLoaded:!1,hasVideo:function(){return a("PlatformMgr.hasVideo"),this._videoAd&&this._videoAd.isReady?this._videoAd.isReady():this.video_id&&this._videoAd&&this._rewardsAdLoaded},showVideo:function(t,e){var i=this;a("PlatformMgr.showVideo"),this.video_id?this._videoAd?(this.onRewardsADClosed=t,this._videoAd.load().then(function(){a("\u5e7f\u544a\u5bf9\u8c61: ",i._videoAd),i._videoAd.show().then(function(){i._rewardsAdLoaded=!1,a("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u6210\u529f!")}).catch(function(t){a("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25: ",t),e&&e(t)})}).catch(function(t){a("\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25: ",t),e&&e(t)})):(a("\u89c6\u9891\u5e7f\u544a\u7ec4\u4ef6\u672a\u521b\u5efa!"),e&&e({errMsg:"\u89c6\u9891\u5e7f\u544a\u7ec4\u4ef6\u672a\u521b\u5efa!"})):(a("\u672a\u542f\u7528\u89c6\u9891\u5e7f\u544a!"),e&&e({errMsg:"\u672a\u542f\u7528\u89c6\u9891\u5e7f\u544a!"}))},_bannerTimer:0,_bannerVisible:!1,showBanner:function(){var t=this;if(a("PlatformMgr.showBanner"),this._bannerVisible=!1,this.banner_id){var e=function(e){e>0&&(t._bannerTimer&&(clearTimeout(t._bannerTimer),t._bannerTimer=0),t._bannerTimer=setTimeout(function(){t._banner&&(a("\u5b9a\u65f6\u79fb\u9664\u6a2a\u5e45\u5e7f\u544a"),t._banner.destroy(),t._banner=null,t._bannerVisible=!1),a("\u5b9a\u65f6\u91cd\u65b0\u663e\u793a\u6a2a\u5e45\u5e7f\u544a"),t._bannerTimer=setTimeout(function(){t.showBanner()},60)},1e3*e))},i=function(){a("\u6a2a\u5e45\u5e7f\u544a\u663e\u793a\u6210\u529f!"),t._bannerVisible=!0,e(t.banner_refresh_interval)},n=function(i){a("\u6a2a\u5e45\u5e7f\u544a\u663e\u793a\u5931\u8d25! ",i),a("\u5c06\u5728"+t.banner_refresh_interval+"\u79d2\u540e\u91cd\u8bd5(hideBanner\u4f1a\u53d6\u6d88\u91cd\u8bd5)"),e(t.banner_refresh_interval)},o=function(){t._createBannerAd(function(){t._banner.show().then(function(){i()}).catch(function(t){n(t)})},function(t){n(t)},function(e){a("\u6a2a\u5e45\u5e7f\u544a\u8c03\u6574\u5c3a\u5bf8: ",e),a("\u6a2a\u5e45\u5e7f\u544a\u6837\u5f0f: ",t._banner.style)})};this._banner?this._banner.show().then(function(){i()}).catch(function(t){o()}):o()}else a("\u672a\u542f\u7528\u6a2a\u5e45\u5e7f\u544a!")},hideBanner:function(){a("PlatformMgr.hideBanner"),this._bannerVisible=!1,this._banner&&this._banner.hide(),this._bannerTimer&&(clearTimeout(this._bannerTimer),this._bannerTimer=0)},removeBanner:function(){a("SDK.removeBanner"),this._bannerVisible=!1,this._banner&&(this._banner.destroy(),this._banner=null),this._bannerTimer&&(clearTimeout(this._bannerTimer),this._bannerTimer=0)},showImage:function(t,e,i,n){a("SDK.showImage"),this._checkWx(i,n)&&wx.previewImage({current:t,urls:[t],success:function(t){o.pullCfg=!1,e(t)},fail:i,complete:n})},showMoreGameAds:function(t,e,i){a("SDK.showMoreGameAds"),this.showImage(_MORE_GAME_URL,t,e,i)},showInsideAds:function(t,e,i,n){a("SDK.showInsideAds");t.app_id,t.app_path;window.wx&&"function"==typeof wx.navigateToMiniProgram&&t.app_id?(a("\u76f4\u63a5\u8df3\u8f6c\u81f3\u5c0f\u7a0b\u5e8f"),wx.navigateToMiniProgram({appId:t.app_id,path:t.app_path,extraData:"",success:function(t){t&&t.errMsg&&t.errMsg.indexOf("fail")>-1?(a("\u76f4\u63a5\u8df3\u8f6c\u81f3\u5c0f\u7a0b\u5e8f\u6210\u529f, \u4f46\u6709\u9519\u8bef\u4fe1\u606f: ",t),i&&i(t)):(a("\u76f4\u63a5\u8df3\u8f6c\u81f3\u5c0f\u7a0b\u5e8f\u6210\u529f: ",t),e&&e(t))},fail:i,complete:n})):(a("\u4e0d\u652f\u6301\u8df3\u8f6c\u81f3\u5c0f\u7a0b\u5e8f"),i&&i(),n&&n())},getShareConfig:function(t){if(!this._shareConfig)return null;var e=this._shareConfig.findIndex(function(e){return e.position_id==t});if(-1==e)return null;var i=this._shareConfig[e];return i.share_pic_local?(a("\u4f7f\u7528\u8fdc\u7a0b\u5206\u4eab\u914d\u7f6e: ",t,"  config: ",i),i):null},shareStat:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;wx.request({url:"https://share.xiaoyouxiqun.com/report.php",data:{game_id:"fruit03",version:n,position_id:t,share_id:e,self:i},header:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},success:function(t){a("\u5206\u4eab\u7edf\u8ba1\u63d0\u4ea4\u6210\u529f: ",t)},fail:function(t){a("\u5206\u4eab\u7edf\u8ba1\u63d0\u4ea4\u5931\u8d25: ",t)}})},compareVersion:function(t,e){"string"!=typeof t&&(t=t.toString?t.toString():"0"),"string"!=typeof e&&(e=e.toString?e.toString():"0");for(var i=t.split("."),n=e.split("."),a=Math.max(i.length,n.length),o=0,s=0;s<a&&0==(o=(parseInt(i[s])||0)-(parseInt(n[s])||0));++s);return o},checkWxVersion:function(t){return this._checkWx()?this.compareVersion(this.sys.version,t):-1},checkWxSdkVersion:function(t){return this._checkWx()?this.compareVersion(this.sys.SDKVersion||"1.0.1",t):-1},isIos:function(){return!!this._checkWx()&&("ios"==this.sys.platform||this.sys.system.indexOf("iOS")>=0)},isAndroid:function(){return!!this._checkWx()&&("android"==this.sys.platform||this.sys.system.indexOf("Android")>=0)},isIphoneX:function(){return!!this._checkWx()&&!!this.sys.model.match("iPhone X")},_shareEnabled:!1,_checkWx:function(t,e,i){return"undefined"==typeof wx?(t&&t(),e&&e(),!1):!i||void 0!=wx[i]||(t&&t({code:999,errMsg:"\u8bf7\u5347\u7ea7\u4f60\u7684\u5fae\u4fe1\u7248\u672c!"}),e&&e(),!1)},_objectToKVArray:function(t){var e=[];if(t instanceof Object)for(var i in t)e.push({key:i,value:t[i]+""});else t instanceof Array&&(e=t);return e},kvArrayToObject:function(t){var e={};return t.forEach(function(t){void 0!=t.key&&void 0!=t.value&&(e[t.key]=t.value)}),e},_checkSession:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;wx.checkSession({success:function(){t?o.getUserInfo(e,n,a):(e&&e(),a&&a())},fail:function(){i._login(t,e,n,a)},complete:function(){}})},_login:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;wx.login({success:function(s){a("login code: "+s.code),t?o.getUserInfo(e,i,n):(e&&e(s),n&&n())},fail:function(){i&&i(),n&&n()},complete:function(){}})},_onShowList:[],_onShowTempData:null,_runOnShowCallback:function(t){a("_runOnShowCallback"),a(t),this._onShowList.sort(function(t,e){return t.order<e.order}),0==this._onShowList.length?this._onShowTempData=t:this._onShowList.forEach(function(e){e&&e.callback&&e.callback(t)})},_getRemoteConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=wx.getLaunchOptionsSync(),s={game_id:"fruit03",version:n,cid:"",os:""};a.query&&a.query.cid&&(s.cid=a.query.cid),o.sys&&o.sys.platform&&"string"==typeof o.sys.platform&&(s.os=o.sys.platform.toLowerCase(),"android"!=s.os&&"ios"!=s.os&&(s.os="")),wx.request({url:this.configUrl,header:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},method:"POST",data:s,success:t,fail:e,complete:i})},_shareConfig:null,_getRemoteShareConfig:function(){var t=this;this.shareUrl&&wx.request({url:this.shareUrl,data:{game_id:"fruit03",version:n},header:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},success:function(e){if(200==e.statusCode&&e.data)try{var i=void 0;void 0!=(i="string"==typeof e.data?JSON.parse(e.data):e.data).code&&0==i.code&&Array.isArray(i.share)?(a("\u8fdc\u7a0b\u62c9\u53d6\u5206\u4eab\u914d\u7f6e\u6210\u529f: ",i),t._shareConfig=i.share,t._loadShareImage()):(a("\u8fdc\u7a0b\u62c9\u53d6\u5206\u4eab\u914d\u7f6e\u5931\u8d25: ",i),t._shareConfig=null)}catch(e){a("\u8fdc\u7a0b\u62c9\u53d6\u5206\u4eab\u914d\u7f6e\u5931\u8d25: ",e),t._shareConfig=null}else a("\u8fdc\u7a0b\u62c9\u53d6\u5206\u4eab\u914d\u7f6e\u5931\u8d25: ",e),t._shareConfig=null},fail:function(e){a("\u8fdc\u7a0b\u62c9\u53d6\u5206\u4eab\u914d\u7f6e\u5931\u8d25: ",e),t._shareConfig=null}})},_downloadedFiles:[],_loadShareImage:function(){var t=this,e=this._shareConfig,i=[],n=function(t,n){i.push(t+JSON.stringify(n)),i.length>=e.length&&a("\u4e0b\u8f7d\u5206\u4eab\u56fe\u7247\u5b8c\u6210: ",i)};e.forEach(function(e,i){var a=t._downloadedFiles.findIndex(function(t){return t.url==e.share_pic});if(-1!=a){var o=t._downloadedFiles[a];return e.share_pic_local=o.file,void n("\u4f7f\u7528\u5df2\u7ecf\u4e0b\u597d\u7684\u6587\u4ef6:",o.file)}setTimeout(function(){wx.downloadFile({url:e.share_pic,header:{},success:function(i){200==i.statusCode?(n("\u4e0b\u8f7d\u6587\u4ef6\u6210\u529f:",i),e.share_pic_local=i.tempFilePath,t._downloadedFiles.push({url:e.share_pic,file:i.tempFilePath})):n("\u4e0b\u8f7d\u6587\u4ef6\u51fa\u9519:",i)},fail:function(t){n("\u4e0b\u8f7d\u6587\u4ef6\u51fa\u9519:",t)}})},200*i)})},_getAds:function(t){if(t.url){var e=wx.getLaunchOptionsSync(),i={game_id:"fruit03",version:n,cid:"",os:""};e.query&&e.query.cid&&(i.cid=e.query.cid),o.sys&&o.sys.platform&&"string"==typeof o.sys.platform&&(i.os=o.sys.platform.toLowerCase(),"android"!=i.os&&"ios"!=i.os&&(i.os="")),wx.request({url:t.url,data:i,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},success:function(e){if(200==e.statusCode&&e.data&&0==e.data.code){var i=e.data;a("\u8fdc\u7a0b\u62c9\u53d6"+t.desc+"\u6210\u529f: ",i),t.list=i.list,t.conf=i.conf,t.onChanged&&t.onChanged(t)}else a("\u8fdc\u7a0b\u62c9\u53d6"+t.desc+"\u5931\u8d25: ",e)},fail:function(e){a("\u8fdc\u7a0b\u62c9\u53d6"+t.desc+"\u5931\u8d25: ",e)}})}},_bannerResetPosition:!1,_createBannerAd:function(t,e,i){var n=this;if(a("SDK._createBannerAd"),this._checkWx(null,null,"createBannerAd")){this._banner&&(this._banner.destroy(),this._banner=null);var o=this.sys.screenWidth,s=this.sys.screenHeight;return this._bannerResetPosition=!1,this._banner=wx.createBannerAd({adUnitId:this.banner_id,style:{left:(o-300)/2,top:0==this.bannerADPos?0:s-104,width:300}}),this._banner.onResize&&this._banner.onResize(function(t){if(!n._bannerResetPosition){if(1==n.bannerADPos){var e=n.sys.screenHeight-t.height;n._banner.style.top=e}n._bannerResetPosition=!0,i&&i(t),cc.systemEvent.emit("banner_changed")}}),this._banner.onLoad(t),this._banner.onError(e),this._banner}a("\u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301\u6a2a\u5e45\u5e7f\u544a!")},_loadRewardedVideoAd:function(){var t=this;a("SDK._loadRewardedVideoAd"),this._checkWx(null,null,"createRewardedVideoAd")?(this._videoAd=wx.createRewardedVideoAd({adUnitId:this.video_id}),a("\u89c6\u9891\u5e7f\u544a\u5df2\u521b\u5efa: ",this._videoAd),this._videoAd.onClose(function(e){if(a("\u770b\u5b8c\u5e7f\u544a\u56de\u8c03\u53c2\u6570: ",e),t.onRewardsADClosed){var i=!e||void 0===e.isEnded||e.isEnded;t.onRewardsADClosed(i)}}),this._videoAd.onLoad(function(){a("\u4e00\u6761\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u6210\u529f!"),t._rewardsAdLoaded=!0,t.onRewardsADLoaded&&t.onRewardsADLoaded()}),this._videoAd.onError(function(e){a("\u52a0\u8f7d\u4e00\u6761\u89c6\u9891\u5e7f\u544a\u65f6\u51fa\u9519\u4e86: ",e),t._rewardsAdLoaded=!1,setTimeout(function(){t.video_id&&t._videoAd&&t._videoAd.load().then(function(){})},3e3)})):a("\u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301\u89c6\u9891\u5e7f\u544a!")},_destroyRewardedVideoAd:function(){a("SDK._destroyRewardedVideoAd"),this._videoAd&&(this._videoAd.destroy(),this._videoAd=null)}};if(void 0!==e&&(e.exports=o),window.SDK=o,"undefined"!=typeof wx&&wx.getSystemInfoSync&&(o.sys=wx.getSystemInfoSync(),a("SDK.sys",o.sys)),o.video_id&&!o._videoAd&&o._loadRewardedVideoAd(),"undefined"!=typeof wx&&wx.onShow&&wx.onShow(function(t){o._runOnShowCallback(t);var e=(new Date).getTime()/1e3-o.lastPullTime;o.pullCfg&&e>3?(o.lastPullTime=(new Date).getTime()/1e3,o._getRemoteConfig(function(t){if(a("\u8fdc\u7a0b\u62c9\u53d6\u914d\u7f6e(res): ",t),200==t.statusCode&&t.data)try{var e=void 0;if(void 0!=(e="string"==typeof t.data?JSON.parse(t.data):t.data).code&&0==e.code){if(a("\u62c9\u53d6\u5230\u7684\u914d\u7f6e(data.conf): ",e.conf),e.conf)for(var i in e.conf)"video_id"==i&&o[i]!=e.conf[i]?(o[i]=e.conf[i],o._loadRewardedVideoAd()):"banner_id"==i&&o[i]!=e.conf[i]?(o[i]=e.conf[i],o[i]&&o._bannerVisible?(o.removeBanner(),PlatformMgr.showBanner()):o.removeBanner()):o[i]=e.conf[i];o.onRemoteLoaded&&o.onRemoteLoaded(e.conf)}else a("\u8fdc\u7a0b\u62c9\u53d6\u914d\u7f6e\u51fa\u9519(code): ",e)}catch(t){a("\u8fdc\u7a0b\u62c9\u53d6\u914d\u7f6e\u51fa\u9519(catch): ",t)}},function(t){a("\u8fdc\u7a0b\u62c9\u53d6\u914d\u7f6e\u5931\u8d25(fail): ",t)},function(){o._firstGetConfig&&(o._firstGetConfig=!1,o.onFirstConfigComplete&&o.onFirstConfigComplete())}),o._getAds(o.insideAds),o._getAds(o.wallAds),o._getRemoteShareConfig()):o.pullCfg=!0}),"undefined"!=typeof wx&&"function"==typeof wx.getUpdateManager){var s=wx.getUpdateManager();s.onCheckForUpdate(function(t){a("hasUpdate:"+t.hasUpdate)}),s.onUpdateReady(function(){s.applyUpdate()}),s.onUpdateFailed(function(){})}cc._RF.pop()},{}],tableView:[function(t,e,i){"use strict";cc._RF.push(e,"9aba29YKexFXolpweZzJPKj","tableView");var n=cc.Enum({Horizontal:0,Vertical:1}),a=cc.Enum({None:0,Up:1,Down:2,Left:3,Rigth:4}),o=cc.Enum({LEFT_TO_RIGHT__TOP_TO_BOTTOM:0,TOP_TO_BOTTOM__LEFT_TO_RIGHT:1}),s=cc.Enum({Scroll:0,Flip:1});var c=cc.Class({extends:cc.ScrollView,editor:!1,properties:{_data:null,_minCellIndex:0,_maxCellIndex:0,_paramCount:0,_count:0,_cellCount:0,_showCellCount:0,_groupCellCount:null,_scrollDirection:a.None,_cellPool:null,_page:0,_pageTotal:0,_touchLayer:cc.Node,_loadSuccess:!1,_initSuccess:!1,_scheduleInit:!1,cell:{default:null,type:cc.Prefab,notify:function(t){}},ScrollModel:{default:0,type:n,notify:function(t){this.ScrollModel===n.Horizontal?(this.horizontal=!0,this.vertical=!1,this.verticalScrollBar=null):(this.vertical=!0,this.horizontal=!1,this.horizontalScrollBar=null)},tooltip:"\u6a2a\u5411\u7eb5\u5411\u6ed1\u52a8"},ViewType:{default:0,type:s,notify:function(t){this.ViewType===s.Flip?this.inertia=!1:this.inertia=!0},tooltip:"\u4e3aScroll\u65f6,\u4e0d\u505a\u89e3\u91ca\n\u4e3aFlipw\u65f6\uff0c\u5728Scroll\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u7ffb\u9875\u7684\u884c\u4e3a"},isFill:{default:!1,tooltip:"\u5f53\u8282\u70b9\u4e0d\u80fd\u94fa\u6ee1\u4e00\u9875\u65f6\uff0c\u9009\u62e9isFill\u4e3atrue\u4f1a\u586b\u5145\u8282\u70b9\u94fa\u6ee1\u6574\u4e2aview"},Direction:{default:0,type:o,tooltip:"\u89c4\u5b9acell\u7684\u6392\u5217\u65b9\u5411"},pageChangeEvents:{default:[],type:cc.Component.EventHandler,tooltip:"\u4ec5\u5f53ViewType\u4e3apageView\u65f6\u6709\u6548\uff0c\u521d\u59cb\u5316\u6216\u7ffb\u9875\u65f6\u89e6\u53d1\u56de\u8c03\uff0c\u5411\u56de\u8c03\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff0c\u53c2\u6570\u4e00\u4e3a\u5f53\u524d\u5904\u4e8e\u54ea\u4e00\u9875\uff0c\u53c2\u6570\u4e8c\u4e3a\u4e00\u5171\u591a\u5c11\u9875"}},statics:{_cellPoolCache:{}},onLoad:function(){window.s=this;var t=this;c._tableView.push(this);var e=this.node.destroy;this.node.destroy=function(){t.clear(),e.call(t.node)};var i=this.node._onPreDestroy;this.node._onPreDestroy=function(){t.clear(),i.call(t.node)}},onDestroy:function(){for(var t in this._cellPool&&this._cellPool.clear(),c._tableView)if(c._tableView[t]===this)return void c._tableView.splice(t)},_addListenerToTouchLayer:function(){this._touchLayer=new cc.Node;var t=this._touchLayer.addComponent(cc.Widget);t.isAlignTop=!0,t.isAlignBottom=!0,t.isAlignLeft=!0,t.isAlignRight=!0,t.top=0,t.bottom=0,t.left=0,t.right=0,t.alignMode=cc.Widget.AlignMode,this._touchLayer.parent=this._view},_setStopPropagation:function(){this.node.on("touchstart",function(t){t.stopPropagation()}),this.node.on("touchmove",function(t){t.stopPropagation()}),this.node.on("touchend",function(t){t.stopPropagation()}),this.node.on("touchcancel",function(t){t.stopPropagation()})},_initCell:function(t,e){if(this.ScrollModel===n.Horizontal&&this.Direction===o.TOP_TO_BOTTOM__LEFT_TO_RIGHT||this.ScrollModel===n.Vertical&&this.Direction===o.LEFT_TO_RIGHT__TOP_TO_BOTTOM)for(var i=parseInt(t.name)*t.childrenCount,a=0;a<t.childrenCount;++a){var c=t.children[a].getComponent("viewCell");c&&(c._cellInit_(this),c.init(i+a,this._data,e,[i,a]))}else if(this.ViewType===s.Flip)for(var r=Math.floor(parseInt(t.name)/this._showCellCount),h=r*this._showCellCount*t.childrenCount,l=0;l<t.childrenCount;++l){var u=t.children[l].getComponent("viewCell");u&&(u._cellInit_(this),u.init(this._showCellCount*l+r%this._showCellCount+h,this._data,e,[l+r*t.childrenCount,l]))}else for(var d=0;d<t.childrenCount;++d){var f=t.children[d].getComponent("viewCell");f&&(f._cellInit_(this),f.init(d*this._count+parseInt(t.name),this._data,e,[d,d]))}},_setCellPosition:function(t,e){this.ScrollModel===n.Horizontal?(t.x=0===e?-this.content.width*this.content.anchorX+t.width*t.anchorX:this.content.getChildByName(String(e-1)).x+t.width,t.y=(t.anchorY-this.content.anchorY)*t.height):(t.y=0===e?this.content.height*(1-this.content.anchorY)-t.height*(1-t.anchorY):this.content.getChildByName(String(e-1)).y-t.height,t.x=(t.anchorX-this.content.anchorX)*t.width)},_addCell:function(t){var e=this._getCell();this._setCellAttr(e,t),this._setCellPosition(e,t),e.parent=this.content,this._initCell(e)},_setCellAttr:function(t,e){t.setSiblingIndex(e>=parseInt(t.name)?this._cellCount:0),t.name=e.toString()},_addCellsToView:function(){for(var t=0;t<=this._maxCellIndex;++t)this._addCell(t)},_getCell:function(){if(0===this._cellPool.size()){var t=cc.instantiate(this.cell),e=new cc.Node;e.anchorX=.5,e.anchorY=.5;var i=0;if(this.ScrollModel===n.Horizontal){e.width=t.width;var a=Math.floor(this.content.height/t.height);e.height=this.content.height;for(var o=0;o<a;++o)t||(t=cc.instantiate(this.cell)),t.x=(t.anchorX-.5)*t.width,t.y=e.height/2-t.height*(1-t.anchorY)-i,i+=t.height,t.parent=e,t=null}else{e.height=t.height;var s=Math.floor(this.content.width/t.width);e.width=this.content.width;for(var c=0;c<s;++c)t||(t=cc.instantiate(this.cell)),t.y=(t.anchorY-.5)*t.height,t.x=-e.width/2+t.width*t.anchorX+i,i+=t.width,t.parent=e,t=null}this._cellPool.put(e)}return this._cellPool.get()},_getCellSize:function(){var t=this._getCell(),e=t.getContentSize();return this._cellPool.put(t),e},_getGroupCellCount:function(){var t=this._getCell(),e=t.childrenCount;return this._cellPool.put(t),e},clear:function(){if(this.content){for(var t=this.content.childrenCount-1;t>=0;--t)this._cellPool.put(this.content.children[t]);this._cellCount=0,this._showCellCount=0}},reload:function(t){void 0!==t&&(this._data=t);for(var e=this.content.childrenCount-1;e>=0;--e)this._initCell(this.content.children[e],!0)},_getCellPoolCacheName:function(){return this.ScrollModel===n.Horizontal?this.cell.name+"h"+this.content.height:this.cell.name+"w"+this.content.width},_initTableView:function(){this._scheduleInit=!1,this._cellPool&&this.clear();var t=this._getCellPoolCacheName();c._cellPoolCache[t]||(c._cellPoolCache[t]=new cc.NodePool("viewCell")),this._cellPool=c._cellPoolCache[t],this._cellSize=this._getCellSize(),this._groupCellCount=this._getGroupCellCount(),this._count=Math.ceil(this._paramCount/this._groupCellCount),this.ScrollModel===n.Horizontal?(this._view.width=this.node.width,this._view.x=(this._view.anchorX-this.node.anchorX)*this._view.width,this._cellCount=Math.ceil(this._view.width/this._cellSize.width)+1,this.ViewType===s.Flip?this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.width/this._cellSize.width):this._cellCount=this._count,this._showCellCount=this._cellCount,this._pageTotal=1):(this._pageTotal=Math.ceil(this._count/(this._cellCount-1)),this._count=this._pageTotal*(this._cellCount-1),this._showCellCount=this._cellCount-1):this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.width/this._cellSize.width):this._cellCount=this._count,this._showCellCount=this._cellCount):this._showCellCount=this._cellCount-1,this.content.width=this._count*this._cellSize.width,this.stopAutoScroll(),this.scrollToLeft()):(this._view.height=this.node.height,this._view.y=(this._view.anchorY-this.node.anchorY)*this._view.height,this._cellCount=Math.ceil(this._view.height/this._cellSize.height)+1,this.ViewType===s.Flip?this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.height/this._cellSize.height):this._cellCount=this._count,this._showCellCount=this._cellCount,this._pageTotal=1):(this._pageTotal=Math.ceil(this._count/(this._cellCount-1)),this._count=this._pageTotal*(this._cellCount-1),this._showCellCount=this._cellCount-1):this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.height/this._cellSize.height):this._cellCount=this._count,this._showCellCount=this._cellCount):this._showCellCount=this._cellCount-1,this.content.height=this._count*this._cellSize.height,this.stopAutoScroll(),this.scrollToTop()),this._changePageNum(1-this._page),this._lastOffset=this.getScrollOffset(),this._minCellIndex=0,this._maxCellIndex=this._cellCount-1,this._addCellsToView(),this._initSuccess=!0},initTableView:function(t,e){this._paramCount=t,this._data=e,this._loadSuccess?this._scheduleInit||this._initTableView():(this.ScrollModel===n.Horizontal?(this.horizontal=!0,this.vertical=!1):(this.vertical=!0,this.horizontal=!1),this.verticalScrollBar&&this.verticalScrollBar.node.on("size-changed",function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},this),this.horizontalScrollBar&&this.horizontalScrollBar.node.on("size-changed",function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},this),this._addListenerToTouchLayer(),this._setStopPropagation(),this.node.getComponent(cc.Widget)||this._view.getComponent(cc.Widget)||this.content.getComponent(cc.Widget)?(this.scheduleOnce(this._initTableView),this._scheduleInit=!0):this._initTableView(),this._loadSuccess=!0)},stopAutoScroll:function(){this._scheduleInit?this.scheduleOnce(function(){this.stopAutoScroll()}):(this._scrollDirection=a.None,cc.ScrollView.prototype.stopAutoScroll.call(this))},scrollToBottom:function(t,e){this._scheduleInit?this.scheduleOnce(function(){this.scrollToBottom(t,e)}):(this._scrollDirection=a.Up,cc.ScrollView.prototype.scrollToBottom.call(this,t,e))},scrollToTop:function(t,e){this._scheduleInit?this.scheduleOnce(function(){this.scrollToTop(t,e)}):(this._scrollDirection=a.Down,cc.ScrollView.prototype.scrollToTop.call(this,t,e))},scrollToLeft:function(t,e){this._scheduleInit?this.scheduleOnce(function(){this.scrollToLeft(t,e)}):(this._scrollDirection=a.Rigth,cc.ScrollView.prototype.scrollToLeft.call(this,t,e))},scrollToRight:function(t,e){this._scheduleInit?this.scheduleOnce(function(){this.scrollToRight(t,e)}):(this._scrollDirection=a.Left,cc.ScrollView.prototype.scrollToRight.call(this,t,e))},scrollToOffset:function(t,e,i){if(this._scheduleInit)this.scheduleOnce(function(){this.scrollToOffset(t,e,i)});else{var o=this.getScrollOffset(),s=t.sub(o);this.ScrollModel===n.Horizontal?s.x>0?this._scrollDirection=a.Left:s.x<0&&(this._scrollDirection=a.Rigth):s.y>0?this._scrollDirection=a.Up:s.y<0&&(this._scrollDirection=a.Down),cc.ScrollView.prototype.scrollToOffset.call(this,t,e,i)}},addScrollEvent:function(t,e,i){var n=new cc.Component.EventHandler;n.target=t,n.component=e,n.handler=i,this.scrollEvents.push(n)},removeScrollEvent:function(t){for(var e in this.scrollEvents){if(this.scrollEvents[e].target===t)return void this.scrollEvents.splice(e,1)}},clearScrollEvent:function(){this.scrollEvents=[]},addPageEvent:function(t,e,i){var n=new cc.Component.EventHandler;n.target=t,n.component=e,n.handler=i,this.pageChangeEvents.push(n)},removePageEvent:function(t){for(var e in this.pageChangeEvents){if(this.pageChangeEvents[e].target===t)return void this.pageChangeEvents.splice(e,1)}},clearPageEvent:function(){this.pageChangeEvents=[]},scrollToNextPage:function(){this.scrollToPage(this._page+1)},scrollToLastPage:function(){this.scrollToPage(this._page-1)},scrollToPage:function(t){if(this.ViewType===s.Flip&&t!==this._page&&!(t<1||t>this._pageTotal)){var e=.3*Math.abs(t-this._page);if(this._changePageNum(t-this._page),this._initSuccess){var i=this._view.width,n=this._view.height;i=(this._page-1)*i,n=(this._page-1)*n,this.scrollToOffset({x:i,y:n},e)}else this.scheduleOnce(function(){var t=this._view.width,i=this._view.height;t=(this._page-1)*t,i=(this._page-1)*i,this.scrollToOffset({x:t,y:i},e)})}},getCells:function(t){var e=this,i=function(){var i=[],n=function t(e,i){if(e.length<=1)return e;for(var n=Math.floor(e.length/2),a=e[n],o=[],s=[],c=0;c<e.length;c++)c!==n&&(i?i(e[c],a)?o.push(e[c]):s.push(e[c]):e[c]<=a?o.push(e[c]):s.push(e[c]));return t(o,i).concat([a],t(s,i))}(e.content.children,function(t,e){return parseInt(t.name)<parseInt(e.name)});for(var a in n){var o=n[a];for(var s in o.children)i.push(o.children[s])}t(i)};this._initSuccess?i():this.scheduleOnce(i)},getData:function(){return this._data},getGroupsRange:function(t){var e=this,i=function(){for(var i=[],n=e._minCellIndex;n<=e._maxCellIndex;n++)i.push(n);t(i)};this._initSuccess?i():this.scheduleOnce(i)},_changePageNum:function(t){this._page+=t,this._page<=0?this._page=1:this._page>this._pageTotal&&(this._page=this._pageTotal);var e=!0,i=!1,n=void 0;try{for(var a,o=this.pageChangeEvents[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){a.value.emit([this._page,this._pageTotal])}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}},_touchstart:function(t){this.ScrollModel===n.Horizontal?this.horizontal=!1:this.vertical=!1},_touchmove:function(t){if(this.horizontal===this.vertical){var e=t.getStartLocation(),i=t.getLocation();if(this.ScrollModel===n.Horizontal){if(Math.abs(i.x-e.x)<=7)return}else if(Math.abs(i.y-e.y)<=7)return;this.ScrollModel===n.Horizontal?this.horizontal=!0:this.vertical=!0}},_touchend:function(t){this.ScrollModel===n.Horizontal?this.horizontal=!0:this.vertical=!0,this.ViewType===s.Flip&&this._pageTotal>1&&this._pageMove(t)},_pageMove:function(t){var e=this._view.width,i=this._view.height;if(this.ViewType===s.Flip){var o=this.getScrollOffset(),c=this.getMaxScrollOffset();if(this.ScrollModel===n.Horizontal){if(o.x>=0||o.x<=-c.x)return;if(i=0,Math.abs(t.getLocation().x-t.getStartLocation().x)>this._view.width/4)if(this._scrollDirection===a.Left){if(!(this._page<this._pageTotal))return;this._changePageNum(1)}else if(this._scrollDirection===a.Rigth){if(!(this._page>1))return;this._changePageNum(-1)}}else{if(o.y>=c.y||o.y<=0)return;if(e=0,Math.abs(t.getLocation().y-t.getStartLocation().y)>this._view.height/4)if(this._scrollDirection===a.Up){if(!(this._page<this._pageTotal))return;this._changePageNum(1)}else if(this._scrollDirection===a.Down){if(!(this._page>1))return;this._changePageNum(-1)}}e=(this._page-1)*e,i=(this._page-1)*i,this.scrollToOffset({x:e,y:i},.3)}},_getBoundingBoxToWorld:function(t){var e=t.convertToWorldSpace(cc.v2(0,0));return cc.rect(e.x,e.y,t.width,t.height)},_updateCells:function(){if(this.ScrollModel===n.Horizontal){if(this._scrollDirection===a.Left){if(this._maxCellIndex<this._count-1){var t=this._getBoundingBoxToWorld(this._view);do{var e=this.content.getChildByName(String(this._minCellIndex)),i=this._getBoundingBoxToWorld(e);if(!(i.xMax<=t.xMin))break;e.x=this.content.getChildByName(String(this._maxCellIndex)).x+e.width,this._minCellIndex++,this._maxCellIndex++,this._setCellAttr(e,this._maxCellIndex),i.xMax+(this._maxCellIndex-this._minCellIndex+1)*e.width>t.xMin&&this._initCell(e)}while(this._maxCellIndex!==this._count-1)}}else if(this._scrollDirection===a.Rigth&&this._minCellIndex>0){var o=this._getBoundingBoxToWorld(this._view);do{var s=this.content.getChildByName(String(this._maxCellIndex)),c=this._getBoundingBoxToWorld(s);if(!(c.xMin>=o.xMax))break;s.x=this.content.getChildByName(String(this._minCellIndex)).x-s.width,this._minCellIndex--,this._maxCellIndex--,this._setCellAttr(s,this._minCellIndex),c.xMin-(this._maxCellIndex-this._minCellIndex+1)*s.width<o.xMax&&this._initCell(s)}while(0!==this._minCellIndex)}}else if(this._scrollDirection===a.Up){if(this._maxCellIndex<this._count-1){var r=this._getBoundingBoxToWorld(this._view);do{var h=this.content.getChildByName(String(this._minCellIndex)),l=this._getBoundingBoxToWorld(h);if(!(l.yMin>=r.yMax))break;h.y=this.content.getChildByName(String(this._maxCellIndex)).y-h.height,this._minCellIndex++,this._maxCellIndex++,this._setCellAttr(h,this._maxCellIndex),l.yMin-(this._maxCellIndex-this._minCellIndex+1)*h.height<r.yMax&&this._initCell(h)}while(this._maxCellIndex!==this._count-1)}}else if(this._scrollDirection===a.Down&&this._minCellIndex>0){var u=this._getBoundingBoxToWorld(this._view);do{var d=this.content.getChildByName(String(this._maxCellIndex)),f=this._getBoundingBoxToWorld(d);if(!(f.yMax<=u.yMin))break;d.y=this.content.getChildByName(String(this._minCellIndex)).y+d.height,this._minCellIndex--,this._maxCellIndex--,this._setCellAttr(d,this._minCellIndex),f.yMax+(this._maxCellIndex-this._minCellIndex+1)*d.width>u.yMin&&this._initCell(d)}while(0!==this._minCellIndex)}},_getScrollDirection:function(){var t=this.getScrollOffset(),e=this._lastOffset;this._lastOffset=t,t=t.sub(e),this.ScrollModel===n.Horizontal?t.x>0?this._scrollDirection=a.Rigth:t.x<0?this._scrollDirection=a.Left:this._scrollDirection=a.None:t.y<0?this._scrollDirection=a.Down:t.y>0?this._scrollDirection=a.Up:this._scrollDirection=a.None},update:function(t){cc.ScrollView.prototype.update.call(this,t),this._initSuccess&&this._cellCount!==this._showCellCount&&1!==this._pageTotal&&(this._getScrollDirection(),this._updateCells())}});c._tableView=[],c.reload=function(){for(var t in c._tableView)c._tableView[t].reload()},c.clear=function(){for(var t in c._tableView)c._tableView[t].clear()},cc.tableView=e.export=c,cc._RF.pop()},{}],viewCell:[function(t,e,i){"use strict";cc._RF.push(e,"d1dfablitpJ5rXHxnkR6CpH","viewCell"),cc.Class({extends:cc.Component,properties:{tableView:{default:null,visible:!1},_isCellInit_:!1,_longClicked_:!1},_cellAddMethodToNode_:function(){this.node.clicked=this.clicked.bind(this)},_cellAddTouch_:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){!0===this.node.active&&0!==this.node.opacity&&(this._longClicked_||(this._longClicked_=!0,this.scheduleOnce(this._longClicked,1.5)))},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(){this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){this.clicked(),this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this)},_cellInit_:function(t){this.tableView=t,this._isCellInit_||(this._cellAddMethodToNode_(),this._cellAddTouch_(),this._isCellInit_=!0)},_longClicked:function(){this._longClicked_=!1,this.node.emit(cc.Node.EventType.TOUCH_CANCEL),this.longClicked()},longClicked:function(){},clicked:function(){},init:function(t,e,i,n){}}),cc._RF.pop()},{}],wx_sub:[function(t,e,i){"use strict";cc._RF.push(e,"fae4dz9v+FNVJEVaxB8IdL1","wx_sub");var n=t("sdk");cc.Class({extends:cc.Component,properties:{showSub:cc.Sprite},onLoad:function(){this.curShowType=RankType.NotRank,this._interval=0,this._delay=4,this.tex=new cc.Texture2D},start:function(){this.node.zIndex=1111},update:function(t){this._interval++,this._interval===this._delay&&(this._interval=0,"undefined"!=typeof sharedCanvas&&(this.tex.initWithElement(sharedCanvas),this.tex.handleLoadedTexture(),this.showSub.spriteFrame=new cc.SpriteFrame(this.tex)))},showBeyond:function(){var t=this;this.node.active=!0,this.setSub(RankType.Beyond),setTimeout(function(){n.subMsg({message:"Beyond",score:GameDataHandler.Instant.getScore(),pos:[0,0]}),t.showSub.node.active=!0},1e3)},hideBeyond:function(){n.subMsg({message:"hideBeyond"}),this.showSub.node.active=!1,this.node.active=!1},showMyRank:function(){var t=this;this.node.active=!0,this.setSub(RankType.MyRank),n.subMsg({message:"showMyRank",pos:[0,60]}),setTimeout(function(){t.showSub.node.active=!0},200)},hideMyRank:function(){n.subMsg({message:"hideMyRank"}),this.showSub.node.active=!1,this.node.active=!1},showFriendsRank:function(){var t=this;this.hideGroupRank(),this.hideMyRank(),this.node.active=!0,this.setSub(RankType.FriendsRank),n.subMsg({message:"showFriendsRank"}),n.showLoading("\u52a0\u8f7d\u4e2d\uff01"),setTimeout(function(){t.showSub.node.active=!0,n.hideLoading()},400),this.delShowLyOnShowGpOrFrd()},hideFriendsRank:function(){n.subMsg({message:"hideFriendsRank"}),this.showSub.node.active=!1,this.node.active=!1},showGroupRank:function(t){var e=this;this.hideFriendsRank(),this.hideMyRank(),this.node.active=!0,this.setSub(RankType.GroupRank),n.showLoading("\u52a0\u8f7d\u4e2d\uff01"),n.subMsg({message:"group",ticket:t}),setTimeout(function(){e.showSub.node.active=!0,n.hideLoading()},1e3)},hideGroupRank:function(){this.node.active=!1,this.showSub.node.active=!1,n.subMsg({message:"hideGroup"})},delShowLyOnShowGpOrFrd:function(){},delShowLyOnHideGp:function(){console.log(GameMng.node),GameMng.startLy.node.active?this.node.active=!1:GameMng.playLy.node.active&&this.showMyRank()},delShowLyOnHideFrd:function(){console.log(GameMng.node),GameMng.startLy.node.active?this.node.active=!1:GameMng.playLy.node.active&&this.showMyRank()},hide:function(t){switch(console.log(this.curShowType),this.curShowType){case RankType.FriendsRank:this.hideFriendsRank(),this.delShowLyOnHideFrd();break;case RankType.GroupRank:this.hideGroupRank(),this.delShowLyOnHideGp()}},setSub:function(t){this.curShowType=t;var e=cc.view.getVisibleSize();this.showSub.node.position=cc.v2(0,0),this.curShowType===RankType.FriendsRank||this.curShowType===RankType.GroupRank?(e=cc.size(624,750),this.showSub.node.setContentSize(e),this.showSub.node.position=cc.v2(0,40)):this.curShowType===RankType.MyRank?(e=cc.size(550,600),this.showSub.node.setContentSize(e),this.showSub.node.position=cc.v2(0,81)):this.curShowType===RankType.Beyond&&(e=cc.size(190,80),this.showSub.node.setContentSize(e),this.showSub.node.position=cc.v2(.5*(cc.view.getVisibleSize().width-e.width),464)),"undefined"!=typeof sharedCanvas&&(sharedCanvas.width=e.width,sharedCanvas.height=e.height)}}),cc._RF.pop()},{sdk:"sdk"}]},{},["ColliderBase","DataHandler","DragonBonesBase","MngBase","NodeBase","My","MyNodePool","PoolNodeBase","PopLayerBase","ShanGuang","Singleton","ToastBase","CCLabelChange","CanvasFit","CommonNode","FakeGravity","FeedbackBtn","InsideAds","Mask","OnBannerResize","Server+Auth","Server+Report","Server","SwitchNode","UserInfoBtn","WxSDK+Controller","WxSDK+Report","WxSDK+Server","WxSDK+Share","WxSDK","Common","Constant","Define","RankPop2","RankCell","RankLayer","LeaderBoardManager","PlatformMgr","sdk","AgainSign","SignDataMng","SignView","RewardBox","tableView","viewCell","TestBtn","TestLy","wx_sub","ArrayCovert","CCConvert","MathConvert","NumberConvert","StringConvert","GameDataInfo","MissionInfo","SkinInfo","GameDataHandler","MissionDataHandler","SkinDataHandler","FileUtils+Loader","FileUtils","LocalStorageUtils","NotificationCenter","AudioMng","PrefabMng","TextureMng","DataLoading","Dot","FruitCollider","FruitItem","KnifeCollider","ThreePropBtn","Bg","EffectLy","FruitPlayLy","KnifeLy","LevelProgressBar","PlateLy","PlayLy","ShapeEdit","SkinLy","StartLy","EditNamePop","ExitPop","FailPop","FailPop2","Gift","LuckTurnTable","PausePop","PropBoxPop","PropBoxPop2","RankPop","RatePop","ResultPop","ResultPop2","SetLy","Turntable","WinLy","WinLy2","ColliderMng","GameMng","LoadingMng","ToastMng"]);